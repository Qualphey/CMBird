{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./Mellisuga/core/admin/dist/Admins/src/account.html","webpack:///./Mellisuga/core/admin/dist/Admins/src/account.js","webpack:///./Mellisuga/core/admin/dist/Admins/src/index.js","webpack:///./globals/modules/codemirror.ui/index.js","webpack:///./globals/modules/codemirror.ui/noscroll.css","webpack:///./globals/modules/utils/xhr.js","webpack:///./globals/modules/utils/xhr_async.js","webpack:///./node_modules/babel-polyfill/lib/index.js","webpack:///./node_modules/codemirror/addon/edit/closebrackets.js","webpack:///./node_modules/codemirror/addon/edit/closetag.js","webpack:///./node_modules/codemirror/addon/edit/matchbrackets.js","webpack:///./node_modules/codemirror/addon/edit/matchtags.js","webpack:///./node_modules/codemirror/addon/fold/xml-fold.js","webpack:///./node_modules/codemirror/addon/scroll/simplescrollbars.css","webpack:///./node_modules/codemirror/addon/scroll/simplescrollbars.js","webpack:///./node_modules/codemirror/lib/codemirror.css","webpack:///./node_modules/codemirror/lib/codemirror.js","webpack:///./node_modules/codemirror/mode/css/css.js","webpack:///./node_modules/codemirror/mode/htmlmixed/htmlmixed.js","webpack:///./node_modules/codemirror/mode/javascript/javascript.js","webpack:///./node_modules/codemirror/mode/xml/xml.js","webpack:///./node_modules/codemirror/theme/base16-dark.css","webpack:///./node_modules/core-js/fn/regexp/escape.js","webpack:///./node_modules/core-js/modules/_a-function.js","webpack:///./node_modules/core-js/modules/_a-number-value.js","webpack:///./node_modules/core-js/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/modules/_an-instance.js","webpack:///./node_modules/core-js/modules/_an-object.js","webpack:///./node_modules/core-js/modules/_array-copy-within.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/_array-from-iterable.js","webpack:///./node_modules/core-js/modules/_array-includes.js","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_array-reduce.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_bind.js","webpack:///./node_modules/core-js/modules/_classof.js","webpack:///./node_modules/core-js/modules/_cof.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/core-js/modules/_collection-to-json.js","webpack:///./node_modules/core-js/modules/_collection-weak.js","webpack:///./node_modules/core-js/modules/_collection.js","webpack:///./node_modules/core-js/modules/_core.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/modules/_ctx.js","webpack:///./node_modules/core-js/modules/_date-to-iso-string.js","webpack:///./node_modules/core-js/modules/_date-to-primitive.js","webpack:///./node_modules/core-js/modules/_defined.js","webpack:///./node_modules/core-js/modules/_descriptors.js","webpack:///./node_modules/core-js/modules/_dom-create.js","webpack:///./node_modules/core-js/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/modules/_enum-keys.js","webpack:///./node_modules/core-js/modules/_export.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/_fails.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_flatten-into-array.js","webpack:///./node_modules/core-js/modules/_for-of.js","webpack:///./node_modules/core-js/modules/_global.js","webpack:///./node_modules/core-js/modules/_has.js","webpack:///./node_modules/core-js/modules/_hide.js","webpack:///./node_modules/core-js/modules/_html.js","webpack:///./node_modules/core-js/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_invoke.js","webpack:///./node_modules/core-js/modules/_iobject.js","webpack:///./node_modules/core-js/modules/_is-array-iter.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///./node_modules/core-js/modules/_is-object.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/_iter-call.js","webpack:///./node_modules/core-js/modules/_iter-create.js","webpack:///./node_modules/core-js/modules/_iter-define.js","webpack:///./node_modules/core-js/modules/_iter-detect.js","webpack:///./node_modules/core-js/modules/_iter-step.js","webpack:///./node_modules/core-js/modules/_iterators.js","webpack:///./node_modules/core-js/modules/_library.js","webpack:///./node_modules/core-js/modules/_math-expm1.js","webpack:///./node_modules/core-js/modules/_math-fround.js","webpack:///./node_modules/core-js/modules/_math-log1p.js","webpack:///./node_modules/core-js/modules/_math-scale.js","webpack:///./node_modules/core-js/modules/_math-sign.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/core-js/modules/_metadata.js","webpack:///./node_modules/core-js/modules/_microtask.js","webpack:///./node_modules/core-js/modules/_new-promise-capability.js","webpack:///./node_modules/core-js/modules/_object-assign.js","webpack:///./node_modules/core-js/modules/_object-create.js","webpack:///./node_modules/core-js/modules/_object-dp.js","webpack:///./node_modules/core-js/modules/_object-dps.js","webpack:///./node_modules/core-js/modules/_object-forced-pam.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/core-js/modules/_object-gops.js","webpack:///./node_modules/core-js/modules/_object-gpo.js","webpack:///./node_modules/core-js/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/modules/_object-keys.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/core-js/modules/_parse-float.js","webpack:///./node_modules/core-js/modules/_parse-int.js","webpack:///./node_modules/core-js/modules/_perform.js","webpack:///./node_modules/core-js/modules/_promise-resolve.js","webpack:///./node_modules/core-js/modules/_property-desc.js","webpack:///./node_modules/core-js/modules/_redefine-all.js","webpack:///./node_modules/core-js/modules/_redefine.js","webpack:///./node_modules/core-js/modules/_replacer.js","webpack:///./node_modules/core-js/modules/_same-value.js","webpack:///./node_modules/core-js/modules/_set-collection-from.js","webpack:///./node_modules/core-js/modules/_set-collection-of.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_set-species.js","webpack:///./node_modules/core-js/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/modules/_shared-key.js","webpack:///./node_modules/core-js/modules/_shared.js","webpack:///./node_modules/core-js/modules/_species-constructor.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/_string-at.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/_string-ws.js","webpack:///./node_modules/core-js/modules/_task.js","webpack:///./node_modules/core-js/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/modules/_to-index.js","webpack:///./node_modules/core-js/modules/_to-integer.js","webpack:///./node_modules/core-js/modules/_to-iobject.js","webpack:///./node_modules/core-js/modules/_to-length.js","webpack:///./node_modules/core-js/modules/_to-object.js","webpack:///./node_modules/core-js/modules/_to-primitive.js","webpack:///./node_modules/core-js/modules/_typed-array.js","webpack:///./node_modules/core-js/modules/_typed-buffer.js","webpack:///./node_modules/core-js/modules/_typed.js","webpack:///./node_modules/core-js/modules/_uid.js","webpack:///./node_modules/core-js/modules/_user-agent.js","webpack:///./node_modules/core-js/modules/_validate-collection.js","webpack:///./node_modules/core-js/modules/_wks-define.js","webpack:///./node_modules/core-js/modules/_wks-ext.js","webpack:///./node_modules/core-js/modules/_wks.js","webpack:///./node_modules/core-js/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/modules/core.regexp.escape.js","webpack:///./node_modules/core-js/modules/es6.array.copy-within.js","webpack:///./node_modules/core-js/modules/es6.array.every.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/es6.array.filter.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/core-js/modules/es6.array.for-each.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/es6.array.index-of.js","webpack:///./node_modules/core-js/modules/es6.array.is-array.js","webpack:///./node_modules/core-js/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/modules/es6.array.join.js","webpack:///./node_modules/core-js/modules/es6.array.last-index-of.js","webpack:///./node_modules/core-js/modules/es6.array.map.js","webpack:///./node_modules/core-js/modules/es6.array.of.js","webpack:///./node_modules/core-js/modules/es6.array.reduce-right.js","webpack:///./node_modules/core-js/modules/es6.array.reduce.js","webpack:///./node_modules/core-js/modules/es6.array.slice.js","webpack:///./node_modules/core-js/modules/es6.array.some.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/es6.array.species.js","webpack:///./node_modules/core-js/modules/es6.date.now.js","webpack:///./node_modules/core-js/modules/es6.date.to-iso-string.js","webpack:///./node_modules/core-js/modules/es6.date.to-json.js","webpack:///./node_modules/core-js/modules/es6.date.to-primitive.js","webpack:///./node_modules/core-js/modules/es6.date.to-string.js","webpack:///./node_modules/core-js/modules/es6.function.bind.js","webpack:///./node_modules/core-js/modules/es6.function.has-instance.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/es6.map.js","webpack:///./node_modules/core-js/modules/es6.math.acosh.js","webpack:///./node_modules/core-js/modules/es6.math.asinh.js","webpack:///./node_modules/core-js/modules/es6.math.atanh.js","webpack:///./node_modules/core-js/modules/es6.math.cbrt.js","webpack:///./node_modules/core-js/modules/es6.math.clz32.js","webpack:///./node_modules/core-js/modules/es6.math.cosh.js","webpack:///./node_modules/core-js/modules/es6.math.expm1.js","webpack:///./node_modules/core-js/modules/es6.math.fround.js","webpack:///./node_modules/core-js/modules/es6.math.hypot.js","webpack:///./node_modules/core-js/modules/es6.math.imul.js","webpack:///./node_modules/core-js/modules/es6.math.log10.js","webpack:///./node_modules/core-js/modules/es6.math.log1p.js","webpack:///./node_modules/core-js/modules/es6.math.log2.js","webpack:///./node_modules/core-js/modules/es6.math.sign.js","webpack:///./node_modules/core-js/modules/es6.math.sinh.js","webpack:///./node_modules/core-js/modules/es6.math.tanh.js","webpack:///./node_modules/core-js/modules/es6.math.trunc.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/core-js/modules/es6.number.epsilon.js","webpack:///./node_modules/core-js/modules/es6.number.is-finite.js","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/modules/es6.number.is-nan.js","webpack:///./node_modules/core-js/modules/es6.number.is-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.max-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.min-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.parse-float.js","webpack:///./node_modules/core-js/modules/es6.number.parse-int.js","webpack:///./node_modules/core-js/modules/es6.number.to-fixed.js","webpack:///./node_modules/core-js/modules/es6.number.to-precision.js","webpack:///./node_modules/core-js/modules/es6.object.assign.js","webpack:///./node_modules/core-js/modules/es6.object.create.js","webpack:///./node_modules/core-js/modules/es6.object.define-properties.js","webpack:///./node_modules/core-js/modules/es6.object.define-property.js","webpack:///./node_modules/core-js/modules/es6.object.freeze.js","webpack:///./node_modules/core-js/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es6.object.get-own-property-names.js","webpack:///./node_modules/core-js/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.object.is-extensible.js","webpack:///./node_modules/core-js/modules/es6.object.is-frozen.js","webpack:///./node_modules/core-js/modules/es6.object.is-sealed.js","webpack:///./node_modules/core-js/modules/es6.object.is.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/es6.object.prevent-extensions.js","webpack:///./node_modules/core-js/modules/es6.object.seal.js","webpack:///./node_modules/core-js/modules/es6.object.set-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.object.to-string.js","webpack:///./node_modules/core-js/modules/es6.parse-float.js","webpack:///./node_modules/core-js/modules/es6.parse-int.js","webpack:///./node_modules/core-js/modules/es6.promise.js","webpack:///./node_modules/core-js/modules/es6.reflect.apply.js","webpack:///./node_modules/core-js/modules/es6.reflect.construct.js","webpack:///./node_modules/core-js/modules/es6.reflect.define-property.js","webpack:///./node_modules/core-js/modules/es6.reflect.delete-property.js","webpack:///./node_modules/core-js/modules/es6.reflect.enumerate.js","webpack:///./node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es6.reflect.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.reflect.get.js","webpack:///./node_modules/core-js/modules/es6.reflect.has.js","webpack:///./node_modules/core-js/modules/es6.reflect.is-extensible.js","webpack:///./node_modules/core-js/modules/es6.reflect.own-keys.js","webpack:///./node_modules/core-js/modules/es6.reflect.prevent-extensions.js","webpack:///./node_modules/core-js/modules/es6.reflect.set-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.reflect.set.js","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./node_modules/core-js/modules/es6.regexp.search.js","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/es6.string.anchor.js","webpack:///./node_modules/core-js/modules/es6.string.big.js","webpack:///./node_modules/core-js/modules/es6.string.blink.js","webpack:///./node_modules/core-js/modules/es6.string.bold.js","webpack:///./node_modules/core-js/modules/es6.string.code-point-at.js","webpack:///./node_modules/core-js/modules/es6.string.ends-with.js","webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./node_modules/core-js/modules/es6.string.fontcolor.js","webpack:///./node_modules/core-js/modules/es6.string.fontsize.js","webpack:///./node_modules/core-js/modules/es6.string.from-code-point.js","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/es6.string.italics.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/es6.string.raw.js","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/es6.string.small.js","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js","webpack:///./node_modules/core-js/modules/es6.string.strike.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./node_modules/core-js/modules/es6.string.sup.js","webpack:///./node_modules/core-js/modules/es6.string.trim.js","webpack:///./node_modules/core-js/modules/es6.symbol.js","webpack:///./node_modules/core-js/modules/es6.typed.array-buffer.js","webpack:///./node_modules/core-js/modules/es6.typed.data-view.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.float64-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int8-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack:///./node_modules/core-js/modules/es6.weak-map.js","webpack:///./node_modules/core-js/modules/es6.weak-set.js","webpack:///./node_modules/core-js/modules/es7.array.flat-map.js","webpack:///./node_modules/core-js/modules/es7.array.flatten.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/modules/es7.asap.js","webpack:///./node_modules/core-js/modules/es7.error.is-error.js","webpack:///./node_modules/core-js/modules/es7.global.js","webpack:///./node_modules/core-js/modules/es7.map.from.js","webpack:///./node_modules/core-js/modules/es7.map.of.js","webpack:///./node_modules/core-js/modules/es7.map.to-json.js","webpack:///./node_modules/core-js/modules/es7.math.clamp.js","webpack:///./node_modules/core-js/modules/es7.math.deg-per-rad.js","webpack:///./node_modules/core-js/modules/es7.math.degrees.js","webpack:///./node_modules/core-js/modules/es7.math.fscale.js","webpack:///./node_modules/core-js/modules/es7.math.iaddh.js","webpack:///./node_modules/core-js/modules/es7.math.imulh.js","webpack:///./node_modules/core-js/modules/es7.math.isubh.js","webpack:///./node_modules/core-js/modules/es7.math.rad-per-deg.js","webpack:///./node_modules/core-js/modules/es7.math.radians.js","webpack:///./node_modules/core-js/modules/es7.math.scale.js","webpack:///./node_modules/core-js/modules/es7.math.signbit.js","webpack:///./node_modules/core-js/modules/es7.math.umulh.js","webpack:///./node_modules/core-js/modules/es7.object.define-getter.js","webpack:///./node_modules/core-js/modules/es7.object.define-setter.js","webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es7.object.lookup-getter.js","webpack:///./node_modules/core-js/modules/es7.object.lookup-setter.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./node_modules/core-js/modules/es7.observable.js","webpack:///./node_modules/core-js/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/modules/es7.promise.try.js","webpack:///./node_modules/core-js/modules/es7.reflect.define-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.delete-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-metadata-keys.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-own-metadata-keys.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-own-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.has-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.has-own-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.metadata.js","webpack:///./node_modules/core-js/modules/es7.set.from.js","webpack:///./node_modules/core-js/modules/es7.set.of.js","webpack:///./node_modules/core-js/modules/es7.set.to-json.js","webpack:///./node_modules/core-js/modules/es7.string.at.js","webpack:///./node_modules/core-js/modules/es7.string.match-all.js","webpack:///./node_modules/core-js/modules/es7.string.pad-end.js","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./node_modules/core-js/modules/es7.string.trim-left.js","webpack:///./node_modules/core-js/modules/es7.string.trim-right.js","webpack:///./node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/modules/es7.symbol.observable.js","webpack:///./node_modules/core-js/modules/es7.system.global.js","webpack:///./node_modules/core-js/modules/es7.weak-map.from.js","webpack:///./node_modules/core-js/modules/es7.weak-map.of.js","webpack:///./node_modules/core-js/modules/es7.weak-set.from.js","webpack:///./node_modules/core-js/modules/es7.weak-set.of.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/modules/web.immediate.js","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./node_modules/core-js/shim.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js"],"names":["XHR","require","CodeMirror","html","module","exports","cfg","element","document","createElement","classList","add","innerHTML","email","name","querySelector","inputs","getElementsByTagName","this_class","json_edit","cfg_string","JSON","stringify","parse","html_editor","appendChild","cm","setSize","setTimeout","refresh","edit_btn","rm_btn","creator","console","log","checked","parentNode","removeChild","super","addEventListener","e","post","command","data","response","destroy","edit_save","style","display","i","length","input","disabled","backgroundColor","cfg_json","getValue","alert","Account","div","getElementById","accounts_array","accounts_list","new_account_form","new_acc_email_input","new_acc_password_input","new_acc_super_input","accounts","p","account","insertBefore","push","new_account_button","undefined","value","new_acc_submit","password","new_acc_cancel","a","text","mode","readonly","init_cfg","height","textarea","lineNumbers","indentWithTabs","tabSize","scrollbarStyle","smartIndent","readOnly","viewportMargin","Infinity","disable_scrollbar","cursorBlinkRate","autoCloseTags","autoCloseBrackets","matchBrackets","fromTextArea","url","params","callback","encodeURIComponent","xhr","XMLHttpRequest","open","send","formData","setRequestHeader","onreadystatechange","readyState","status","responseText","json","param_str","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","Promise","resolve","error","token_name","token","localStorage","getItem","global","_babelPolyfill","Error","DEFINE_PROPERTY","define","O","key","Object","writable","configurable","String","prototype","padStart","padEnd","split","forEach","Array","Function","call","bind","mod","defaults","pairs","triples","explode","Pos","defineOption","val","old","Init","removeKeyMap","keyMap","state","closeBrackets","ensureBound","getOption","addKeyMap","conf","Backspace","handleBackspace","Enter","handleEnter","chars","ch","charAt","handler","handleChar","getConfig","deflt","override","getModeAt","getCursor","Pass","ranges","listSelections","empty","around","charsAround","head","indexOf","cur","replaceRange","line","operation","linesep","lineSeparator","replaceSelection","execCommand","indentLine","contractSelection","sel","inverted","cmpPos","anchor","pos","identical","opening","type","range","curType","next","getRange","stringStartsAfter","test","getTokenTypeAt","prev","isWordChar","getLine","isClosingBracket","left","right","sels","getSelections","replaceSelections","slice","setSelections","triggerElectric","lastIndexOf","str","getTokenAt","start","map","whenClosing","autoCloseSlash","whenOpening","autoCloseGT","htmlDontClose","htmlIndent","replacements","opt","tok","inner","innerMode","getMode","tagName","configuration","dontCloseTags","indentTags","end","lowerTagName","toLowerCase","string","closingTagExists","indent","newPos","dontIndentOnAutoClose","info","autoCloseCurrent","typingSlash","dontIndentOnSlash","replacement","context","commands","closeTag","collection","elt","newTag","scanForClosingTag","Math","min","lastLine","nextClose","tag","cx","onCx","to","ie_lt8","navigator","userAgent","documentMode","matching","findMatchingBracket","where","config","getLineHandle","afterCursor","getWrapperElement","className","match","dir","strict","found","scanForBracket","from","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","re","bracketRegex","lineEnd","max","firstLine","lineNo","pop","autoclear","maxHighlightLen","maxHighlightLineLength","marks","markText","focused","focus","clear","doMatchBrackets","currentlyHighlighted","off","on","defineExtension","oldConfig","doMatchTags","maybeUpdateMatch","matchBothTags","bothTags","tagHit","tagOther","failedTagMatch","somethingSelected","getViewport","findMatchingTag","hit","at","close","other","toMatchingTag","extendSelection","cmp","b","nameStartChar","nameChar","xmlTagStart","Iter","tagAt","iter","nextLine","prevLine","toTagEnd","gt","lastSlash","selfClose","toTagStart","lt","lastIndex","index","toNextTag","toPrevTag","findMatchingClose","startLine","startCh","findMatchingOpen","endLine","endCh","registerHelper","openTag","startPos","endPos","here","findEnclosingTag","Bar","cls","orientation","scroll","screen","total","size","node","self","which","e_preventDefault","axis","startpos","done","move","moveTo","innerBox","getBoundingClientRect","clientX","clientY","top","bottom","onWheel","moved","wheelEventPixels","oldPos","setPos","force","minButtonSize","update","scrollSize","clientSize","barSize","sizeChanged","buttonSize","SimpleScrollbars","place","addClass","horiz","vert","width","measure","getComputedStyle","currentStyle","parseInt","needsH","scrollWidth","clientWidth","needsV","scrollHeight","clientHeight","viewHeight","viewWidth","barLeft","setScrollTop","setScrollLeft","parent","scrollbarModel","simple","overlay","factory","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","Number","flipCtrlCmd","captureRightClick","classTest","rmClass","current","after","removeChildren","count","childNodes","firstChild","removeChildrenAndAdd","content","cssText","createTextNode","eltP","setAttribute","createRange","endNode","r","setEnd","setStart","body","createTextRange","moveToElementText","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","joinClasses","as","selectInput","select","selectionStart","selectionEnd","_e","f","args","arguments","apply","copyObj","obj","target","overwrite","prop","hasOwnProperty","countColumn","startIndex","startValue","search","n","nextTab","Delayed","id","set","ms","clearTimeout","array","scrollerGap","toString","sel_dontScroll","sel_mouse","origin","sel_move","findColumn","goal","col","skipped","spaceStrs","spaceStr","lst","arr","out","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","create","nonASCIISingleCaseWordChar","isWordCharBasic","toUpperCase","helper","source","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","findFirst","pred","midF","mid","ceil","floor","Display","doc","d","scrollbarFiller","gutterFiller","lineDiv","selectionDiv","cursorDiv","lineMeasure","lineSpace","lines","mover","sizer","sizerWidth","heightForcer","gutters","lineGutter","scroller","wrapper","zIndex","paddingRight","draggable","viewFrom","viewTo","first","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","shift","selForContextMenu","activeTouch","init","chunk","children","sz","chunkSize","getBetween","getLines","updateLineHeight","diff","no","lineAtHeight","h","outer","i$1","lh","isLine","l","lineNumberFor","options","lineNumberFormatter","firstLineNumber","sticky","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","concat","attachLine","markedSpansBefore","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","mark","parts","mk","m","find","j","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","lineNo$$1","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","len","findMaxLine","iterateBidiSections","order","part","level","bidiOther","getBidiPartAt","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","types","type$1","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","j$2","nstart","unshift","reverse","getOrder","noHandlers","emitter","attachEvent","map$$1","_handlers","getHandlers","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","button","ctrlKey","dragAndDrop","zwspSupported","zeroWidthElement","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","r1","splitLinesAuto","result","nl","rt","hasSelection","getSelection","te","range$$1","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","dependencies","defineMIME","mime","spec","resolveMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","eat","ok","eatWhile","eatSpace","this$1","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","fromSaved","saved","save","copy","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","processLine","startAt","stream","callBlankLine","readToken","blankLine","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","maps","caches","lastChild","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","background","wrap","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","wrap$1","gutterWrap","lineNumber","gutterLeft","k","gutterWidth","alignable","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","eventInWidget","getAttribute","paddingTop","offsetTop","paddingVert","paddingH","isNaN","scrollGap","displayWidth","displayHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","mapFromLineView","updateExternalMeasurement","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","widgetHeight$$1","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","measureText","textHeight","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","colDiff","round","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","primIndex","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","clearInterval","blinker","visibility","setInterval","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","reset","receivedFocus","updateHeightsInViewport","prevBottom","updateWidgetHeight","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateGutterSpace","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","startWorker","forceScroll","scrollbars","isScroller","measureForScrollbars","docH","docHeight","NativeScrollbars","tabIndex","checkedZeroWidth","minHeight","minWidth","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elt$$1","elementFromPoint","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","borderBottom","coverGutterNextToScrollbar","initScrollbars","nextOpId","startOperation","viewChanged","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","methodOp","docMethodOp","regChange","lendiff","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","time","highlight","highlightWorker","Date","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","marginBottom","borderRightWidth","selectionSnapshot","hasFocus","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","different","toUpdate","selSnapshot","patchDisplay","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutters","specs","gElt","setGuttersForLineNumbers","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","there","deepCopy","Range","normalizeSelection","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","estimateHeight$$1","spansFor","linesFor","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","adjustScrollWhenAboveVisible","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","join","setValue","getLineNumber","getLineHandleVisualStart","lineCount","setCursor","extendSelectionsBy","addSelection","dup","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","CodeMirror$1","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","loadFile","file","allowDropFileTypes","reader","onload","readAsText","draggingText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","keyNames","fromCharCode","basic","pcDefault","fallthrough","emacsy","macDefault","normalizeKeyName","alt","ctrl","cmd","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","transposeChars","newlineAndIndent","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","DOUBLECLICK_DELAY","PastClick","compare","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","optionHandlers","defineOptions","notOnInit","newBreaks","getInputField","spellcheck","guttersChanged","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","dragDropChanged","resetPosition","getField","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","defineInitHook","how","aggressive","curSpace","curSpaceString","indentUnit","indentString","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","handlePaste","pasted","clipboardData","disableInput","electricChars","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addOverlay","modeSpec","removeOverlay","newRanges","getLineTokens","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","getScrollerElement","getGutterElement","registerGlobalHelper","predicate","origDir","findNextLine","moveOnce","boundToLine","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","isInGutter","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","scan","badPos","closing","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","isBlock","nodeName","textContent","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","createField","fastPoll","prepareCopyCut","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","oldScrollY","scrollY","detectingSelectAll","prepareSelectAllHack","extval","rehide","mouseup","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","dontDelegate","method","func","defineDocExtension","version","parserConfig","inline","propertyKeywords","tokenHooks","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","colorKeywords","valueKeywords","allowNested","lineComment","supportsAtComponent","ret","tp","tokenBase","tokenize","tokenString","tokenParenthesized","quote","escaped","pushContext","popContext","pass","states","popAndPass","wordAsValue","stateArg","block","maybeprop","propBlock","_stream","parens","pseudo","atBlock","atComponentBlock","atBlock_parens","restricted_atBlock_before","restricted_atBlock","keyframes","interpolation","textAfter","blockCommentStart","blockCommentEnd","blockCommentContinue","fold","keySet","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","fontProperties_","counterDescriptors_","colorKeywords_","valueKeywords_","allWords","tokenCComment","maybeEnd","defaultTags","script","maybeBackup","pat","attrRegexpCache","getAttrRegexp","attr","regexp","getAttrValue","getTagRegexp","anchored","addTags","findMatchingMode","tagInfo","tagText","htmlMode","multilineTagIndentFactor","multilineTagIndentPastTag","tags","configTags","configScript","scriptTypes","matches","htmlState","inTag","endTagA","endTag","localState","localMode","local","statementIndent","jsonldMode","jsonld","jsonMode","isTS","typescript","wordRE","wordCharacters","keywords","kw","A","B","C","D","operator","atom","isOperatorChar","isJsonldKeyword","readRegexp","inSet","cont","tokenComment","expressionAllowed","tokenQuasi","lexical","lastType","propertyIsEnumerable","brackets","findFatArrow","fatArrowAt","arrow","depth","sawSomething","bracket","atomicTypes","JSLexical","inScope","varname","localVars","vars","parseJS","cc","marked","combinator","expression","statement","lex","inList","register","newContext","registerVarScoped","Var","globalVars","isModifier","defaultVars","pushcontext","pushblockcontext","popcontext","pushlex","poplex","expect","wanted","exp","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typeexpr","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","expr","property","continueQuasi","targetNoComma","maybeTypeArgs","_","getterSetter","afterprop","maybetype","what","sep","proceed","mayberettype","isKW","afterType","typeprop","typearg","maybeReturnType","typeparam","maybeTypeDefault","maybeAssign","vardefCont","proppattern","_type","forspec1","forspec2","formaybeinof","forspec3","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","isContinuedStatement","basecolumn","firstChar","c","doubleIndentSwitch","skipExpression","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","inText","chain","parser","inBlock","doctype","isInText","baseState","tagStart","inAttribute","stringStartCol","closure","isInAttribute","terminator","startOfLine","noIndent","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","attrEqState","attrValueState","attrContinuedState","baseIndent","fullLine","alignCDATA","tagAfter","grabbers","skipAttribute","escape","it","TypeError","cof","msg","UNSCOPABLES","ArrayProto","Constructor","forbiddenField","isObject","toObject","toAbsoluteIndex","toLength","copyWithin","inc","fill","aLen","forOf","ITERATOR","toIObject","IS_INCLUDES","$this","el","ctx","IObject","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","that","aFunction","memo","isRight","isArray","SPECIES","original","speciesConstructor","invoke","arraySlice","factories","construct","F","fn","partArgs","TAG","ARG","tryGet","T","callee","dP","redefineAll","anInstance","$iterDefine","step","setSpecies","DESCRIPTORS","fastKey","validate","SIZE","getEntry","entry","_i","_f","getConstructor","NAME","ADDER","iterable","_t","_l","has","def","setStrong","iterated","kind","_k","classof","toJSON","getWeak","anObject","createArrayMethod","$has","arrayFind","arrayFindIndex","uncaughtFrozenStore","UncaughtFrozenStore","findUncaughtFrozen","store","ufstore","$export","redefine","meta","fails","$iterDetect","setToStringTag","inheritIfRequired","methods","common","IS_WEAK","Base","proto","fixMethod","KEY","entries","NEED","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","G","W","core","__e","$defineProperty","createDesc","object","getTime","$toISOString","toISOString","lz","num","isFinite","RangeError","getUTCFullYear","getUTCMilliseconds","s","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","toPrimitive","NUMBER","defineProperty","is","getKeys","gOPS","pIE","getSymbols","symbols","isEnum","hide","PROTOTYPE","IS_FORCED","IS_GLOBAL","IS_STATIC","S","IS_PROTO","P","IS_BIND","expProto","own","U","R","MATCH","defined","wks","SYMBOL","fns","strfn","rxfn","arg","ignoreCase","multiline","unicode","IS_CONCAT_SPREADABLE","flattenIntoArray","sourceLen","mapper","thisArg","targetIndex","sourceIndex","mapFn","spreadable","isArrayIter","getIterFn","BREAK","RETURN","iterFn","iterator","__g","setPrototypeOf","un","Iterators","isInteger","isRegExp","descriptor","IteratorPrototype","LIBRARY","$iterCreate","getPrototypeOf","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","DEFAULT","IS_SET","FORCED","getMethod","values","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","SAFE_CLOSING","riter","skipClosing","safe","$expm1","expm1","sign","pow","EPSILON","EPSILON32","MAX32","MIN32","roundTiesToEven","fround","$abs","$sign","log1p","scale","inLow","inHigh","outLow","outHigh","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","onFreeze","Map","getOrCreateMetadataMap","targetKey","targetMetadata","keyMetadata","ordinaryHasOwnMetadata","MetadataKey","metadataMap","ordinaryGetOwnMetadata","ordinaryDefineOwnMetadata","MetadataValue","ordinaryOwnMetadataKeys","toMetaKey","macrotask","Observer","MutationObserver","WebKitMutationObserver","process","isNode","notify","flush","domain","exit","nextTick","standalone","observe","characterData","promise","then","task","PromiseCapability","reject","$$resolve","$$reject","$assign","Symbol","K","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframe","iframeDocument","contentWindow","write","Properties","IE8_DOM_DEFINE","Attributes","defineProperties","random","__defineSetter__","gOPD","getOwnPropertyDescriptor","gOPN","windowNames","getOwnPropertyNames","getWindowNames","$keys","hiddenKeys","getOwnPropertySymbols","ObjectProto","arrayIndexOf","names","isEntries","Reflect","ownKeys","$parseFloat","parseFloat","$trim","trim","$parseInt","hex","radix","newPromiseCapability","promiseCapability","bitmap","enumerable","SRC","TO_STRING","$toString","TPL","inspectSource","isFunction","regExp","replacer","COLLECTION","mapping","cb","nextItem","of","buggy","__proto__","stat","uid","SHARED","copyright","toInteger","searchString","quot","createHTML","attribute","p1","maxLength","fillString","stringLength","fillStr","intMaxLength","fillLen","stringFiller","non","ltrim","rtrim","exporter","ALIAS","FORCE","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","queue","ONREADYSTATECHANGE","defer","channel","port","run","listener","port2","port1","onmessage","postMessage","importScripts","number","valueOf","$typed","$buffer","propertyDesc","createArrayIncludes","ArrayIterators","arrayFill","arrayCopyWithin","$DP","$GOPD","Uint8Array","ARRAY_BUFFER","SHARED_BUFFER","BYTES_PER_ELEMENT","$ArrayBuffer","ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayIncludes","arrayValues","arrayKeys","arrayEntries","arrayLastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","arrayToString","arrayToLocaleString","toLocaleString","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","WRONG_LENGTH","$map","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","toOffset","BYTES","speciesFromList","fromList","addGetter","internal","_d","$from","mapfn","$of","TO_LOCALE_BUG","$toLocaleString","every","findIndex","searchElement","includes","separator","middle","some","comparefn","subarray","$begin","byteOffset","$slice","$set","arrayLike","$iterators","isTAIndex","$getDesc","$setDesc","desc","$TypedArrayPrototype$","CLAMPED","GETTER","SETTER","TypedArray","TAC","ABV","TypedArrayPrototype","getter","setter","addElement","$offset","$length","byteLength","klass","$len","$nativeIterator","CORRECT_ITER_NAME","$iterator","DATA_VIEW","WRONG_INDEX","BaseBuffer","LN2","BUFFER","BYTE_LENGTH","BYTE_OFFSET","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","unpackIEEE754","nBits","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","isLittleEndian","numIndex","intIndex","_b","pack","conversion","bufferLength","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt8","setUint8","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","ArrayBufferProto","$setInt8","Typed","TypedArrayConstructors","px","wksExt","$Symbol","USE_SYMBOL","$exports","getIteratorMethod","$re","$every","$filter","$find","forced","$forEach","STRICT","createProperty","$indexOf","NEGATIVE_ZERO","addToUnscopables","Arguments","$reduce","upTo","cloned","$some","$sort","pv","TO_PRIMITIVE","DateProto","INVALID_DATE","HAS_INSTANCE","FunctionProto","FProto","nameRE","strong","MAP","sqrt","$acosh","acosh","MAX_VALUE","$asinh","asinh","$atanh","atanh","cbrt","clz32","LOG2E","cosh","hypot","value1","value2","sum","larg","$imul","imul","UINT16","xn","yn","xl","yl","log10","LOG10E","log2","sinh","E","tanh","trunc","$Number","BROKEN_COF","TRIM","toNumber","argument","third","maxCode","digits","_isFinite","isSafeInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","aNumberValue","$toFixed","toFixed","ERROR","ZERO","multiply","c2","divide","numToString","t","acc","x2","fractionDigits","z","$fails","$toPrecision","toPrecision","precision","$freeze","freeze","$getOwnPropertyDescriptor","$getPrototypeOf","$isExtensible","$isFrozen","isFrozen","$isSealed","isSealed","$preventExtensions","$seal","seal","microtask","newPromiseCapabilityModule","perform","promiseResolve","PROMISE","versions","v8","$Promise","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","_c","_v","_s","reaction","fail","exited","_h","onHandleUnhandled","onUnhandled","unhandled","isUnhandled","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_w","$resolve","executor","err","onFulfilled","onRejected","capability","all","$index","alreadyCalled","race","rApply","fApply","thisArgument","argumentsList","L","rConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","propertyKey","attributes","deleteProperty","Enumerate","enumerate","getProto","receiver","setProto","V","ownDesc","existingDescriptor","$flags","$RegExp","re1","re2","CORRECT_NEW","tiRE","piRE","fiU","proxy","flags","$match","REPLACE","$replace","searchValue","replaceValue","SEARCH","$search","SPLIT","$split","_split","$push","$SPLIT","LENGTH","LAST_INDEX","NPCG","lastLastIndex","splitLimit","separatorCopy","separator2","lastLength","SET","Set","big","blink","bold","$at","codePointAt","ENDS_WITH","$endsWith","endsWith","endPosition","fixed","fontcolor","color","fontsize","$fromCodePoint","fromCodePoint","INCLUDES","italics","point","raw","callSite","tpl","small","STARTS_WITH","$startsWith","startsWith","strike","sup","wksDefine","enumKeys","_create","gOPNExt","$JSON","_stringify","HIDDEN","SymbolRegistry","AllSymbols","OPSymbols","QObject","findChild","setSymbolDesc","protoDesc","sym","isSymbol","$defineProperties","$propertyIsEnumerable","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","$replacer","$isView","isView","fin","viewS","viewT","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint32Array","Uint8ClampedArray","each","weak","WEAK_MAP","tmp","InternalMap","WeakMap","$WeakMap","WEAK_SET","WeakSet","arraySpeciesCreate","flatMap","flatten","depthArg","$includes","asap","isError","clamp","lower","upper","DEG_PER_RAD","PI","RAD_PER_DEG","degrees","radians","fscale","iaddh","x0","x1","y0","y1","$x0","$x1","$y0","imulh","u","$u","$v","u0","v0","u1","v1","isubh","signbit","umulh","__defineGetter__","getOwnPropertyDescriptors","getDesc","__lookupGetter__","__lookupSetter__","$values","OBSERVABLE","cleanupSubscription","subscription","cleanup","subscriptionClosed","_o","closeSubscription","Subscription","observer","subscriber","SubscriptionObserver","unsubscribe","complete","$Observable","Observable","subscribe","observable","items","onFinally","metadata","defineMetadata","metadataKey","metadataValue","deleteMetadata","ordinaryMetadataKeys","oKeys","pKeys","getMetadataKeys","ordinaryGetMetadata","hasOwn","getMetadata","getOwnMetadataKeys","getOwnMetadata","ordinaryHasMetadata","hasMetadata","hasOwnMetadata","$metadata","decorator","getFlags","RegExpProto","$RegExpStringIterator","_r","matchAll","rx","$pad","trimLeft","trimRight","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","$task","MSIE","boundArgs","Op","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","regeneratorRuntime","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","awrap","__await","AsyncIterator","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","skipTempReset","stop","rootEntry","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","eval","webpackPolyfill","deprecate","paths"],"mappings":"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","file":"./main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","module.exports = \"\\n<td class=\\\"admin_accounts_ui_item_name\\\"></td>\\n<td>\\n  <input type=\\\"checkbox\\\" name=\\\"super\\\" disabled />\\n</td>\\n<td class=\\\"json_edit\\\">\\n\\n</td>\\n<td>\\n  <button class=\\\"admin_accounts_ui_item_edit\\\">/</button>\\n  <button class=\\\"admin_accounts_ui_item_remove\\\">X</button>\\n  <button class=\\\"admin_accounts_ui_item_save\\\" style=\\\"display: none;\\\">Save</button>\\n</td>\\n\";","\nconst XHR = require('globals/utils/xhr_async.js');\n\nconst CodeMirror = require(\"globals/codemirror.ui/index.js\");\n\nconst html = require('./account.html');\n\nmodule.exports = class {\n  constructor(cfg) {\n    this.element = document.createElement(\"tr\");\n    this.element.classList.add(\"admin_accounts_ui_item\");\n    this.element.innerHTML = html;\n\n    this.email = cfg.email;\n\n    var name = this.element.querySelector(\".admin_accounts_ui_item_name\")\n    name.innerHTML = cfg.email;\n\n    let inputs = this.element.getElementsByTagName(\"input\");\n\n    let this_class = this;\n\n    var json_edit = this.element.querySelector(\".json_edit\")\n\n    this.cfg_string = JSON.stringify(JSON.parse(cfg.cfg), null, 2)\n\n    this.html_editor = new CodeMirror(this.cfg_string, 'js', true);\n    json_edit.appendChild(this.html_editor.element);\n    this.html_editor.cm.setSize(500, 100);\n\n    setTimeout(function() {\n      this_class.html_editor.cm.refresh();\n    },1);\n\n    let edit_btn = this.element.querySelector(\".admin_accounts_ui_item_edit\");\n    let rm_btn = this.element.querySelector(\".admin_accounts_ui_item_remove\");\n\n    if (cfg.creator) {\n      console.log(\"CFG CREATOR\");\n      inputs[0].checked = true;\n      edit_btn.parentNode.removeChild(edit_btn);\n      rm_btn.parentNode.removeChild(rm_btn);\n    } else if (cfg.super) {\n      inputs[0].checked = true;\n    } else {\n      inputs[0].checked = false;\n    }\n\n    rm_btn.addEventListener(\"click\", async function(e) {\n      const response = await XHR.post('../admin_accounts.io', {\n        command: \"rm\",\n        data: {\n          email: this_class.email\n        }\n      }, 'access_token');\n      if (response === \"success\") {\n        this_class.destroy();\n      } else {\n        console.log(response);\n      }\n    });\n    let edit_save = this.element.querySelector(\".admin_accounts_ui_item_save\");\n    edit_btn.addEventListener(\"click\", function(e) {\n      edit_btn.style.display = \"none\";\n      rm_btn.style.display = \"none\";\n      edit_save.style.display = \"inline-block\";\n\n      for (var i = 0; i < inputs.length; i++) {\n        var input = inputs[i];\n        input.disabled = false;\n      }\n\n      json_edit.removeChild(this_class.html_editor.element);\n      json_edit.style.backgroundColor = \"#222\";\n      this_class.html_editor = new CodeMirror(this_class.cfg_string, 'js', false);\n      json_edit.appendChild(this_class.html_editor.element);\n      this_class.html_editor.cm.setSize(500, 100);\n      this_class.html_editor.cm.refresh();\n    });\n\n    edit_save.addEventListener(\"click\", async function(e) {\n      var cfg_json = this_class.html_editor.cm.getValue();\n      this_class.cfg_string = cfg_json;\n\n      const response = await XHR.post('../admin_accounts.io', {\n        command: \"edit\",\n        data: {\n          email: this_class.email,\n          super: inputs[0].checked,\n          cfg: cfg_json\n        }\n      }, 'access_token');\n      if (response === \"success\") {\n        edit_btn.style.display = \"inline-block\";\n        rm_btn.style.display = \"inline-block\";\n        edit_save.style.display = \"none\";\n\n        for (var i = 0; i < inputs.length; i++) {\n          var input = inputs[i];\n          input.disabled = true;\n        }\n\n        json_edit.removeChild(this_class.html_editor.element);\n        json_edit.style.backgroundColor = \"transparent\";\n        this_class.html_editor = new CodeMirror(cfg_json, 'js', true);\n        json_edit.appendChild(this_class.html_editor.element);\n        this_class.html_editor.cm.setSize(500, 100);\n        this_class.html_editor.cm.refresh();\n      } else {\n        alert(response);\n      }\n    });\n  }\n\n  destroy() {\n    this.element.parentNode.removeChild(this.element);\n  }\n}\n","\nconst XHR = require('globals/utils/xhr_async.js');\nconst CodeMirror = require(\"globals/codemirror.ui/index.js\");\nconst Account = require('./account.js');\n\nlet div = document.getElementById('admin_accounts_ui');\n\nlet accounts_array = [];\n\nlet accounts_list = div.querySelector(\".admin_accounts_ui_list\");\n\nlet new_account_form = div.querySelector(\"#admin_accounts_ui_new_item_input\");\n\nlet new_acc_email_input = new_account_form.querySelector('input[name=\"email\"]');\nlet new_acc_password_input = new_account_form.querySelector('input[name=\"password\"]');\n\nlet new_acc_super_input = new_account_form.querySelector('input[name=\"super\"]');\n\nvar json_edit = div.querySelector(\".new_json_edit\");\n\n(async function() {\n  let accounts = await XHR.post('../admin_accounts.io', {\n    command: \"all\"\n  }, 'access_token');\n\n  for (let p = 0; p < accounts.length; p++) {\n    accounts[p].cfg = JSON.stringify(accounts[p].cfg);\n    var account = new Account(accounts[p]);\n    new_account_form.parentNode.insertBefore(account.element, new_account_form);\n    accounts_array.push(account);\n  }\n})();\n\n\nlet new_account_button = div.querySelector(\"#admin_accounts_ui_new_item\");\nlet html_editor = undefined;\n\nnew_account_button.addEventListener(\"click\", function(e) {\n\n  new_account_button.style.display = \"none\";\n  new_account_form.style.display = \"\";\n\n  new_acc_email_input.value = \"\";\n  new_acc_password_input.value = \"\";\n\n\n  html_editor = new CodeMirror('', 'js', false);\n  json_edit.appendChild(html_editor.element);\n  html_editor.cm.setSize(500, 100);\n  html_editor.cm.refresh();\n});\n\nlet new_acc_submit = new_account_form.querySelector('button[name=\"submit\"]');\nnew_acc_submit.addEventListener(\"click\", async function(e) {\n  var data = {\n    email: new_acc_email_input.value,\n    password: new_acc_password_input.value\n  };\n\n  if (new_acc_super_input.checked) {\n    data.super = true;\n  } else {\n    data.cfg = html_editor.cm.getValue();\n  }\n\n  const response = await XHR.post('../admin_accounts.io', {\n    command: \"add\",\n    data: data\n  }, \"access_token\");\n  if (response === \"success\") {\n    var account = new Account(data);\n    new_account_form.parentNode.insertBefore(account.element, new_account_form);\n    new_account_button.style.display = \"block\";\n    new_account_form.style.display = \"none\";\n  } else {\n    console.log(response);\n  }\n});\n\nlet new_acc_cancel = new_account_form.querySelector('button[name=\"cancel\"]');\nnew_acc_cancel.addEventListener(\"click\", function(e) {\n  new_account_button.style.display = \"block\";\n  new_account_form.style.display = \"none\";\n});\n\nfunction refresh() {\n  for (var a = 0; a < accounts_array.length; a++) {\n    console.log(\"r\", a);\n    accounts_array[a].html_editor.cm.refresh();\n  }\n}\n","'use strict'\n\n//require(\"./style.css\");\n\nconst CodeMirror = require('codemirror');\n\nrequire('codemirror/lib/codemirror.css');\nrequire('codemirror/theme/base16-dark.css');\n\nrequire('codemirror/mode/javascript/javascript');\nrequire('codemirror/mode/css/css');\nrequire('codemirror/addon/edit/closebrackets');\nrequire('codemirror/addon/edit/matchbrackets');\n\nrequire('codemirror/mode/xml/xml');\nrequire('codemirror/mode/htmlmixed/htmlmixed');\n\nrequire('codemirror/addon/edit/closetag');\nrequire('codemirror/addon/edit/matchtags');\n\nrequire('codemirror/addon/scroll/simplescrollbars.css');\nrequire('codemirror/addon/scroll/simplescrollbars.js');\n\n\nvar XHR = require(\"../utils/xhr.js\");\n\nmodule.exports = class {\n  constructor(text, mode, readonly, init_cfg) {\n    this.element = document.createElement(\"div\");\n    this.element.style.height = \"100%\";\n\n    console.log(\"CODEMIRROR INITIALIZED\");\n\n  //  parent.appendChild(this.element);\n\n    var textarea = document.createElement(\"textarea\");\n    this.element.appendChild(textarea);\n\n    var this_class = this;\n\n    textarea.innerHTML = text;\n\n    var cfg = {\n      lineNumbers: true,\n      indentWithTabs: true,\n      tabSize: 2,\n      scrollbarStyle: \"native\",\n      smartIndent: false,\n      readOnly: readonly,\n      viewportMargin: Infinity\n  //  matchTags: true\n    };\n\n    if (init_cfg) {\n      if (init_cfg.disable_scrollbar) {\n        cfg.scrollbarStyle = \"null\";\n        require('./noscroll.css');\n      }\n    }\n\n    if (readonly) {\n      cfg.cursorBlinkRate = -1;\n    }\n\n    switch (mode) {\n      case 'html':\n        cfg.mode = \"htmlmixed\";\n        cfg.autoCloseTags = true;\n    //  matchTags: true\n        break;\n      case 'css':\n        cfg.mode = \"css\";\n        cfg.autoCloseBrackets = true;\n        cfg.matchBrackets = true;\n        break;\n      case 'less':\n        cfg.mode = \"text/x-less\";\n        cfg.autoCloseBrackets = true;\n        cfg.matchBrackets = true;\n        break;\n      case 'js':\n        cfg.mode = \"javascript\";\n        cfg.autoCloseBrackets = true;\n        cfg.matchBrackets = true;\n        break;\n      default:\n        cfg.mode = \"htmlmixed\";\n        cfg.autoCloseTags = true;\n    //  matchTags: true\n    }\n    console.log(\"mode:\", cfg.mode);\n    this_class.cm = CodeMirror.fromTextArea(textarea, cfg);\n    this_class.cm.refresh();\n  }\n}\n","module.exports = undefined","'use strict'\n\nmodule.exports = class {\n  static get(url, params, callback) {\n    if (params) {\n      url += \"?data=\"+encodeURIComponent(JSON.stringify(params));\n    }\n\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener(\"load\", callback);\n    xhr.open(\"GET\", url);\n    xhr.send();\n\n    console.log(url);\n  }\n\n  static post(url, params, callback) {\n    if (params.formData) {\n      console.log(\"FORM DATA\");\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", url);\n    //  xhr.setRequestHeader(\"Content-Type\",\"multipart/form-data\");\n      xhr.send(params.formData);\n      xhr.addEventListener(\"load\", callback);\n      console.log(url);\n    } else {\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", url, true);\n\n      //Send the proper header information along with the request\n      xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n\n      xhr.onreadystatechange = function() {//Call a function when the state changes.\n        if(xhr.readyState == 4 && xhr.status == 200) {\n          callback(xhr.responseText);\n        }\n      }\n\n      var json = JSON.stringify(params);\n      var param_str = 'data='+encodeURIComponent(json);\n      xhr.send(param_str);\n    }\n  }\n\n  static getParamByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n  }\n}\n","\nmodule.exports = class {\n  static async get(url, params) {\n    try {\n      return await new Promise(function (resolve) {\n        if (params) {\n          url += \"?data=\"+encodeURIComponent(JSON.stringify(params));\n        }\n\n        var xhr = new XMLHttpRequest();\n\n        xhr.addEventListener(\"load\", function() {\n          resolve(JSON.parse(this.responseText));\n        });\n        xhr.open(\"GET\", url);\n        xhr.send();\n      });\n    } catch(e) {\n      console.error(e);\n      return undefined;\n    }\n  }\n\n  static async post(url, params, token_name) {\n    try {\n      return await new Promise(function (resolve) {\n        if (params.formData) {\n          console.log(\"FORM DATA\");\n          var xhr = new XMLHttpRequest();\n          xhr.open(\"POST\", url);\n        //  xhr.setRequestHeader(\"Content-Type\",\"multipart/form-data\");\n          xhr.send(params.formData);\n          xhr.addEventListener(\"load\", function() {\n            resolve(JSON.parse(xhr.responseText));\n          });\n          console.log(url);\n        } else {\n          var xhr = new XMLHttpRequest();\n          xhr.open(\"POST\", url, true);\n\n          //Send the proper header information along with the request\n          xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n\n          xhr.onreadystatechange = function() {//Call a function when the state changes.\n            if(xhr.readyState == 4 && xhr.status == 200) {\n              try {\n                resolve(JSON.parse(xhr.responseText));\n              } catch (e) {\n                resolve(xhr.responseText);\n              }\n            }\n          }\n\n          const token = localStorage.getItem(token_name || \"user_access_token\");\n\n          var json = JSON.stringify(params);\n          var param_str = 'data='+encodeURIComponent(json);\n          if (token) {\n            param_str += '&access_token='+token;\n            xhr.send(param_str);\n          } else {\n            xhr.send(param_str);\n          }\n        }\n      });\n    } catch(e) {\n      console.error(e);\n      return undefined;\n    }\n  }\n\n  static getParamByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n  }\n}\n","\"use strict\";\n\nrequire(\"core-js/shim\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nrequire(\"core-js/fn/regexp/escape\");\n\nif (global._babelPolyfill) {\n  throw new Error(\"only one instance of babel-polyfill is allowed\");\n}\nglobal._babelPolyfill = true;\n\nvar DEFINE_PROPERTY = \"defineProperty\";\nfunction define(O, key, value) {\n  O[key] || Object[DEFINE_PROPERTY](O, key, {\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\n\ndefine(String.prototype, \"padLeft\", \"\".padStart);\ndefine(String.prototype, \"padRight\", \"\".padEnd);\n\n\"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\".split(\",\").forEach(function (key) {\n  [][key] && define(Array, key, Function.call.bind([][key]));\n});","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      cm.execCommand(\"goCharLeft\");\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (cm.getLine(cur.line).length == cur.ch ||\n                             isClosingBracket(next, pairs) ||\n                             /\\s/.test(next))) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        cm.execCommand(\"goCharRight\");\n      } else if (type == \"skipThree\") {\n        for (var i = 0; i < 3; i++)\n          cm.execCommand(\"goCharRight\");\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        cm.execCommand(\"goCharLeft\");\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        cm.execCommand(\"goCharRight\");\n      }\n    });\n  }\n\n  function isClosingBracket(ch, pairs) {\n    var pos = pairs.lastIndexOf(ch);\n    return pos > -1 && pos % 2 == 1;\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n/**\n * Tag-closer extension for CodeMirror.\n *\n * This extension adds an \"autoCloseTags\" option that can be set to\n * either true to get the default behavior, or an object to further\n * configure its behavior.\n *\n * These are supported options:\n *\n * `whenClosing` (default true)\n *   Whether to autoclose when the '/' of a closing tag is typed.\n * `whenOpening` (default true)\n *   Whether to autoclose the tag when the final '>' of an opening\n *   tag is typed.\n * `dontCloseTags` (default is empty tags for HTML, none for XML)\n *   An array of tag names that should not be autoclosed.\n * `indentTags` (default is block tags for HTML, none for XML)\n *   An array of tag names that should, when opened, cause a\n *   blank line to be added inside the tag, and the blank line and\n *   closing line to be indented.\n *\n * See demos/closetag.html for a usage example.\n */\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"autoCloseTags\", false, function(cm, val, old) {\n    if (old != CodeMirror.Init && old)\n      cm.removeKeyMap(\"autoCloseTags\");\n    if (!val) return;\n    var map = {name: \"autoCloseTags\"};\n    if (typeof val != \"object\" || val.whenClosing)\n      map[\"'/'\"] = function(cm) { return autoCloseSlash(cm); };\n    if (typeof val != \"object\" || val.whenOpening)\n      map[\"'>'\"] = function(cm) { return autoCloseGT(cm); };\n    cm.addKeyMap(map);\n  });\n\n  var htmlDontClose = [\"area\", \"base\", \"br\", \"col\", \"command\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"meta\", \"param\",\n                       \"source\", \"track\", \"wbr\"];\n  var htmlIndent = [\"applet\", \"blockquote\", \"body\", \"button\", \"div\", \"dl\", \"fieldset\", \"form\", \"frameset\", \"h1\", \"h2\", \"h3\", \"h4\",\n                    \"h5\", \"h6\", \"head\", \"html\", \"iframe\", \"layer\", \"legend\", \"object\", \"ol\", \"p\", \"select\", \"table\", \"ul\"];\n\n  function autoCloseGT(cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    var ranges = cm.listSelections(), replacements = [];\n    var opt = cm.getOption(\"autoCloseTags\");\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var pos = ranges[i].head, tok = cm.getTokenAt(pos);\n      var inner = CodeMirror.innerMode(cm.getMode(), tok.state), state = inner.state;\n      if (inner.mode.name != \"xml\" || !state.tagName) return CodeMirror.Pass;\n\n      var html = inner.mode.configuration == \"html\";\n      var dontCloseTags = (typeof opt == \"object\" && opt.dontCloseTags) || (html && htmlDontClose);\n      var indentTags = (typeof opt == \"object\" && opt.indentTags) || (html && htmlIndent);\n\n      var tagName = state.tagName;\n      if (tok.end > pos.ch) tagName = tagName.slice(0, tagName.length - tok.end + pos.ch);\n      var lowerTagName = tagName.toLowerCase();\n      // Don't process the '>' at the end of an end-tag or self-closing tag\n      if (!tagName ||\n          tok.type == \"string\" && (tok.end != pos.ch || !/[\\\"\\']/.test(tok.string.charAt(tok.string.length - 1)) || tok.string.length == 1) ||\n          tok.type == \"tag\" && state.type == \"closeTag\" ||\n          tok.string.indexOf(\"/\") == (tok.string.length - 1) || // match something like <someTagName />\n          dontCloseTags && indexOf(dontCloseTags, lowerTagName) > -1 ||\n          closingTagExists(cm, tagName, pos, state, true))\n        return CodeMirror.Pass;\n\n      var indent = indentTags && indexOf(indentTags, lowerTagName) > -1;\n      replacements[i] = {indent: indent,\n                         text: \">\" + (indent ? \"\\n\\n\" : \"\") + \"</\" + tagName + \">\",\n                         newPos: indent ? CodeMirror.Pos(pos.line + 1, 0) : CodeMirror.Pos(pos.line, pos.ch + 1)};\n    }\n\n    var dontIndentOnAutoClose = (typeof opt == \"object\" && opt.dontIndentOnAutoClose);\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var info = replacements[i];\n      cm.replaceRange(info.text, ranges[i].head, ranges[i].anchor, \"+insert\");\n      var sel = cm.listSelections().slice(0);\n      sel[i] = {head: info.newPos, anchor: info.newPos};\n      cm.setSelections(sel);\n      if (!dontIndentOnAutoClose && info.indent) {\n        cm.indentLine(info.newPos.line, null, true);\n        cm.indentLine(info.newPos.line + 1, null, true);\n      }\n    }\n  }\n\n  function autoCloseCurrent(cm, typingSlash) {\n    var ranges = cm.listSelections(), replacements = [];\n    var head = typingSlash ? \"/\" : \"</\";\n    var opt = cm.getOption(\"autoCloseTags\");\n    var dontIndentOnAutoClose = (typeof opt == \"object\" && opt.dontIndentOnSlash);\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var pos = ranges[i].head, tok = cm.getTokenAt(pos);\n      var inner = CodeMirror.innerMode(cm.getMode(), tok.state), state = inner.state;\n      if (typingSlash && (tok.type == \"string\" || tok.string.charAt(0) != \"<\" ||\n                          tok.start != pos.ch - 1))\n        return CodeMirror.Pass;\n      // Kludge to get around the fact that we are not in XML mode\n      // when completing in JS/CSS snippet in htmlmixed mode. Does not\n      // work for other XML embedded languages (there is no general\n      // way to go from a mixed mode to its current XML state).\n      var replacement;\n      if (inner.mode.name != \"xml\") {\n        if (cm.getMode().name == \"htmlmixed\" && inner.mode.name == \"javascript\")\n          replacement = head + \"script\";\n        else if (cm.getMode().name == \"htmlmixed\" && inner.mode.name == \"css\")\n          replacement = head + \"style\";\n        else\n          return CodeMirror.Pass;\n      } else {\n        if (!state.context || !state.context.tagName ||\n            closingTagExists(cm, state.context.tagName, pos, state))\n          return CodeMirror.Pass;\n        replacement = head + state.context.tagName;\n      }\n      if (cm.getLine(pos.line).charAt(tok.end) != \">\") replacement += \">\";\n      replacements[i] = replacement;\n    }\n    cm.replaceSelections(replacements);\n    ranges = cm.listSelections();\n    if (!dontIndentOnAutoClose) {\n        for (var i = 0; i < ranges.length; i++)\n            if (i == ranges.length - 1 || ranges[i].head.line < ranges[i + 1].head.line)\n                cm.indentLine(ranges[i].head.line);\n    }\n  }\n\n  function autoCloseSlash(cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    return autoCloseCurrent(cm, true);\n  }\n\n  CodeMirror.commands.closeTag = function(cm) { return autoCloseCurrent(cm); };\n\n  function indexOf(collection, elt) {\n    if (collection.indexOf) return collection.indexOf(elt);\n    for (var i = 0, e = collection.length; i < e; ++i)\n      if (collection[i] == elt) return i;\n    return -1;\n  }\n\n  // If xml-fold is loaded, we use its functionality to try and verify\n  // whether a given tag is actually unclosed.\n  function closingTagExists(cm, tagName, pos, state, newTag) {\n    if (!CodeMirror.scanForClosingTag) return false;\n    var end = Math.min(cm.lastLine() + 1, pos.line + 500);\n    var nextClose = CodeMirror.scanForClosingTag(cm, pos, null, end);\n    if (!nextClose || nextClose.tag != tagName) return false;\n    var cx = state.context;\n    // If the immediate wrapping context contains onCx instances of\n    // the same tag, a closing tag only exists if there are at least\n    // that many closing tags of that type following.\n    for (var onCx = newTag ? 1 : 0; cx && cx.tagName == tagName; cx = cx.prev) ++onCx;\n    pos = nextClose.to;\n    for (var i = 1; i < onCx; i++) {\n      var next = CodeMirror.scanForClosingTag(cm, pos, null, end);\n      if (!next || next.tag != tagName) return false;\n      pos = next.to;\n    }\n    return true;\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && matching[line.text.charAt(pos)]) ||\n        matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\n          var match = matching[ch];\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textare whever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"matchTags\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchTags);\n      cm.off(\"viewportChange\", maybeUpdateMatch);\n      clear(cm);\n    }\n    if (val) {\n      cm.state.matchBothTags = typeof val == \"object\" && val.bothTags;\n      cm.on(\"cursorActivity\", doMatchTags);\n      cm.on(\"viewportChange\", maybeUpdateMatch);\n      doMatchTags(cm);\n    }\n  });\n\n  function clear(cm) {\n    if (cm.state.tagHit) cm.state.tagHit.clear();\n    if (cm.state.tagOther) cm.state.tagOther.clear();\n    cm.state.tagHit = cm.state.tagOther = null;\n  }\n\n  function doMatchTags(cm) {\n    cm.state.failedTagMatch = false;\n    cm.operation(function() {\n      clear(cm);\n      if (cm.somethingSelected()) return;\n      var cur = cm.getCursor(), range = cm.getViewport();\n      range.from = Math.min(range.from, cur.line); range.to = Math.max(cur.line + 1, range.to);\n      var match = CodeMirror.findMatchingTag(cm, cur, range);\n      if (!match) return;\n      if (cm.state.matchBothTags) {\n        var hit = match.at == \"open\" ? match.open : match.close;\n        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, {className: \"CodeMirror-matchingtag\"});\n      }\n      var other = match.at == \"close\" ? match.open : match.close;\n      if (other)\n        cm.state.tagOther = cm.markText(other.from, other.to, {className: \"CodeMirror-matchingtag\"});\n      else\n        cm.state.failedTagMatch = true;\n    });\n  }\n\n  function maybeUpdateMatch(cm) {\n    if (cm.state.failedTagMatch) doMatchTags(cm);\n  }\n\n  CodeMirror.commands.toMatchingTag = function(cm) {\n    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());\n    if (found) {\n      var other = found.at == \"close\" ? found.open : found.close;\n      if (other) cm.extendSelection(other.to, other.from);\n    }\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch; }\n\n  var nameStartChar = \"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n  var nameChar = nameStartChar + \"\\-\\:\\.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n  var xmlTagStart = new RegExp(\"<(/?)([\" + nameStartChar + \"][\" + nameChar + \"]*)\", \"g\");\n\n  function Iter(cm, line, ch, range) {\n    this.line = line; this.ch = ch;\n    this.cm = cm; this.text = cm.getLine(line);\n    this.min = range ? Math.max(range.from, cm.firstLine()) : cm.firstLine();\n    this.max = range ? Math.min(range.to - 1, cm.lastLine()) : cm.lastLine();\n  }\n\n  function tagAt(iter, ch) {\n    var type = iter.cm.getTokenTypeAt(Pos(iter.line, ch));\n    return type && /\\btag\\b/.test(type);\n  }\n\n  function nextLine(iter) {\n    if (iter.line >= iter.max) return;\n    iter.ch = 0;\n    iter.text = iter.cm.getLine(++iter.line);\n    return true;\n  }\n  function prevLine(iter) {\n    if (iter.line <= iter.min) return;\n    iter.text = iter.cm.getLine(--iter.line);\n    iter.ch = iter.text.length;\n    return true;\n  }\n\n  function toTagEnd(iter) {\n    for (;;) {\n      var gt = iter.text.indexOf(\">\", iter.ch);\n      if (gt == -1) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt + 1; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n  function toTagStart(iter) {\n    for (;;) {\n      var lt = iter.ch ? iter.text.lastIndexOf(\"<\", iter.ch - 1) : -1;\n      if (lt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, lt + 1)) { iter.ch = lt; continue; }\n      xmlTagStart.lastIndex = lt;\n      iter.ch = lt;\n      var match = xmlTagStart.exec(iter.text);\n      if (match && match.index == lt) return match;\n    }\n  }\n\n  function toNextTag(iter) {\n    for (;;) {\n      xmlTagStart.lastIndex = iter.ch;\n      var found = xmlTagStart.exec(iter.text);\n      if (!found) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, found.index + 1)) { iter.ch = found.index + 1; continue; }\n      iter.ch = found.index + found[0].length;\n      return found;\n    }\n  }\n  function toPrevTag(iter) {\n    for (;;) {\n      var gt = iter.ch ? iter.text.lastIndexOf(\">\", iter.ch - 1) : -1;\n      if (gt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n\n  function findMatchingClose(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var next = toNextTag(iter), end, startLine = iter.line, startCh = iter.ch - (next ? next[0].length : 0);\n      if (!next || !(end = toTagEnd(iter))) return;\n      if (end == \"selfClose\") continue;\n      if (next[1]) { // closing tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == next[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == next[2])) return {\n          tag: next[2],\n          from: Pos(startLine, startCh),\n          to: Pos(iter.line, iter.ch)\n        };\n      } else { // opening tag\n        stack.push(next[2]);\n      }\n    }\n  }\n  function findMatchingOpen(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var prev = toPrevTag(iter);\n      if (!prev) return;\n      if (prev == \"selfClose\") { toTagStart(iter); continue; }\n      var endLine = iter.line, endCh = iter.ch;\n      var start = toTagStart(iter);\n      if (!start) return;\n      if (start[1]) { // closing tag\n        stack.push(start[2]);\n      } else { // opening tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == start[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == start[2])) return {\n          tag: start[2],\n          from: Pos(iter.line, iter.ch),\n          to: Pos(endLine, endCh)\n        };\n      }\n    }\n  }\n\n  CodeMirror.registerHelper(\"fold\", \"xml\", function(cm, start) {\n    var iter = new Iter(cm, start.line, 0);\n    for (;;) {\n      var openTag = toNextTag(iter)\n      if (!openTag || iter.line != start.line) return\n      var end = toTagEnd(iter)\n      if (!end) return\n      if (!openTag[1] && end != \"selfClose\") {\n        var startPos = Pos(iter.line, iter.ch);\n        var endPos = findMatchingClose(iter, openTag[2]);\n        return endPos && cmp(endPos.from, startPos) > 0 ? {from: startPos, to: endPos.from} : null\n      }\n    }\n  });\n  CodeMirror.findMatchingTag = function(cm, pos, range) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    if (iter.text.indexOf(\">\") == -1 && iter.text.indexOf(\"<\") == -1) return;\n    var end = toTagEnd(iter), to = end && Pos(iter.line, iter.ch);\n    var start = end && toTagStart(iter);\n    if (!end || !start || cmp(iter, pos) > 0) return;\n    var here = {from: Pos(iter.line, iter.ch), to: to, tag: start[2]};\n    if (end == \"selfClose\") return {open: here, close: null, at: \"open\"};\n\n    if (start[1]) { // closing tag\n      return {open: findMatchingOpen(iter, start[2]), close: here, at: \"close\"};\n    } else { // opening tag\n      iter = new Iter(cm, to.line, to.ch, range);\n      return {open: here, close: findMatchingClose(iter, start[2]), at: \"open\"};\n    }\n  };\n\n  CodeMirror.findEnclosingTag = function(cm, pos, range, tag) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    for (;;) {\n      var open = findMatchingOpen(iter, tag);\n      if (!open) break;\n      var forward = new Iter(cm, pos.line, pos.ch, range);\n      var close = findMatchingClose(forward, open.tag);\n      if (close) return {open: open, close: close};\n    }\n  };\n\n  // Used by addon/edit/closetag.js\n  CodeMirror.scanForClosingTag = function(cm, pos, name, end) {\n    var iter = new Iter(cm, pos.line, pos.ch, end ? {from: 0, to: end} : null);\n    return findMatchingClose(iter, name);\n  };\n});\n","module.exports = undefined","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function Bar(cls, orientation, scroll) {\n    this.orientation = orientation;\n    this.scroll = scroll;\n    this.screen = this.total = this.size = 1;\n    this.pos = 0;\n\n    this.node = document.createElement(\"div\");\n    this.node.className = cls + \"-\" + orientation;\n    this.inner = this.node.appendChild(document.createElement(\"div\"));\n\n    var self = this;\n    CodeMirror.on(this.inner, \"mousedown\", function(e) {\n      if (e.which != 1) return;\n      CodeMirror.e_preventDefault(e);\n      var axis = self.orientation == \"horizontal\" ? \"pageX\" : \"pageY\";\n      var start = e[axis], startpos = self.pos;\n      function done() {\n        CodeMirror.off(document, \"mousemove\", move);\n        CodeMirror.off(document, \"mouseup\", done);\n      }\n      function move(e) {\n        if (e.which != 1) return done();\n        self.moveTo(startpos + (e[axis] - start) * (self.total / self.size));\n      }\n      CodeMirror.on(document, \"mousemove\", move);\n      CodeMirror.on(document, \"mouseup\", done);\n    });\n\n    CodeMirror.on(this.node, \"click\", function(e) {\n      CodeMirror.e_preventDefault(e);\n      var innerBox = self.inner.getBoundingClientRect(), where;\n      if (self.orientation == \"horizontal\")\n        where = e.clientX < innerBox.left ? -1 : e.clientX > innerBox.right ? 1 : 0;\n      else\n        where = e.clientY < innerBox.top ? -1 : e.clientY > innerBox.bottom ? 1 : 0;\n      self.moveTo(self.pos + where * self.screen);\n    });\n\n    function onWheel(e) {\n      var moved = CodeMirror.wheelEventPixels(e)[self.orientation == \"horizontal\" ? \"x\" : \"y\"];\n      var oldPos = self.pos;\n      self.moveTo(self.pos + moved);\n      if (self.pos != oldPos) CodeMirror.e_preventDefault(e);\n    }\n    CodeMirror.on(this.node, \"mousewheel\", onWheel);\n    CodeMirror.on(this.node, \"DOMMouseScroll\", onWheel);\n  }\n\n  Bar.prototype.setPos = function(pos, force) {\n    if (pos < 0) pos = 0;\n    if (pos > this.total - this.screen) pos = this.total - this.screen;\n    if (!force && pos == this.pos) return false;\n    this.pos = pos;\n    this.inner.style[this.orientation == \"horizontal\" ? \"left\" : \"top\"] =\n      (pos * (this.size / this.total)) + \"px\";\n    return true\n  };\n\n  Bar.prototype.moveTo = function(pos) {\n    if (this.setPos(pos)) this.scroll(pos, this.orientation);\n  }\n\n  var minButtonSize = 10;\n\n  Bar.prototype.update = function(scrollSize, clientSize, barSize) {\n    var sizeChanged = this.screen != clientSize || this.total != scrollSize || this.size != barSize\n    if (sizeChanged) {\n      this.screen = clientSize;\n      this.total = scrollSize;\n      this.size = barSize;\n    }\n\n    var buttonSize = this.screen * (this.size / this.total);\n    if (buttonSize < minButtonSize) {\n      this.size -= minButtonSize - buttonSize;\n      buttonSize = minButtonSize;\n    }\n    this.inner.style[this.orientation == \"horizontal\" ? \"width\" : \"height\"] =\n      buttonSize + \"px\";\n    this.setPos(this.pos, sizeChanged);\n  };\n\n  function SimpleScrollbars(cls, place, scroll) {\n    this.addClass = cls;\n    this.horiz = new Bar(cls, \"horizontal\", scroll);\n    place(this.horiz.node);\n    this.vert = new Bar(cls, \"vertical\", scroll);\n    place(this.vert.node);\n    this.width = null;\n  }\n\n  SimpleScrollbars.prototype.update = function(measure) {\n    if (this.width == null) {\n      var style = window.getComputedStyle ? window.getComputedStyle(this.horiz.node) : this.horiz.node.currentStyle;\n      if (style) this.width = parseInt(style.height);\n    }\n    var width = this.width || 0;\n\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    this.vert.node.style.display = needsV ? \"block\" : \"none\";\n    this.horiz.node.style.display = needsH ? \"block\" : \"none\";\n\n    if (needsV) {\n      this.vert.update(measure.scrollHeight, measure.clientHeight,\n                       measure.viewHeight - (needsH ? width : 0));\n      this.vert.node.style.bottom = needsH ? width + \"px\" : \"0\";\n    }\n    if (needsH) {\n      this.horiz.update(measure.scrollWidth, measure.clientWidth,\n                        measure.viewWidth - (needsV ? width : 0) - measure.barLeft);\n      this.horiz.node.style.right = needsV ? width + \"px\" : \"0\";\n      this.horiz.node.style.left = measure.barLeft + \"px\";\n    }\n\n    return {right: needsV ? width : 0, bottom: needsH ? width : 0};\n  };\n\n  SimpleScrollbars.prototype.setScrollTop = function(pos) {\n    this.vert.setPos(pos);\n  };\n\n  SimpleScrollbars.prototype.setScrollLeft = function(pos) {\n    this.horiz.setPos(pos);\n  };\n\n  SimpleScrollbars.prototype.clear = function() {\n    var parent = this.horiz.node.parentNode;\n    parent.removeChild(this.horiz.node);\n    parent.removeChild(this.vert.node);\n  };\n\n  CodeMirror.scrollbarModel.simple = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-simplescroll\", place, scroll);\n  };\n  CodeMirror.scrollbarModel.overlay = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-overlayscroll\", place, scroll);\n  };\n});\n","module.exports = undefined","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// This is CodeMirror (http://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n// Kludges for bugs and behavior differences that can't be feature\n// detected are enabled based on userAgent etc sniffing.\nvar userAgent = navigator.userAgent;\nvar platform = navigator.platform;\n\nvar gecko = /gecko\\/\\d/i.test(userAgent);\nvar ie_upto10 = /MSIE \\d/.test(userAgent);\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\nvar edge = /Edge\\/(\\d+)/.exec(userAgent);\nvar ie = ie_upto10 || ie_11up || edge;\nvar ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\nvar webkit = !edge && /WebKit\\//.test(userAgent);\nvar qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\nvar chrome = !edge && /Chrome\\//.test(userAgent);\nvar presto = /Opera\\//.test(userAgent);\nvar safari = /Apple Computer/.test(navigator.vendor);\nvar mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\nvar phantom = /PhantomJS/.test(userAgent);\n\nvar ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\nvar android = /Android/.test(userAgent);\n// This is woefully incomplete. Suggestions for alternative methods welcome.\nvar mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\nvar mac = ios || /Mac/.test(platform);\nvar chromeOS = /\\bCrOS\\b/.test(userAgent);\nvar windows = /win/i.test(platform);\n\nvar presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\nif (presto_version) { presto_version = Number(presto_version[1]); }\nif (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n// Some browsers use the wrong event properties to signal cmd/ctrl on OS X\nvar flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\nvar captureRightClick = gecko || (ie && ie_version >= 9);\n\nfunction classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\nvar rmClass = function(node, cls) {\n  var current = node.className;\n  var match = classTest(cls).exec(current);\n  if (match) {\n    var after = current.slice(match.index + match[0].length);\n    node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n  }\n};\n\nfunction removeChildren(e) {\n  for (var count = e.childNodes.length; count > 0; --count)\n    { e.removeChild(e.firstChild); }\n  return e\n}\n\nfunction removeChildrenAndAdd(parent, e) {\n  return removeChildren(parent).appendChild(e)\n}\n\nfunction elt(tag, content, className, style) {\n  var e = document.createElement(tag);\n  if (className) { e.className = className; }\n  if (style) { e.style.cssText = style; }\n  if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n  return e\n}\n// wrapper for elt, which removes the elt from the accessibility tree\nfunction eltP(tag, content, className, style) {\n  var e = elt(tag, content, className, style);\n  e.setAttribute(\"role\", \"presentation\");\n  return e\n}\n\nvar range;\nif (document.createRange) { range = function(node, start, end, endNode) {\n  var r = document.createRange();\n  r.setEnd(endNode || node, end);\n  r.setStart(node, start);\n  return r\n}; }\nelse { range = function(node, start, end) {\n  var r = document.body.createTextRange();\n  try { r.moveToElementText(node.parentNode); }\n  catch(e) { return r }\n  r.collapse(true);\n  r.moveEnd(\"character\", end);\n  r.moveStart(\"character\", start);\n  return r\n}; }\n\nfunction contains(parent, child) {\n  if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n    { child = child.parentNode; }\n  if (parent.contains)\n    { return parent.contains(child) }\n  do {\n    if (child.nodeType == 11) { child = child.host; }\n    if (child == parent) { return true }\n  } while (child = child.parentNode)\n}\n\nfunction activeElt() {\n  // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n  // IE < 10 will throw when accessed while the page is loading or in an iframe.\n  // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n  var activeElement;\n  try {\n    activeElement = document.activeElement;\n  } catch(e) {\n    activeElement = document.body || null;\n  }\n  while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n    { activeElement = activeElement.shadowRoot.activeElement; }\n  return activeElement\n}\n\nfunction addClass(node, cls) {\n  var current = node.className;\n  if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n}\nfunction joinClasses(a, b) {\n  var as = a.split(\" \");\n  for (var i = 0; i < as.length; i++)\n    { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n  return b\n}\n\nvar selectInput = function(node) { node.select(); };\nif (ios) // Mobile Safari apparently has a bug where select() is broken.\n  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\nelse if (ie) // Suppress mysterious IE10 errors\n  { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\nfunction bind(f) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function(){return f.apply(null, args)}\n}\n\nfunction copyObj(obj, target, overwrite) {\n  if (!target) { target = {}; }\n  for (var prop in obj)\n    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n      { target[prop] = obj[prop]; } }\n  return target\n}\n\n// Counts the column offset in a string, taking tabs into account.\n// Used mostly to find indentation.\nfunction countColumn(string, end, tabSize, startIndex, startValue) {\n  if (end == null) {\n    end = string.search(/[^\\s\\u00a0]/);\n    if (end == -1) { end = string.length; }\n  }\n  for (var i = startIndex || 0, n = startValue || 0;;) {\n    var nextTab = string.indexOf(\"\\t\", i);\n    if (nextTab < 0 || nextTab >= end)\n      { return n + (end - i) }\n    n += nextTab - i;\n    n += tabSize - (n % tabSize);\n    i = nextTab + 1;\n  }\n}\n\nvar Delayed = function() {this.id = null;};\nDelayed.prototype.set = function (ms, f) {\n  clearTimeout(this.id);\n  this.id = setTimeout(f, ms);\n};\n\nfunction indexOf(array, elt) {\n  for (var i = 0; i < array.length; ++i)\n    { if (array[i] == elt) { return i } }\n  return -1\n}\n\n// Number of pixels added to scroller and sizer to hide scrollbar\nvar scrollerGap = 30;\n\n// Returned or thrown by various protocols to signal 'I'm not\n// handling this'.\nvar Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n// Reused option objects for setSelection & friends\nvar sel_dontScroll = {scroll: false};\nvar sel_mouse = {origin: \"*mouse\"};\nvar sel_move = {origin: \"+move\"};\n\n// The inverse of countColumn -- find the offset that corresponds to\n// a particular column.\nfunction findColumn(string, goal, tabSize) {\n  for (var pos = 0, col = 0;;) {\n    var nextTab = string.indexOf(\"\\t\", pos);\n    if (nextTab == -1) { nextTab = string.length; }\n    var skipped = nextTab - pos;\n    if (nextTab == string.length || col + skipped >= goal)\n      { return pos + Math.min(skipped, goal - col) }\n    col += nextTab - pos;\n    col += tabSize - (col % tabSize);\n    pos = nextTab + 1;\n    if (col >= goal) { return pos }\n  }\n}\n\nvar spaceStrs = [\"\"];\nfunction spaceStr(n) {\n  while (spaceStrs.length <= n)\n    { spaceStrs.push(lst(spaceStrs) + \" \"); }\n  return spaceStrs[n]\n}\n\nfunction lst(arr) { return arr[arr.length-1] }\n\nfunction map(array, f) {\n  var out = [];\n  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n  return out\n}\n\nfunction insertSorted(array, value, score) {\n  var pos = 0, priority = score(value);\n  while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n  array.splice(pos, 0, value);\n}\n\nfunction nothing() {}\n\nfunction createObj(base, props) {\n  var inst;\n  if (Object.create) {\n    inst = Object.create(base);\n  } else {\n    nothing.prototype = base;\n    inst = new nothing();\n  }\n  if (props) { copyObj(props, inst); }\n  return inst\n}\n\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nfunction isWordCharBasic(ch) {\n  return /\\w/.test(ch) || ch > \"\\x80\" &&\n    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n}\nfunction isWordChar(ch, helper) {\n  if (!helper) { return isWordCharBasic(ch) }\n  if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n  return helper.test(ch)\n}\n\nfunction isEmpty(obj) {\n  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n  return true\n}\n\n// Extending unicode characters. A series of a non-extending char +\n// any number of extending chars is treated as a single unit as far\n// as editing and measuring is concerned. This is not fully correct,\n// since some scripts/fonts/browsers also treat other configurations\n// of code points as a group.\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\nfunction isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n// Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\nfunction skipExtendingChars(str, pos, dir) {\n  while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n  return pos\n}\n\n// Returns the value from the range [`from`; `to`] that satisfies\n// `pred` and is closest to `from`. Assumes that at least `to`\n// satisfies `pred`. Supports `from` being greater than `to`.\nfunction findFirst(pred, from, to) {\n  // At any point we are certain `to` satisfies `pred`, don't know\n  // whether `from` does.\n  var dir = from > to ? -1 : 1;\n  for (;;) {\n    if (from == to) { return from }\n    var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n    if (mid == from) { return pred(mid) ? from : to }\n    if (pred(mid)) { to = mid; }\n    else { from = mid + dir; }\n  }\n}\n\n// The display handles the DOM integration, both for input reading\n// and content drawing. It holds references to DOM nodes and\n// display-related state.\n\nfunction Display(place, doc, input) {\n  var d = this;\n  this.input = input;\n\n  // Covers bottom-right square when both scrollbars are present.\n  d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n  d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n  // Covers bottom of gutter when coverGutterNextToScrollbar is on\n  // and h scrollbar is present.\n  d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n  d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n  // Will contain the actual code, positioned to cover the viewport.\n  d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n  // Elements are added to these to represent selection and cursors.\n  d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n  d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n  // A visibility: hidden element used to find the size of things.\n  d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n  // When lines outside of the viewport are measured, they are drawn in this.\n  d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n  // Wraps everything that needs to exist inside the vertically-padded coordinate system\n  d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                    null, \"position: relative; outline: none\");\n  var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n  // Moved around its parent to cover visible view.\n  d.mover = elt(\"div\", [lines], null, \"position: relative\");\n  // Set to the height of the document, allowing scrolling.\n  d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n  d.sizerWidth = null;\n  // Behavior of elts with overflow: auto and padding is\n  // inconsistent across browsers. This is used to ensure the\n  // scrollable area is big enough.\n  d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n  // Will contain the gutters, if any.\n  d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n  d.lineGutter = null;\n  // Actual scrollable element.\n  d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n  d.scroller.setAttribute(\"tabIndex\", \"-1\");\n  // The element in which the editor lives.\n  d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n  // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n  if (place) {\n    if (place.appendChild) { place.appendChild(d.wrapper); }\n    else { place(d.wrapper); }\n  }\n\n  // Current rendered range (may be bigger than the view window).\n  d.viewFrom = d.viewTo = doc.first;\n  d.reportedViewFrom = d.reportedViewTo = doc.first;\n  // Information about the rendered lines.\n  d.view = [];\n  d.renderedView = null;\n  // Holds info about a single rendered line when it was rendered\n  // for measurement, while not in view.\n  d.externalMeasured = null;\n  // Empty space (in pixels) above the view\n  d.viewOffset = 0;\n  d.lastWrapHeight = d.lastWrapWidth = 0;\n  d.updateLineNumbers = null;\n\n  d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n  d.scrollbarsClipped = false;\n\n  // Used to only resize the line number gutter when necessary (when\n  // the amount of lines crosses a boundary that makes its width change)\n  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n  // Set to true when a non-horizontal-scrolling line widget is\n  // added. As an optimization, line widget aligning is skipped when\n  // this is false.\n  d.alignWidgets = false;\n\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n  // Tracks the maximum line length so that the horizontal scrollbar\n  // can be kept static when scrolling.\n  d.maxLine = null;\n  d.maxLineLength = 0;\n  d.maxLineChanged = false;\n\n  // Used for measuring wheel scrolling granularity\n  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n  // True when shift is held down.\n  d.shift = false;\n\n  // Used to track whether anything happened since the context menu\n  // was opened.\n  d.selForContextMenu = null;\n\n  d.activeTouch = null;\n\n  input.init(d);\n}\n\n// Find the line object corresponding to the given line number.\nfunction getLine(doc, n) {\n  n -= doc.first;\n  if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n  var chunk = doc;\n  while (!chunk.lines) {\n    for (var i = 0;; ++i) {\n      var child = chunk.children[i], sz = child.chunkSize();\n      if (n < sz) { chunk = child; break }\n      n -= sz;\n    }\n  }\n  return chunk.lines[n]\n}\n\n// Get the part of a document between two positions, as an array of\n// strings.\nfunction getBetween(doc, start, end) {\n  var out = [], n = start.line;\n  doc.iter(start.line, end.line + 1, function (line) {\n    var text = line.text;\n    if (n == end.line) { text = text.slice(0, end.ch); }\n    if (n == start.line) { text = text.slice(start.ch); }\n    out.push(text);\n    ++n;\n  });\n  return out\n}\n// Get the lines between from and to, as array of strings.\nfunction getLines(doc, from, to) {\n  var out = [];\n  doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n  return out\n}\n\n// Update the height of a line, propagating the height change\n// upwards to parent nodes.\nfunction updateLineHeight(line, height) {\n  var diff = height - line.height;\n  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n}\n\n// Given a line object, find its line number by walking up through\n// its parent links.\nfunction lineNo(line) {\n  if (line.parent == null) { return null }\n  var cur = line.parent, no = indexOf(cur.lines, line);\n  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n    for (var i = 0;; ++i) {\n      if (chunk.children[i] == cur) { break }\n      no += chunk.children[i].chunkSize();\n    }\n  }\n  return no + cur.first\n}\n\n// Find the line at the given vertical position, using the height\n// information in the document tree.\nfunction lineAtHeight(chunk, h) {\n  var n = chunk.first;\n  outer: do {\n    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n      var child = chunk.children[i$1], ch = child.height;\n      if (h < ch) { chunk = child; continue outer }\n      h -= ch;\n      n += child.chunkSize();\n    }\n    return n\n  } while (!chunk.lines)\n  var i = 0;\n  for (; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i], lh = line.height;\n    if (h < lh) { break }\n    h -= lh;\n  }\n  return n + i\n}\n\nfunction isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\nfunction lineNumberFor(options, i) {\n  return String(options.lineNumberFormatter(i + options.firstLineNumber))\n}\n\n// A Pos instance represents a position within the text.\nfunction Pos(line, ch, sticky) {\n  if ( sticky === void 0 ) sticky = null;\n\n  if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n  this.line = line;\n  this.ch = ch;\n  this.sticky = sticky;\n}\n\n// Compare two positions, return 0 if they are the same, a negative\n// number when a is less, and a positive number otherwise.\nfunction cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\nfunction equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\nfunction copyPos(x) {return Pos(x.line, x.ch)}\nfunction maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\nfunction minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n// Most of the external API clips given positions to make sure they\n// actually exist within the document.\nfunction clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\nfunction clipPos(doc, pos) {\n  if (pos.line < doc.first) { return Pos(doc.first, 0) }\n  var last = doc.first + doc.size - 1;\n  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n  return clipToLen(pos, getLine(doc, pos.line).text.length)\n}\nfunction clipToLen(pos, linelen) {\n  var ch = pos.ch;\n  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n  else if (ch < 0) { return Pos(pos.line, 0) }\n  else { return pos }\n}\nfunction clipPosArray(doc, array) {\n  var out = [];\n  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n  return out\n}\n\n// Optimize some code when these features are not used.\nvar sawReadOnlySpans = false;\nvar sawCollapsedSpans = false;\n\nfunction seeReadOnlySpans() {\n  sawReadOnlySpans = true;\n}\n\nfunction seeCollapsedSpans() {\n  sawCollapsedSpans = true;\n}\n\n// TEXTMARKER SPANS\n\nfunction MarkedSpan(marker, from, to) {\n  this.marker = marker;\n  this.from = from; this.to = to;\n}\n\n// Search an array of spans for a span matching the given marker.\nfunction getMarkedSpanFor(spans, marker) {\n  if (spans) { for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i];\n    if (span.marker == marker) { return span }\n  } }\n}\n// Remove a span from an array, returning undefined if no spans are\n// left (we don't store arrays for lines without spans).\nfunction removeMarkedSpan(spans, span) {\n  var r;\n  for (var i = 0; i < spans.length; ++i)\n    { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n  return r\n}\n// Add a span to a line.\nfunction addMarkedSpan(line, span) {\n  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n  span.marker.attachLine(line);\n}\n\n// Used for the algorithm that adjusts markers for a change in the\n// document. These functions cut an array of spans at a given\n// character position, returning an array of remaining chunks (or\n// undefined if nothing remains).\nfunction markedSpansBefore(old, startCh, isInsert) {\n  var nw;\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker;\n    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n    if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n    }\n  } }\n  return nw\n}\nfunction markedSpansAfter(old, endCh, isInsert) {\n  var nw;\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker;\n    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n    if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                            span.to == null ? null : span.to - endCh));\n    }\n  } }\n  return nw\n}\n\n// Given a change object, compute the new set of marker spans that\n// cover the line in which the change took place. Removes spans\n// entirely within the change, reconnects spans belonging to the\n// same marker that appear on both sides of the change, and cuts off\n// spans partially within the change. Returns an array of span\n// arrays with one element for each line in (after) the change.\nfunction stretchSpansOverChange(doc, change) {\n  if (change.full) { return null }\n  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n  if (!oldFirst && !oldLast) { return null }\n\n  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n  // Get the spans that 'stick out' on both sides\n  var first = markedSpansBefore(oldFirst, startCh, isInsert);\n  var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n  // Next, merge those two ends\n  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n  if (first) {\n    // Fix up .to properties of first\n    for (var i = 0; i < first.length; ++i) {\n      var span = first[i];\n      if (span.to == null) {\n        var found = getMarkedSpanFor(last, span.marker);\n        if (!found) { span.to = startCh; }\n        else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n      }\n    }\n  }\n  if (last) {\n    // Fix up .from in last (or move them into first in case of sameLine)\n    for (var i$1 = 0; i$1 < last.length; ++i$1) {\n      var span$1 = last[i$1];\n      if (span$1.to != null) { span$1.to += offset; }\n      if (span$1.from == null) {\n        var found$1 = getMarkedSpanFor(first, span$1.marker);\n        if (!found$1) {\n          span$1.from = offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      } else {\n        span$1.from += offset;\n        if (sameLine) { (first || (first = [])).push(span$1); }\n      }\n    }\n  }\n  // Make sure we didn't create any zero-length spans\n  if (first) { first = clearEmptySpans(first); }\n  if (last && last != first) { last = clearEmptySpans(last); }\n\n  var newMarkers = [first];\n  if (!sameLine) {\n    // Fill gap with whole-line-spans\n    var gap = change.text.length - 2, gapMarkers;\n    if (gap > 0 && first)\n      { for (var i$2 = 0; i$2 < first.length; ++i$2)\n        { if (first[i$2].to == null)\n          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n    for (var i$3 = 0; i$3 < gap; ++i$3)\n      { newMarkers.push(gapMarkers); }\n    newMarkers.push(last);\n  }\n  return newMarkers\n}\n\n// Remove spans that are empty and don't have a clearWhenEmpty\n// option of false.\nfunction clearEmptySpans(spans) {\n  for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i];\n    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n      { spans.splice(i--, 1); }\n  }\n  if (!spans.length) { return null }\n  return spans\n}\n\n// Used to 'clip' out readOnly ranges when making a change.\nfunction removeReadOnlyRanges(doc, from, to) {\n  var markers = null;\n  doc.iter(from.line, to.line + 1, function (line) {\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var mark = line.markedSpans[i].marker;\n      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n        { (markers || (markers = [])).push(mark); }\n    } }\n  });\n  if (!markers) { return null }\n  var parts = [{from: from, to: to}];\n  for (var i = 0; i < markers.length; ++i) {\n    var mk = markers[i], m = mk.find(0);\n    for (var j = 0; j < parts.length; ++j) {\n      var p = parts[j];\n      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n        { newParts.push({from: p.from, to: m.from}); }\n      if (dto > 0 || !mk.inclusiveRight && !dto)\n        { newParts.push({from: m.to, to: p.to}); }\n      parts.splice.apply(parts, newParts);\n      j += newParts.length - 3;\n    }\n  }\n  return parts\n}\n\n// Connect or disconnect spans from a line.\nfunction detachMarkedSpans(line) {\n  var spans = line.markedSpans;\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.detachLine(line); }\n  line.markedSpans = null;\n}\nfunction attachMarkedSpans(line, spans) {\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.attachLine(line); }\n  line.markedSpans = spans;\n}\n\n// Helpers used when computing which overlapping collapsed span\n// counts as the larger one.\nfunction extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\nfunction extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n// Returns a number indicating which of two overlapping collapsed\n// spans is larger (and thus includes the other). Falls back to\n// comparing ids when the spans cover exactly the same range.\nfunction compareCollapsedMarkers(a, b) {\n  var lenDiff = a.lines.length - b.lines.length;\n  if (lenDiff != 0) { return lenDiff }\n  var aPos = a.find(), bPos = b.find();\n  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n  if (fromCmp) { return -fromCmp }\n  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n  if (toCmp) { return toCmp }\n  return b.id - a.id\n}\n\n// Find out whether a line ends or starts in a collapsed span. If\n// so, return the marker for that span.\nfunction collapsedSpanAtSide(line, start) {\n  var sps = sawCollapsedSpans && line.markedSpans, found;\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i];\n    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n      { found = sp.marker; }\n  } }\n  return found\n}\nfunction collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\nfunction collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\nfunction collapsedSpanAround(line, ch) {\n  var sps = sawCollapsedSpans && line.markedSpans, found;\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\n    var sp = sps[i];\n    if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n  } }\n  return found\n}\n\n// Test whether there exists a collapsed span that partially\n// overlaps (covers the start or end, but not both) of a new span.\n// Such overlap is not allowed.\nfunction conflictingCollapsedRange(doc, lineNo$$1, from, to, marker) {\n  var line = getLine(doc, lineNo$$1);\n  var sps = sawCollapsedSpans && line.markedSpans;\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\n    var sp = sps[i];\n    if (!sp.marker.collapsed) { continue }\n    var found = sp.marker.find(0);\n    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n      { return true }\n  } }\n}\n\n// A visual line is a line as drawn on the screen. Folding, for\n// example, can cause multiple logical lines to appear on the same\n// visual line. This finds the start of the visual line that the\n// given line is part of (usually that is the line itself).\nfunction visualLine(line) {\n  var merged;\n  while (merged = collapsedSpanAtStart(line))\n    { line = merged.find(-1, true).line; }\n  return line\n}\n\nfunction visualLineEnd(line) {\n  var merged;\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line; }\n  return line\n}\n\n// Returns an array of logical lines that continue the visual line\n// started by the argument, or undefined if there are no such lines.\nfunction visualLineContinued(line) {\n  var merged, lines;\n  while (merged = collapsedSpanAtEnd(line)) {\n    line = merged.find(1, true).line\n    ;(lines || (lines = [])).push(line);\n  }\n  return lines\n}\n\n// Get the line number of the start of the visual line that the\n// given line number is part of.\nfunction visualLineNo(doc, lineN) {\n  var line = getLine(doc, lineN), vis = visualLine(line);\n  if (line == vis) { return lineN }\n  return lineNo(vis)\n}\n\n// Get the line number of the start of the next visual line after\n// the given line.\nfunction visualLineEndNo(doc, lineN) {\n  if (lineN > doc.lastLine()) { return lineN }\n  var line = getLine(doc, lineN), merged;\n  if (!lineIsHidden(doc, line)) { return lineN }\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line; }\n  return lineNo(line) + 1\n}\n\n// Compute whether a line is hidden. Lines count as hidden when they\n// are part of a visual line that starts with another line, or when\n// they are entirely covered by collapsed, non-widget span.\nfunction lineIsHidden(doc, line) {\n  var sps = sawCollapsedSpans && line.markedSpans;\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i];\n    if (!sp.marker.collapsed) { continue }\n    if (sp.from == null) { return true }\n    if (sp.marker.widgetNode) { continue }\n    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n      { return true }\n  } }\n}\nfunction lineIsHiddenInner(doc, line, span) {\n  if (span.to == null) {\n    var end = span.marker.find(1, true);\n    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n  }\n  if (span.marker.inclusiveRight && span.to == line.text.length)\n    { return true }\n  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n    sp = line.markedSpans[i];\n    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n        (sp.to == null || sp.to != span.from) &&\n        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n        lineIsHiddenInner(doc, line, sp)) { return true }\n  }\n}\n\n// Find the height above the given line.\nfunction heightAtLine(lineObj) {\n  lineObj = visualLine(lineObj);\n\n  var h = 0, chunk = lineObj.parent;\n  for (var i = 0; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i];\n    if (line == lineObj) { break }\n    else { h += line.height; }\n  }\n  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n      var cur = p.children[i$1];\n      if (cur == chunk) { break }\n      else { h += cur.height; }\n    }\n  }\n  return h\n}\n\n// Compute the character length of a line, taking into account\n// collapsed ranges (see markText) that might hide parts, and join\n// other lines onto it.\nfunction lineLength(line) {\n  if (line.height == 0) { return 0 }\n  var len = line.text.length, merged, cur = line;\n  while (merged = collapsedSpanAtStart(cur)) {\n    var found = merged.find(0, true);\n    cur = found.from.line;\n    len += found.from.ch - found.to.ch;\n  }\n  cur = line;\n  while (merged = collapsedSpanAtEnd(cur)) {\n    var found$1 = merged.find(0, true);\n    len -= cur.text.length - found$1.from.ch;\n    cur = found$1.to.line;\n    len += cur.text.length - found$1.to.ch;\n  }\n  return len\n}\n\n// Find the longest line in the document.\nfunction findMaxLine(cm) {\n  var d = cm.display, doc = cm.doc;\n  d.maxLine = getLine(doc, doc.first);\n  d.maxLineLength = lineLength(d.maxLine);\n  d.maxLineChanged = true;\n  doc.iter(function (line) {\n    var len = lineLength(line);\n    if (len > d.maxLineLength) {\n      d.maxLineLength = len;\n      d.maxLine = line;\n    }\n  });\n}\n\n// BIDI HELPERS\n\nfunction iterateBidiSections(order, from, to, f) {\n  if (!order) { return f(from, to, \"ltr\", 0) }\n  var found = false;\n  for (var i = 0; i < order.length; ++i) {\n    var part = order[i];\n    if (part.from < to && part.to > from || from == to && part.to == from) {\n      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n      found = true;\n    }\n  }\n  if (!found) { f(from, to, \"ltr\"); }\n}\n\nvar bidiOther = null;\nfunction getBidiPartAt(order, ch, sticky) {\n  var found;\n  bidiOther = null;\n  for (var i = 0; i < order.length; ++i) {\n    var cur = order[i];\n    if (cur.from < ch && cur.to > ch) { return i }\n    if (cur.to == ch) {\n      if (cur.from != cur.to && sticky == \"before\") { found = i; }\n      else { bidiOther = i; }\n    }\n    if (cur.from == ch) {\n      if (cur.from != cur.to && sticky != \"before\") { found = i; }\n      else { bidiOther = i; }\n    }\n  }\n  return found != null ? found : bidiOther\n}\n\n// Bidirectional ordering algorithm\n// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n// that this (partially) implements.\n\n// One-char codes used for character types:\n// L (L):   Left-to-Right\n// R (R):   Right-to-Left\n// r (AL):  Right-to-Left Arabic\n// 1 (EN):  European Number\n// + (ES):  European Number Separator\n// % (ET):  European Number Terminator\n// n (AN):  Arabic Number\n// , (CS):  Common Number Separator\n// m (NSM): Non-Spacing Mark\n// b (BN):  Boundary Neutral\n// s (B):   Paragraph Separator\n// t (S):   Segment Separator\n// w (WS):  Whitespace\n// N (ON):  Other Neutrals\n\n// Returns null if characters are ordered as they appear\n// (left-to-right), or an array of sections ({from, to, level}\n// objects) in the order in which they occur visually.\nvar bidiOrdering = (function() {\n  // Character types for codepoints 0 to 0xff\n  var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n  // Character types for codepoints 0x600 to 0x6f9\n  var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n  function charType(code) {\n    if (code <= 0xf7) { return lowTypes.charAt(code) }\n    else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n    else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n    else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n    else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n    else if (code == 0x200c) { return \"b\" }\n    else { return \"L\" }\n  }\n\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n  function BidiSpan(level, from, to) {\n    this.level = level;\n    this.from = from; this.to = to;\n  }\n\n  return function(str, direction) {\n    var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n    if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n    var len = str.length, types = [];\n    for (var i = 0; i < len; ++i)\n      { types.push(charType(str.charCodeAt(i))); }\n\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n      var type = types[i$1];\n      if (type == \"m\") { types[i$1] = prev; }\n      else { prev = type; }\n    }\n\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n      var type$1 = types[i$2];\n      if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n    }\n\n    // W4. A single European separator between two European numbers\n    // changes to a European number. A single common separator between\n    // two numbers of the same type changes to that type.\n    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n      var type$2 = types[i$3];\n      if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n      else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n               (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n      prev$1 = type$2;\n    }\n\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    for (var i$4 = 0; i$4 < len; ++i$4) {\n      var type$3 = types[i$4];\n      if (type$3 == \",\") { types[i$4] = \"N\"; }\n      else if (type$3 == \"%\") {\n        var end = (void 0);\n        for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n        var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n        for (var j = i$4; j < end; ++j) { types[j] = replace; }\n        i$4 = end - 1;\n      }\n    }\n\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n      var type$4 = types[i$5];\n      if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n      else if (isStrong.test(type$4)) { cur$1 = type$4; }\n    }\n\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    for (var i$6 = 0; i$6 < len; ++i$6) {\n      if (isNeutral.test(types[i$6])) {\n        var end$1 = (void 0);\n        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n        var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n        var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n        var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n        i$6 = end$1 - 1;\n      }\n    }\n\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    var order = [], m;\n    for (var i$7 = 0; i$7 < len;) {\n      if (countsAsLeft.test(types[i$7])) {\n        var start = i$7;\n        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n        order.push(new BidiSpan(0, start, i$7));\n      } else {\n        var pos = i$7, at = order.length;\n        for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n        for (var j$2 = pos; j$2 < i$7;) {\n          if (countsAsNum.test(types[j$2])) {\n            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); }\n            var nstart = j$2;\n            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n            order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n            pos = j$2;\n          } else { ++j$2; }\n        }\n        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n      }\n    }\n    if (direction == \"ltr\") {\n      if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n        order[0].from = m[0].length;\n        order.unshift(new BidiSpan(0, 0, m[0].length));\n      }\n      if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n        lst(order).to -= m[0].length;\n        order.push(new BidiSpan(0, len - m[0].length, len));\n      }\n    }\n\n    return direction == \"rtl\" ? order.reverse() : order\n  }\n})();\n\n// Get the bidi ordering for the given line (and cache it). Returns\n// false for lines that are fully left-to-right, and an array of\n// BidiSpan objects otherwise.\nfunction getOrder(line, direction) {\n  var order = line.order;\n  if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n  return order\n}\n\n// EVENT HANDLING\n\n// Lightweight event framework. on/off also work on DOM nodes,\n// registering native DOM handlers.\n\nvar noHandlers = [];\n\nvar on = function(emitter, type, f) {\n  if (emitter.addEventListener) {\n    emitter.addEventListener(type, f, false);\n  } else if (emitter.attachEvent) {\n    emitter.attachEvent(\"on\" + type, f);\n  } else {\n    var map$$1 = emitter._handlers || (emitter._handlers = {});\n    map$$1[type] = (map$$1[type] || noHandlers).concat(f);\n  }\n};\n\nfunction getHandlers(emitter, type) {\n  return emitter._handlers && emitter._handlers[type] || noHandlers\n}\n\nfunction off(emitter, type, f) {\n  if (emitter.removeEventListener) {\n    emitter.removeEventListener(type, f, false);\n  } else if (emitter.detachEvent) {\n    emitter.detachEvent(\"on\" + type, f);\n  } else {\n    var map$$1 = emitter._handlers, arr = map$$1 && map$$1[type];\n    if (arr) {\n      var index = indexOf(arr, f);\n      if (index > -1)\n        { map$$1[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n    }\n  }\n}\n\nfunction signal(emitter, type /*, values...*/) {\n  var handlers = getHandlers(emitter, type);\n  if (!handlers.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2);\n  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n}\n\n// The DOM events that CodeMirror handles can be overridden by\n// registering a (non-DOM) handler on the editor for the event name,\n// and preventDefault-ing the event in that handler.\nfunction signalDOMEvent(cm, e, override) {\n  if (typeof e == \"string\")\n    { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n  signal(cm, override || e.type, cm, e);\n  return e_defaultPrevented(e) || e.codemirrorIgnore\n}\n\nfunction signalCursorActivity(cm) {\n  var arr = cm._handlers && cm._handlers.cursorActivity;\n  if (!arr) { return }\n  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n    { set.push(arr[i]); } }\n}\n\nfunction hasHandler(emitter, type) {\n  return getHandlers(emitter, type).length > 0\n}\n\n// Add on and off methods to a constructor's prototype, to make\n// registering events on such objects more convenient.\nfunction eventMixin(ctor) {\n  ctor.prototype.on = function(type, f) {on(this, type, f);};\n  ctor.prototype.off = function(type, f) {off(this, type, f);};\n}\n\n// Due to the fact that we still support jurassic IE versions, some\n// compatibility wrappers are needed.\n\nfunction e_preventDefault(e) {\n  if (e.preventDefault) { e.preventDefault(); }\n  else { e.returnValue = false; }\n}\nfunction e_stopPropagation(e) {\n  if (e.stopPropagation) { e.stopPropagation(); }\n  else { e.cancelBubble = true; }\n}\nfunction e_defaultPrevented(e) {\n  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n}\nfunction e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\nfunction e_target(e) {return e.target || e.srcElement}\nfunction e_button(e) {\n  var b = e.which;\n  if (b == null) {\n    if (e.button & 1) { b = 1; }\n    else if (e.button & 2) { b = 3; }\n    else if (e.button & 4) { b = 2; }\n  }\n  if (mac && e.ctrlKey && b == 1) { b = 3; }\n  return b\n}\n\n// Detect drag-and-drop\nvar dragAndDrop = function() {\n  // There is *some* kind of drag-and-drop support in IE6-8, but I\n  // couldn't get it to work yet.\n  if (ie && ie_version < 9) { return false }\n  var div = elt('div');\n  return \"draggable\" in div || \"dragDrop\" in div\n}();\n\nvar zwspSupported;\nfunction zeroWidthElement(measure) {\n  if (zwspSupported == null) {\n    var test = elt(\"span\", \"\\u200b\");\n    removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n    if (measure.firstChild.offsetHeight != 0)\n      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n  }\n  var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n    elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n  node.setAttribute(\"cm-text\", \"\");\n  return node\n}\n\n// Feature-detect IE's crummy client rect reporting for bidi text\nvar badBidiRects;\nfunction hasBadBidiRects(measure) {\n  if (badBidiRects != null) { return badBidiRects }\n  var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n  var r0 = range(txt, 0, 1).getBoundingClientRect();\n  var r1 = range(txt, 1, 2).getBoundingClientRect();\n  removeChildren(measure);\n  if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n  return badBidiRects = (r1.right - r0.right < 3)\n}\n\n// See if \"\".split is the broken IE version, if so, provide an\n// alternative way to split lines.\nvar splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n  var pos = 0, result = [], l = string.length;\n  while (pos <= l) {\n    var nl = string.indexOf(\"\\n\", pos);\n    if (nl == -1) { nl = string.length; }\n    var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n    var rt = line.indexOf(\"\\r\");\n    if (rt != -1) {\n      result.push(line.slice(0, rt));\n      pos += rt + 1;\n    } else {\n      result.push(line);\n      pos = nl + 1;\n    }\n  }\n  return result\n} : function (string) { return string.split(/\\r\\n?|\\n/); };\n\nvar hasSelection = window.getSelection ? function (te) {\n  try { return te.selectionStart != te.selectionEnd }\n  catch(e) { return false }\n} : function (te) {\n  var range$$1;\n  try {range$$1 = te.ownerDocument.selection.createRange();}\n  catch(e) {}\n  if (!range$$1 || range$$1.parentElement() != te) { return false }\n  return range$$1.compareEndPoints(\"StartToEnd\", range$$1) != 0\n};\n\nvar hasCopyEvent = (function () {\n  var e = elt(\"div\");\n  if (\"oncopy\" in e) { return true }\n  e.setAttribute(\"oncopy\", \"return;\");\n  return typeof e.oncopy == \"function\"\n})();\n\nvar badZoomedRects = null;\nfunction hasBadZoomedRects(measure) {\n  if (badZoomedRects != null) { return badZoomedRects }\n  var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n  var normal = node.getBoundingClientRect();\n  var fromRange = range(node, 0, 1).getBoundingClientRect();\n  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n}\n\n// Known modes, by name and by MIME\nvar modes = {};\nvar mimeModes = {};\n\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nfunction defineMode(name, mode) {\n  if (arguments.length > 2)\n    { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n  modes[name] = mode;\n}\n\nfunction defineMIME(mime, spec) {\n  mimeModes[mime] = spec;\n}\n\n// Given a MIME type, a {name, ...options} config object, or a name\n// string, return a mode config object.\nfunction resolveMode(spec) {\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n    spec = mimeModes[spec];\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n    var found = mimeModes[spec.name];\n    if (typeof found == \"string\") { found = {name: found}; }\n    spec = createObj(found, spec);\n    spec.name = found.name;\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n    return resolveMode(\"application/xml\")\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n    return resolveMode(\"application/json\")\n  }\n  if (typeof spec == \"string\") { return {name: spec} }\n  else { return spec || {name: \"null\"} }\n}\n\n// Given a mode spec (anything that resolveMode accepts), find and\n// initialize an actual mode object.\nfunction getMode(options, spec) {\n  spec = resolveMode(spec);\n  var mfactory = modes[spec.name];\n  if (!mfactory) { return getMode(options, \"text/plain\") }\n  var modeObj = mfactory(options, spec);\n  if (modeExtensions.hasOwnProperty(spec.name)) {\n    var exts = modeExtensions[spec.name];\n    for (var prop in exts) {\n      if (!exts.hasOwnProperty(prop)) { continue }\n      if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n      modeObj[prop] = exts[prop];\n    }\n  }\n  modeObj.name = spec.name;\n  if (spec.helperType) { modeObj.helperType = spec.helperType; }\n  if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n    { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n  return modeObj\n}\n\n// This can be used to attach properties to mode objects from\n// outside the actual mode definition.\nvar modeExtensions = {};\nfunction extendMode(mode, properties) {\n  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n  copyObj(properties, exts);\n}\n\nfunction copyState(mode, state) {\n  if (state === true) { return state }\n  if (mode.copyState) { return mode.copyState(state) }\n  var nstate = {};\n  for (var n in state) {\n    var val = state[n];\n    if (val instanceof Array) { val = val.concat([]); }\n    nstate[n] = val;\n  }\n  return nstate\n}\n\n// Given a mode and a state (for that mode), find the inner mode and\n// state at the position that the state refers to.\nfunction innerMode(mode, state) {\n  var info;\n  while (mode.innerMode) {\n    info = mode.innerMode(state);\n    if (!info || info.mode == mode) { break }\n    state = info.state;\n    mode = info.mode;\n  }\n  return info || {mode: mode, state: state}\n}\n\nfunction startState(mode, a1, a2) {\n  return mode.startState ? mode.startState(a1, a2) : true\n}\n\n// STRING STREAM\n\n// Fed to the mode parsers, provides helper functions to make\n// parsers more succinct.\n\nvar StringStream = function(string, tabSize, lineOracle) {\n  this.pos = this.start = 0;\n  this.string = string;\n  this.tabSize = tabSize || 8;\n  this.lastColumnPos = this.lastColumnValue = 0;\n  this.lineStart = 0;\n  this.lineOracle = lineOracle;\n};\n\nStringStream.prototype.eol = function () {return this.pos >= this.string.length};\nStringStream.prototype.sol = function () {return this.pos == this.lineStart};\nStringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\nStringStream.prototype.next = function () {\n  if (this.pos < this.string.length)\n    { return this.string.charAt(this.pos++) }\n};\nStringStream.prototype.eat = function (match) {\n  var ch = this.string.charAt(this.pos);\n  var ok;\n  if (typeof match == \"string\") { ok = ch == match; }\n  else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n  if (ok) {++this.pos; return ch}\n};\nStringStream.prototype.eatWhile = function (match) {\n  var start = this.pos;\n  while (this.eat(match)){}\n  return this.pos > start\n};\nStringStream.prototype.eatSpace = function () {\n    var this$1 = this;\n\n  var start = this.pos;\n  while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos; }\n  return this.pos > start\n};\nStringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\nStringStream.prototype.skipTo = function (ch) {\n  var found = this.string.indexOf(ch, this.pos);\n  if (found > -1) {this.pos = found; return true}\n};\nStringStream.prototype.backUp = function (n) {this.pos -= n;};\nStringStream.prototype.column = function () {\n  if (this.lastColumnPos < this.start) {\n    this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n    this.lastColumnPos = this.start;\n  }\n  return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.indentation = function () {\n  return countColumn(this.string, null, this.tabSize) -\n    (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n  if (typeof pattern == \"string\") {\n    var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n    var substr = this.string.substr(this.pos, pattern.length);\n    if (cased(substr) == cased(pattern)) {\n      if (consume !== false) { this.pos += pattern.length; }\n      return true\n    }\n  } else {\n    var match = this.string.slice(this.pos).match(pattern);\n    if (match && match.index > 0) { return null }\n    if (match && consume !== false) { this.pos += match[0].length; }\n    return match\n  }\n};\nStringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\nStringStream.prototype.hideFirstChars = function (n, inner) {\n  this.lineStart += n;\n  try { return inner() }\n  finally { this.lineStart -= n; }\n};\nStringStream.prototype.lookAhead = function (n) {\n  var oracle = this.lineOracle;\n  return oracle && oracle.lookAhead(n)\n};\nStringStream.prototype.baseToken = function () {\n  var oracle = this.lineOracle;\n  return oracle && oracle.baseToken(this.pos)\n};\n\nvar SavedContext = function(state, lookAhead) {\n  this.state = state;\n  this.lookAhead = lookAhead;\n};\n\nvar Context = function(doc, state, line, lookAhead) {\n  this.state = state;\n  this.doc = doc;\n  this.line = line;\n  this.maxLookAhead = lookAhead || 0;\n  this.baseTokens = null;\n  this.baseTokenPos = 1;\n};\n\nContext.prototype.lookAhead = function (n) {\n  var line = this.doc.getLine(this.line + n);\n  if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n  return line\n};\n\nContext.prototype.baseToken = function (n) {\n    var this$1 = this;\n\n  if (!this.baseTokens) { return null }\n  while (this.baseTokens[this.baseTokenPos] <= n)\n    { this$1.baseTokenPos += 2; }\n  var type = this.baseTokens[this.baseTokenPos + 1];\n  return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n          size: this.baseTokens[this.baseTokenPos] - n}\n};\n\nContext.prototype.nextLine = function () {\n  this.line++;\n  if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n};\n\nContext.fromSaved = function (doc, saved, line) {\n  if (saved instanceof SavedContext)\n    { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n  else\n    { return new Context(doc, copyState(doc.mode, saved), line) }\n};\n\nContext.prototype.save = function (copy) {\n  var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n  return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n};\n\n\n// Compute a style array (an array starting with a mode generation\n// -- for invalidation -- followed by pairs of end positions and\n// style strings), which is used to highlight the tokens on the\n// line.\nfunction highlightLine(cm, line, context, forceToEnd) {\n  // A styles array always starts with a number identifying the\n  // mode/overlays that it is based on (for easy invalidation).\n  var st = [cm.state.modeGen], lineClasses = {};\n  // Compute the base array of styles\n  runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n          lineClasses, forceToEnd);\n  var state = context.state;\n\n  // Run overlays, adjust style array.\n  var loop = function ( o ) {\n    context.baseTokens = st;\n    var overlay = cm.state.overlays[o], i = 1, at = 0;\n    context.state = true;\n    runMode(cm, line.text, overlay.mode, context, function (end, style) {\n      var start = i;\n      // Ensure there's a token end at the current position, and that i points at it\n      while (at < end) {\n        var i_end = st[i];\n        if (i_end > end)\n          { st.splice(i, 1, end, st[i+1], i_end); }\n        i += 2;\n        at = Math.min(end, i_end);\n      }\n      if (!style) { return }\n      if (overlay.opaque) {\n        st.splice(start, i - start, end, \"overlay \" + style);\n        i = start + 2;\n      } else {\n        for (; start < i; start += 2) {\n          var cur = st[start+1];\n          st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n        }\n      }\n    }, lineClasses);\n    context.state = state;\n    context.baseTokens = null;\n    context.baseTokenPos = 1;\n  };\n\n  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n}\n\nfunction getLineStyles(cm, line, updateFrontier) {\n  if (!line.styles || line.styles[0] != cm.state.modeGen) {\n    var context = getContextBefore(cm, lineNo(line));\n    var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n    var result = highlightLine(cm, line, context);\n    if (resetState) { context.state = resetState; }\n    line.stateAfter = context.save(!resetState);\n    line.styles = result.styles;\n    if (result.classes) { line.styleClasses = result.classes; }\n    else if (line.styleClasses) { line.styleClasses = null; }\n    if (updateFrontier === cm.doc.highlightFrontier)\n      { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n  }\n  return line.styles\n}\n\nfunction getContextBefore(cm, n, precise) {\n  var doc = cm.doc, display = cm.display;\n  if (!doc.mode.startState) { return new Context(doc, true, n) }\n  var start = findStartLine(cm, n, precise);\n  var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n  var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n  doc.iter(start, n, function (line) {\n    processLine(cm, line.text, context);\n    var pos = context.line;\n    line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n    context.nextLine();\n  });\n  if (precise) { doc.modeFrontier = context.line; }\n  return context\n}\n\n// Lightweight form of highlight -- proceed over this line and\n// update state, but don't save a style array. Used for lines that\n// aren't currently visible.\nfunction processLine(cm, text, context, startAt) {\n  var mode = cm.doc.mode;\n  var stream = new StringStream(text, cm.options.tabSize, context);\n  stream.start = stream.pos = startAt || 0;\n  if (text == \"\") { callBlankLine(mode, context.state); }\n  while (!stream.eol()) {\n    readToken(mode, stream, context.state);\n    stream.start = stream.pos;\n  }\n}\n\nfunction callBlankLine(mode, state) {\n  if (mode.blankLine) { return mode.blankLine(state) }\n  if (!mode.innerMode) { return }\n  var inner = innerMode(mode, state);\n  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n}\n\nfunction readToken(mode, stream, state, inner) {\n  for (var i = 0; i < 10; i++) {\n    if (inner) { inner[0] = innerMode(mode, state).mode; }\n    var style = mode.token(stream, state);\n    if (stream.pos > stream.start) { return style }\n  }\n  throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n}\n\nvar Token = function(stream, type, state) {\n  this.start = stream.start; this.end = stream.pos;\n  this.string = stream.current();\n  this.type = type || null;\n  this.state = state;\n};\n\n// Utility for getTokenAt and getLineTokens\nfunction takeToken(cm, pos, precise, asArray) {\n  var doc = cm.doc, mode = doc.mode, style;\n  pos = clipPos(doc, pos);\n  var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n  var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n  if (asArray) { tokens = []; }\n  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n    stream.start = stream.pos;\n    style = readToken(mode, stream, context.state);\n    if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n  }\n  return asArray ? tokens : new Token(stream, style, context.state)\n}\n\nfunction extractLineClasses(type, output) {\n  if (type) { for (;;) {\n    var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n    if (!lineClass) { break }\n    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n    var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n    if (output[prop] == null)\n      { output[prop] = lineClass[2]; }\n    else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n      { output[prop] += \" \" + lineClass[2]; }\n  } }\n  return type\n}\n\n// Run the given mode's parser over a line, calling f for each token.\nfunction runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n  var flattenSpans = mode.flattenSpans;\n  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n  var curStart = 0, curStyle = null;\n  var stream = new StringStream(text, cm.options.tabSize, context), style;\n  var inner = cm.options.addModeClass && [null];\n  if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n  while (!stream.eol()) {\n    if (stream.pos > cm.options.maxHighlightLength) {\n      flattenSpans = false;\n      if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n      stream.pos = text.length;\n      style = null;\n    } else {\n      style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n    }\n    if (inner) {\n      var mName = inner[0].name;\n      if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n    }\n    if (!flattenSpans || curStyle != style) {\n      while (curStart < stream.start) {\n        curStart = Math.min(stream.start, curStart + 5000);\n        f(curStart, curStyle);\n      }\n      curStyle = style;\n    }\n    stream.start = stream.pos;\n  }\n  while (curStart < stream.pos) {\n    // Webkit seems to refuse to render text nodes longer than 57444\n    // characters, and returns inaccurate measurements in nodes\n    // starting around 5000 chars.\n    var pos = Math.min(stream.pos, curStart + 5000);\n    f(pos, curStyle);\n    curStart = pos;\n  }\n}\n\n// Finds the line to start with when starting a parse. Tries to\n// find a line with a stateAfter, so that it can start with a\n// valid state. If that fails, it returns the line with the\n// smallest indentation, which tends to need the least context to\n// parse correctly.\nfunction findStartLine(cm, n, precise) {\n  var minindent, minline, doc = cm.doc;\n  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n  for (var search = n; search > lim; --search) {\n    if (search <= doc.first) { return doc.first }\n    var line = getLine(doc, search - 1), after = line.stateAfter;\n    if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n      { return search }\n    var indented = countColumn(line.text, null, cm.options.tabSize);\n    if (minline == null || minindent > indented) {\n      minline = search - 1;\n      minindent = indented;\n    }\n  }\n  return minline\n}\n\nfunction retreatFrontier(doc, n) {\n  doc.modeFrontier = Math.min(doc.modeFrontier, n);\n  if (doc.highlightFrontier < n - 10) { return }\n  var start = doc.first;\n  for (var line = n - 1; line > start; line--) {\n    var saved = getLine(doc, line).stateAfter;\n    // change is on 3\n    // state on line 1 looked ahead 2 -- so saw 3\n    // test 1 + 2 < 3 should cover this\n    if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n      start = line + 1;\n      break\n    }\n  }\n  doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n}\n\n// LINE DATA STRUCTURE\n\n// Line objects. These hold state related to a line, including\n// highlighting info (the styles array).\nvar Line = function(text, markedSpans, estimateHeight) {\n  this.text = text;\n  attachMarkedSpans(this, markedSpans);\n  this.height = estimateHeight ? estimateHeight(this) : 1;\n};\n\nLine.prototype.lineNo = function () { return lineNo(this) };\neventMixin(Line);\n\n// Change the content (text, markers) of a line. Automatically\n// invalidates cached information and tries to re-estimate the\n// line's height.\nfunction updateLine(line, text, markedSpans, estimateHeight) {\n  line.text = text;\n  if (line.stateAfter) { line.stateAfter = null; }\n  if (line.styles) { line.styles = null; }\n  if (line.order != null) { line.order = null; }\n  detachMarkedSpans(line);\n  attachMarkedSpans(line, markedSpans);\n  var estHeight = estimateHeight ? estimateHeight(line) : 1;\n  if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n}\n\n// Detach a line from the document tree and its markers.\nfunction cleanUpLine(line) {\n  line.parent = null;\n  detachMarkedSpans(line);\n}\n\n// Convert a style as returned by a mode (either null, or a string\n// containing one or more styles) to a CSS style. This is cached,\n// and also looks for line-wide styles.\nvar styleToClassCache = {};\nvar styleToClassCacheWithMode = {};\nfunction interpretTokenStyle(style, options) {\n  if (!style || /^\\s*$/.test(style)) { return null }\n  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n  return cache[style] ||\n    (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n}\n\n// Render the DOM representation of the text of a line. Also builds\n// up a 'line map', which points at the DOM nodes that represent\n// specific stretches of text, and is used by the measuring code.\n// The returned object contains the DOM node, this map, and\n// information about line-wide styles that were set by the mode.\nfunction buildLineContent(cm, lineView) {\n  // The padding-right forces the element to have a 'border', which\n  // is needed on Webkit to be able to get line-level bounding\n  // rectangles for it (in measureChar).\n  var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n  var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                 col: 0, pos: 0, cm: cm,\n                 trailingSpace: false,\n                 splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")};\n  lineView.measure = {};\n\n  // Iterate over the logical lines that make up this visual line.\n  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n    builder.pos = 0;\n    builder.addToken = buildToken;\n    // Optionally wire in some hacks into the token-rendering\n    // algorithm, to deal with browser quirks.\n    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n      { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n    builder.map = [];\n    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n    if (line.styleClasses) {\n      if (line.styleClasses.bgClass)\n        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n      if (line.styleClasses.textClass)\n        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n    }\n\n    // Ensure at least a single node is present, for measuring.\n    if (builder.map.length == 0)\n      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n    // Store the map and a cache object for the current logical line\n    if (i == 0) {\n      lineView.measure.map = builder.map;\n      lineView.measure.cache = {};\n    } else {\n      (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n    }\n  }\n\n  // See issue #2901\n  if (webkit) {\n    var last = builder.content.lastChild;\n    if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n      { builder.content.className = \"cm-tab-wrap-hack\"; }\n  }\n\n  signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n  if (builder.pre.className)\n    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n  return builder\n}\n\nfunction defaultSpecialCharPlaceholder(ch) {\n  var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n  token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n  token.setAttribute(\"aria-label\", token.title);\n  return token\n}\n\n// Build up the DOM representation for a single token, and add it to\n// the line map. Takes care to render special characters separately.\nfunction buildToken(builder, text, style, startStyle, endStyle, title, css) {\n  if (!text) { return }\n  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n  var special = builder.cm.state.specialChars, mustWrap = false;\n  var content;\n  if (!special.test(text)) {\n    builder.col += text.length;\n    content = document.createTextNode(displayText);\n    builder.map.push(builder.pos, builder.pos + text.length, content);\n    if (ie && ie_version < 9) { mustWrap = true; }\n    builder.pos += text.length;\n  } else {\n    content = document.createDocumentFragment();\n    var pos = 0;\n    while (true) {\n      special.lastIndex = pos;\n      var m = special.exec(text);\n      var skipped = m ? m.index - pos : text.length - pos;\n      if (skipped) {\n        var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n        else { content.appendChild(txt); }\n        builder.map.push(builder.pos, builder.pos + skipped, txt);\n        builder.col += skipped;\n        builder.pos += skipped;\n      }\n      if (!m) { break }\n      pos += skipped + 1;\n      var txt$1 = (void 0);\n      if (m[0] == \"\\t\") {\n        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n        txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n        txt$1.setAttribute(\"role\", \"presentation\");\n        txt$1.setAttribute(\"cm-text\", \"\\t\");\n        builder.col += tabWidth;\n      } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n        txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n        txt$1.setAttribute(\"cm-text\", m[0]);\n        builder.col += 1;\n      } else {\n        txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n        txt$1.setAttribute(\"cm-text\", m[0]);\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n        else { content.appendChild(txt$1); }\n        builder.col += 1;\n      }\n      builder.map.push(builder.pos, builder.pos + 1, txt$1);\n      builder.pos++;\n    }\n  }\n  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n  if (style || startStyle || endStyle || mustWrap || css) {\n    var fullStyle = style || \"\";\n    if (startStyle) { fullStyle += startStyle; }\n    if (endStyle) { fullStyle += endStyle; }\n    var token = elt(\"span\", [content], fullStyle, css);\n    if (title) { token.title = title; }\n    return builder.content.appendChild(token)\n  }\n  builder.content.appendChild(content);\n}\n\nfunction splitSpaces(text, trailingBefore) {\n  if (text.length > 1 && !/  /.test(text)) { return text }\n  var spaceBefore = trailingBefore, result = \"\";\n  for (var i = 0; i < text.length; i++) {\n    var ch = text.charAt(i);\n    if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n      { ch = \"\\u00a0\"; }\n    result += ch;\n    spaceBefore = ch == \" \";\n  }\n  return result\n}\n\n// Work around nonsense dimensions being reported for stretches of\n// right-to-left text.\nfunction buildTokenBadBidi(inner, order) {\n  return function (builder, text, style, startStyle, endStyle, title, css) {\n    style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n    var start = builder.pos, end = start + text.length;\n    for (;;) {\n      // Find the part that overlaps with the start of this text\n      var part = (void 0);\n      for (var i = 0; i < order.length; i++) {\n        part = order[i];\n        if (part.to > start && part.from <= start) { break }\n      }\n      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }\n      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css);\n      startStyle = null;\n      text = text.slice(part.to - start);\n      start = part.to;\n    }\n  }\n}\n\nfunction buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n  var widget = !ignoreWidget && marker.widgetNode;\n  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n    if (!widget)\n      { widget = builder.content.appendChild(document.createElement(\"span\")); }\n    widget.setAttribute(\"cm-marker\", marker.id);\n  }\n  if (widget) {\n    builder.cm.display.input.setUneditable(widget);\n    builder.content.appendChild(widget);\n  }\n  builder.pos += size;\n  builder.trailingSpace = false;\n}\n\n// Outputs a number of spans to make up a line, taking highlighting\n// and marked text into account.\nfunction insertLineContent(line, builder, styles) {\n  var spans = line.markedSpans, allText = line.text, at = 0;\n  if (!spans) {\n    for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n    return\n  }\n\n  var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed;\n  for (;;) {\n    if (nextChange == pos) { // Update current marker set\n      spanStyle = spanEndStyle = spanStartStyle = title = css = \"\";\n      collapsed = null; nextChange = Infinity;\n      var foundBookmarks = [], endStyles = (void 0);\n      for (var j = 0; j < spans.length; ++j) {\n        var sp = spans[j], m = sp.marker;\n        if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n          foundBookmarks.push(m);\n        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n          if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n            nextChange = sp.to;\n            spanEndStyle = \"\";\n          }\n          if (m.className) { spanStyle += \" \" + m.className; }\n          if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n          if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n          if (m.title && !title) { title = m.title; }\n          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n            { collapsed = sp; }\n        } else if (sp.from > pos && nextChange > sp.from) {\n          nextChange = sp.from;\n        }\n      }\n      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n      if (collapsed && (collapsed.from || 0) == pos) {\n        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                           collapsed.marker, collapsed.from == null);\n        if (collapsed.to == null) { return }\n        if (collapsed.to == pos) { collapsed = false; }\n      }\n    }\n    if (pos >= len) { break }\n\n    var upto = Math.min(len, nextChange);\n    while (true) {\n      if (text) {\n        var end = pos + text.length;\n        if (!collapsed) {\n          var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css);\n        }\n        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n        pos = end;\n        spanStartStyle = \"\";\n      }\n      text = allText.slice(at, at = styles[i++]);\n      style = interpretTokenStyle(styles[i++], builder.cm.options);\n    }\n  }\n}\n\n\n// These objects are used to represent the visible (currently drawn)\n// part of the document. A LineView may correspond to multiple\n// logical lines, if those are connected by collapsed ranges.\nfunction LineView(doc, line, lineN) {\n  // The starting line\n  this.line = line;\n  // Continuing lines, if any\n  this.rest = visualLineContinued(line);\n  // Number of logical lines in this visual line\n  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n  this.node = this.text = null;\n  this.hidden = lineIsHidden(doc, line);\n}\n\n// Create a range of LineView objects for the given lines.\nfunction buildViewArray(cm, from, to) {\n  var array = [], nextPos;\n  for (var pos = from; pos < to; pos = nextPos) {\n    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n    nextPos = pos + view.size;\n    array.push(view);\n  }\n  return array\n}\n\nvar operationGroup = null;\n\nfunction pushOperation(op) {\n  if (operationGroup) {\n    operationGroup.ops.push(op);\n  } else {\n    op.ownsGroup = operationGroup = {\n      ops: [op],\n      delayedCallbacks: []\n    };\n  }\n}\n\nfunction fireCallbacksForOps(group) {\n  // Calls delayed callbacks and cursorActivity handlers until no\n  // new ones appear\n  var callbacks = group.delayedCallbacks, i = 0;\n  do {\n    for (; i < callbacks.length; i++)\n      { callbacks[i].call(null); }\n    for (var j = 0; j < group.ops.length; j++) {\n      var op = group.ops[j];\n      if (op.cursorActivityHandlers)\n        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n    }\n  } while (i < callbacks.length)\n}\n\nfunction finishOperation(op, endCb) {\n  var group = op.ownsGroup;\n  if (!group) { return }\n\n  try { fireCallbacksForOps(group); }\n  finally {\n    operationGroup = null;\n    endCb(group);\n  }\n}\n\nvar orphanDelayedCallbacks = null;\n\n// Often, we want to signal events at a point where we are in the\n// middle of some work, but don't want the handler to start calling\n// other methods on the editor, which might be in an inconsistent\n// state or simply not expect any other events to happen.\n// signalLater looks whether there are any handlers, and schedules\n// them to be executed when the last operation ends, or, if no\n// operation is active, when a timeout fires.\nfunction signalLater(emitter, type /*, values...*/) {\n  var arr = getHandlers(emitter, type);\n  if (!arr.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2), list;\n  if (operationGroup) {\n    list = operationGroup.delayedCallbacks;\n  } else if (orphanDelayedCallbacks) {\n    list = orphanDelayedCallbacks;\n  } else {\n    list = orphanDelayedCallbacks = [];\n    setTimeout(fireOrphanDelayed, 0);\n  }\n  var loop = function ( i ) {\n    list.push(function () { return arr[i].apply(null, args); });\n  };\n\n  for (var i = 0; i < arr.length; ++i)\n    loop( i );\n}\n\nfunction fireOrphanDelayed() {\n  var delayed = orphanDelayedCallbacks;\n  orphanDelayedCallbacks = null;\n  for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n}\n\n// When an aspect of a line changes, a string is added to\n// lineView.changes. This updates the relevant part of the line's\n// DOM structure.\nfunction updateLineForChanges(cm, lineView, lineN, dims) {\n  for (var j = 0; j < lineView.changes.length; j++) {\n    var type = lineView.changes[j];\n    if (type == \"text\") { updateLineText(cm, lineView); }\n    else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n    else if (type == \"class\") { updateLineClasses(cm, lineView); }\n    else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n  }\n  lineView.changes = null;\n}\n\n// Lines with gutter elements, widgets or a background class need to\n// be wrapped, and have the extra elements added to the wrapper div\nfunction ensureLineWrapped(lineView) {\n  if (lineView.node == lineView.text) {\n    lineView.node = elt(\"div\", null, null, \"position: relative\");\n    if (lineView.text.parentNode)\n      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n    lineView.node.appendChild(lineView.text);\n    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n  }\n  return lineView.node\n}\n\nfunction updateLineBackground(cm, lineView) {\n  var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n  if (cls) { cls += \" CodeMirror-linebackground\"; }\n  if (lineView.background) {\n    if (cls) { lineView.background.className = cls; }\n    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n  } else if (cls) {\n    var wrap = ensureLineWrapped(lineView);\n    lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n    cm.display.input.setUneditable(lineView.background);\n  }\n}\n\n// Wrapper around buildLineContent which will reuse the structure\n// in display.externalMeasured when possible.\nfunction getLineContent(cm, lineView) {\n  var ext = cm.display.externalMeasured;\n  if (ext && ext.line == lineView.line) {\n    cm.display.externalMeasured = null;\n    lineView.measure = ext.measure;\n    return ext.built\n  }\n  return buildLineContent(cm, lineView)\n}\n\n// Redraw the line's text. Interacts with the background and text\n// classes because the mode may output tokens that influence these\n// classes.\nfunction updateLineText(cm, lineView) {\n  var cls = lineView.text.className;\n  var built = getLineContent(cm, lineView);\n  if (lineView.text == lineView.node) { lineView.node = built.pre; }\n  lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n  lineView.text = built.pre;\n  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n    lineView.bgClass = built.bgClass;\n    lineView.textClass = built.textClass;\n    updateLineClasses(cm, lineView);\n  } else if (cls) {\n    lineView.text.className = cls;\n  }\n}\n\nfunction updateLineClasses(cm, lineView) {\n  updateLineBackground(cm, lineView);\n  if (lineView.line.wrapClass)\n    { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n  else if (lineView.node != lineView.text)\n    { lineView.node.className = \"\"; }\n  var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n  lineView.text.className = textClass || \"\";\n}\n\nfunction updateLineGutter(cm, lineView, lineN, dims) {\n  if (lineView.gutter) {\n    lineView.node.removeChild(lineView.gutter);\n    lineView.gutter = null;\n  }\n  if (lineView.gutterBackground) {\n    lineView.node.removeChild(lineView.gutterBackground);\n    lineView.gutterBackground = null;\n  }\n  if (lineView.line.gutterClass) {\n    var wrap = ensureLineWrapped(lineView);\n    lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                    (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n    cm.display.input.setUneditable(lineView.gutterBackground);\n    wrap.insertBefore(lineView.gutterBackground, lineView.text);\n  }\n  var markers = lineView.line.gutterMarkers;\n  if (cm.options.lineNumbers || markers) {\n    var wrap$1 = ensureLineWrapped(lineView);\n    var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n    cm.display.input.setUneditable(gutterWrap);\n    wrap$1.insertBefore(gutterWrap, lineView.text);\n    if (lineView.line.gutterClass)\n      { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n    if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n      { lineView.lineNumber = gutterWrap.appendChild(\n        elt(\"div\", lineNumberFor(cm.options, lineN),\n            \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n            (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\n      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];\n      if (found)\n        { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                   (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n    } }\n  }\n}\n\nfunction updateLineWidgets(cm, lineView, dims) {\n  if (lineView.alignable) { lineView.alignable = null; }\n  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n    next = node.nextSibling;\n    if (node.className == \"CodeMirror-linewidget\")\n      { lineView.node.removeChild(node); }\n  }\n  insertLineWidgets(cm, lineView, dims);\n}\n\n// Build a line's DOM representation from scratch\nfunction buildLineElement(cm, lineView, lineN, dims) {\n  var built = getLineContent(cm, lineView);\n  lineView.text = lineView.node = built.pre;\n  if (built.bgClass) { lineView.bgClass = built.bgClass; }\n  if (built.textClass) { lineView.textClass = built.textClass; }\n\n  updateLineClasses(cm, lineView);\n  updateLineGutter(cm, lineView, lineN, dims);\n  insertLineWidgets(cm, lineView, dims);\n  return lineView.node\n}\n\n// A lineView may contain multiple logical lines (when merged by\n// collapsed spans). The widgets for all of them need to be drawn.\nfunction insertLineWidgets(cm, lineView, dims) {\n  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n}\n\nfunction insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n  if (!line.widgets) { return }\n  var wrap = ensureLineWrapped(lineView);\n  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n    var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n    if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n    positionLineWidget(widget, node, lineView, dims);\n    cm.display.input.setUneditable(node);\n    if (allowAbove && widget.above)\n      { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n    else\n      { wrap.appendChild(node); }\n    signalLater(widget, \"redraw\");\n  }\n}\n\nfunction positionLineWidget(widget, node, lineView, dims) {\n  if (widget.noHScroll) {\n    (lineView.alignable || (lineView.alignable = [])).push(node);\n    var width = dims.wrapperWidth;\n    node.style.left = dims.fixedPos + \"px\";\n    if (!widget.coverGutter) {\n      width -= dims.gutterTotalWidth;\n      node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n    }\n    node.style.width = width + \"px\";\n  }\n  if (widget.coverGutter) {\n    node.style.zIndex = 5;\n    node.style.position = \"relative\";\n    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n  }\n}\n\nfunction widgetHeight(widget) {\n  if (widget.height != null) { return widget.height }\n  var cm = widget.doc.cm;\n  if (!cm) { return 0 }\n  if (!contains(document.body, widget.node)) {\n    var parentStyle = \"position: relative;\";\n    if (widget.coverGutter)\n      { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n    if (widget.noHScroll)\n      { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n    removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n  }\n  return widget.height = widget.node.parentNode.offsetHeight\n}\n\n// Return true when the given mouse event happened in a widget\nfunction eventInWidget(display, e) {\n  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n    if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n        (n.parentNode == display.sizer && n != display.mover))\n      { return true }\n  }\n}\n\n// POSITION MEASUREMENT\n\nfunction paddingTop(display) {return display.lineSpace.offsetTop}\nfunction paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\nfunction paddingH(display) {\n  if (display.cachedPaddingH) { return display.cachedPaddingH }\n  var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"));\n  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n  return data\n}\n\nfunction scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\nfunction displayWidth(cm) {\n  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n}\nfunction displayHeight(cm) {\n  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n}\n\n// Ensure the lineView.wrapping.heights array is populated. This is\n// an array of bottom offsets for the lines that make up a drawn\n// line. When lineWrapping is on, there might be more than one\n// height.\nfunction ensureLineHeights(cm, lineView, rect) {\n  var wrapping = cm.options.lineWrapping;\n  var curWidth = wrapping && displayWidth(cm);\n  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n    var heights = lineView.measure.heights = [];\n    if (wrapping) {\n      lineView.measure.width = curWidth;\n      var rects = lineView.text.firstChild.getClientRects();\n      for (var i = 0; i < rects.length - 1; i++) {\n        var cur = rects[i], next = rects[i + 1];\n        if (Math.abs(cur.bottom - next.bottom) > 2)\n          { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n      }\n    }\n    heights.push(rect.bottom - rect.top);\n  }\n}\n\n// Find a line map (mapping character offsets to text nodes) and a\n// measurement cache for the given line number. (A line view might\n// contain multiple lines when collapsed ranges are present.)\nfunction mapFromLineView(lineView, line, lineN) {\n  if (lineView.line == line)\n    { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n  for (var i = 0; i < lineView.rest.length; i++)\n    { if (lineView.rest[i] == line)\n      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n    { if (lineNo(lineView.rest[i$1]) > lineN)\n      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n}\n\n// Render a line into the hidden node display.externalMeasured. Used\n// when measurement is needed for a line that's not in the viewport.\nfunction updateExternalMeasurement(cm, line) {\n  line = visualLine(line);\n  var lineN = lineNo(line);\n  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n  view.lineN = lineN;\n  var built = view.built = buildLineContent(cm, view);\n  view.text = built.pre;\n  removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n  return view\n}\n\n// Get a {top, bottom, left, right} box (in line-local coordinates)\n// for a given character.\nfunction measureChar(cm, line, ch, bias) {\n  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n}\n\n// Find a line view that corresponds to the given line number.\nfunction findViewForLine(cm, lineN) {\n  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n    { return cm.display.view[findViewIndex(cm, lineN)] }\n  var ext = cm.display.externalMeasured;\n  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n    { return ext }\n}\n\n// Measurement can be split in two steps, the set-up work that\n// applies to the whole line, and the measurement of the actual\n// character. Functions like coordsChar, that need to do a lot of\n// measurements in a row, can thus ensure that the set-up work is\n// only done once.\nfunction prepareMeasureForLine(cm, line) {\n  var lineN = lineNo(line);\n  var view = findViewForLine(cm, lineN);\n  if (view && !view.text) {\n    view = null;\n  } else if (view && view.changes) {\n    updateLineForChanges(cm, view, lineN, getDimensions(cm));\n    cm.curOp.forceUpdate = true;\n  }\n  if (!view)\n    { view = updateExternalMeasurement(cm, line); }\n\n  var info = mapFromLineView(view, line, lineN);\n  return {\n    line: line, view: view, rect: null,\n    map: info.map, cache: info.cache, before: info.before,\n    hasHeights: false\n  }\n}\n\n// Given a prepared measurement object, measures the position of an\n// actual character (or fetches it from the cache).\nfunction measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n  if (prepared.before) { ch = -1; }\n  var key = ch + (bias || \"\"), found;\n  if (prepared.cache.hasOwnProperty(key)) {\n    found = prepared.cache[key];\n  } else {\n    if (!prepared.rect)\n      { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n    if (!prepared.hasHeights) {\n      ensureLineHeights(cm, prepared.view, prepared.rect);\n      prepared.hasHeights = true;\n    }\n    found = measureCharInner(cm, prepared, ch, bias);\n    if (!found.bogus) { prepared.cache[key] = found; }\n  }\n  return {left: found.left, right: found.right,\n          top: varHeight ? found.rtop : found.top,\n          bottom: varHeight ? found.rbottom : found.bottom}\n}\n\nvar nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\nfunction nodeAndOffsetInLineMap(map$$1, ch, bias) {\n  var node, start, end, collapse, mStart, mEnd;\n  // First, search the line map for the text node corresponding to,\n  // or closest to, the target character.\n  for (var i = 0; i < map$$1.length; i += 3) {\n    mStart = map$$1[i];\n    mEnd = map$$1[i + 1];\n    if (ch < mStart) {\n      start = 0; end = 1;\n      collapse = \"left\";\n    } else if (ch < mEnd) {\n      start = ch - mStart;\n      end = start + 1;\n    } else if (i == map$$1.length - 3 || ch == mEnd && map$$1[i + 3] > ch) {\n      end = mEnd - mStart;\n      start = end - 1;\n      if (ch >= mEnd) { collapse = \"right\"; }\n    }\n    if (start != null) {\n      node = map$$1[i + 2];\n      if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n        { collapse = bias; }\n      if (bias == \"left\" && start == 0)\n        { while (i && map$$1[i - 2] == map$$1[i - 3] && map$$1[i - 1].insertLeft) {\n          node = map$$1[(i -= 3) + 2];\n          collapse = \"left\";\n        } }\n      if (bias == \"right\" && start == mEnd - mStart)\n        { while (i < map$$1.length - 3 && map$$1[i + 3] == map$$1[i + 4] && !map$$1[i + 5].insertLeft) {\n          node = map$$1[(i += 3) + 2];\n          collapse = \"right\";\n        } }\n      break\n    }\n  }\n  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n}\n\nfunction getUsefulRect(rects, bias) {\n  var rect = nullRect;\n  if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n    if ((rect = rects[i]).left != rect.right) { break }\n  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n    if ((rect = rects[i$1]).left != rect.right) { break }\n  } }\n  return rect\n}\n\nfunction measureCharInner(cm, prepared, ch, bias) {\n  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n  var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n  var rect;\n  if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n    for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n        { rect = node.parentNode.getBoundingClientRect(); }\n      else\n        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n      if (rect.left || rect.right || start == 0) { break }\n      end = start;\n      start = start - 1;\n      collapse = \"right\";\n    }\n    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n  } else { // If it is a widget, simply get the box for the whole widget.\n    if (start > 0) { collapse = bias = \"right\"; }\n    var rects;\n    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n      { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n    else\n      { rect = node.getBoundingClientRect(); }\n  }\n  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n    var rSpan = node.parentNode.getClientRects()[0];\n    if (rSpan)\n      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n    else\n      { rect = nullRect; }\n  }\n\n  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n  var mid = (rtop + rbot) / 2;\n  var heights = prepared.view.measure.heights;\n  var i = 0;\n  for (; i < heights.length - 1; i++)\n    { if (mid < heights[i]) { break } }\n  var top = i ? heights[i - 1] : 0, bot = heights[i];\n  var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                top: top, bottom: bot};\n  if (!rect.left && !rect.right) { result.bogus = true; }\n  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n  return result\n}\n\n// Work around problem with bounding client rects on ranges being\n// returned incorrectly when zoomed on IE10 and below.\nfunction maybeUpdateRectForZooming(measure, rect) {\n  if (!window.screen || screen.logicalXDPI == null ||\n      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n    { return rect }\n  var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n  var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n  return {left: rect.left * scaleX, right: rect.right * scaleX,\n          top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n}\n\nfunction clearLineMeasurementCacheFor(lineView) {\n  if (lineView.measure) {\n    lineView.measure.cache = {};\n    lineView.measure.heights = null;\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { lineView.measure.caches[i] = {}; } }\n  }\n}\n\nfunction clearLineMeasurementCache(cm) {\n  cm.display.externalMeasure = null;\n  removeChildren(cm.display.lineMeasure);\n  for (var i = 0; i < cm.display.view.length; i++)\n    { clearLineMeasurementCacheFor(cm.display.view[i]); }\n}\n\nfunction clearCaches(cm) {\n  clearLineMeasurementCache(cm);\n  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n  cm.display.lineNumChars = null;\n}\n\nfunction pageScrollX() {\n  // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n  // which causes page_Offset and bounding client rects to use\n  // different reference viewports and invalidate our calculations.\n  if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n  return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n}\nfunction pageScrollY() {\n  if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n  return window.pageYOffset || (document.documentElement || document.body).scrollTop\n}\n\nfunction widgetTopHeight(lineObj) {\n  var height = 0;\n  if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n    { height += widgetHeight(lineObj.widgets[i]); } } }\n  return height\n}\n\n// Converts a {top, bottom, left, right} box from line-local\n// coordinates into another coordinate system. Context may be one of\n// \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n// or \"page\".\nfunction intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n  if (!includeWidgets) {\n    var height = widgetTopHeight(lineObj);\n    rect.top += height; rect.bottom += height;\n  }\n  if (context == \"line\") { return rect }\n  if (!context) { context = \"local\"; }\n  var yOff = heightAtLine(lineObj);\n  if (context == \"local\") { yOff += paddingTop(cm.display); }\n  else { yOff -= cm.display.viewOffset; }\n  if (context == \"page\" || context == \"window\") {\n    var lOff = cm.display.lineSpace.getBoundingClientRect();\n    yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n    var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n    rect.left += xOff; rect.right += xOff;\n  }\n  rect.top += yOff; rect.bottom += yOff;\n  return rect\n}\n\n// Coverts a box from \"div\" coords to another coordinate system.\n// Context may be \"window\", \"page\", \"div\", or \"local\"./null.\nfunction fromCoordSystem(cm, coords, context) {\n  if (context == \"div\") { return coords }\n  var left = coords.left, top = coords.top;\n  // First move into \"page\" coordinate system\n  if (context == \"page\") {\n    left -= pageScrollX();\n    top -= pageScrollY();\n  } else if (context == \"local\" || !context) {\n    var localBox = cm.display.sizer.getBoundingClientRect();\n    left += localBox.left;\n    top += localBox.top;\n  }\n\n  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n}\n\nfunction charCoords(cm, pos, context, lineObj, bias) {\n  if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n}\n\n// Returns a box for a given cursor position, which may have an\n// 'other' property containing the position of the secondary cursor\n// on a bidi boundary.\n// A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n// and after `char - 1` in writing order of `char - 1`\n// A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n// and before `char` in writing order of `char`\n// Examples (upper-case letters are RTL, lower-case are LTR):\n//     Pos(0, 1, ...)\n//     before   after\n// ab     a|b     a|b\n// aB     a|B     aB|\n// Ab     |Ab     A|b\n// AB     B|A     B|A\n// Every position after the last character on a line is considered to stick\n// to the last character on the line.\nfunction cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n  lineObj = lineObj || getLine(cm.doc, pos.line);\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n  function get(ch, right) {\n    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n    if (right) { m.left = m.right; } else { m.right = m.left; }\n    return intoCoordSystem(cm, lineObj, m, context)\n  }\n  var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n  if (ch >= lineObj.text.length) {\n    ch = lineObj.text.length;\n    sticky = \"before\";\n  } else if (ch <= 0) {\n    ch = 0;\n    sticky = \"after\";\n  }\n  if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n  function getBidi(ch, partPos, invert) {\n    var part = order[partPos], right = part.level == 1;\n    return get(invert ? ch - 1 : ch, right != invert)\n  }\n  var partPos = getBidiPartAt(order, ch, sticky);\n  var other = bidiOther;\n  var val = getBidi(ch, partPos, sticky == \"before\");\n  if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n  return val\n}\n\n// Used to cheaply estimate the coordinates for a position. Used for\n// intermediate scroll updates.\nfunction estimateCoords(cm, pos) {\n  var left = 0;\n  pos = clipPos(cm.doc, pos);\n  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n  var lineObj = getLine(cm.doc, pos.line);\n  var top = heightAtLine(lineObj) + paddingTop(cm.display);\n  return {left: left, right: left, top: top, bottom: top + lineObj.height}\n}\n\n// Positions returned by coordsChar contain some extra information.\n// xRel is the relative x position of the input coordinates compared\n// to the found position (so xRel > 0 means the coordinates are to\n// the right of the character position, for example). When outside\n// is true, that means the coordinates lie outside the line's\n// vertical range.\nfunction PosWithInfo(line, ch, sticky, outside, xRel) {\n  var pos = Pos(line, ch, sticky);\n  pos.xRel = xRel;\n  if (outside) { pos.outside = true; }\n  return pos\n}\n\n// Compute the character position closest to the given coordinates.\n// Input must be lineSpace-local (\"div\" coordinate system).\nfunction coordsChar(cm, x, y) {\n  var doc = cm.doc;\n  y += cm.display.viewOffset;\n  if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\n  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n  if (lineN > last)\n    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\n  if (x < 0) { x = 0; }\n\n  var lineObj = getLine(doc, lineN);\n  for (;;) {\n    var found = coordsCharInner(cm, lineObj, lineN, x, y);\n    var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 ? 1 : 0));\n    if (!collapsed) { return found }\n    var rangeEnd = collapsed.find(1);\n    if (rangeEnd.line == lineN) { return rangeEnd }\n    lineObj = getLine(doc, lineN = rangeEnd.line);\n  }\n}\n\nfunction wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n  y -= widgetTopHeight(lineObj);\n  var end = lineObj.text.length;\n  var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n  end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n  return {begin: begin, end: end}\n}\n\nfunction wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n  var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n  return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n}\n\n// Returns true if the given side of a box is after the given\n// coordinates, in top-to-bottom, left-to-right order.\nfunction boxIsAfter(box, x, y, left) {\n  return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n}\n\nfunction coordsCharInner(cm, lineObj, lineNo$$1, x, y) {\n  // Move y into line-local coordinate space\n  y -= heightAtLine(lineObj);\n  var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n  // When directly calling `measureCharPrepared`, we have to adjust\n  // for the widgets at this line.\n  var widgetHeight$$1 = widgetTopHeight(lineObj);\n  var begin = 0, end = lineObj.text.length, ltr = true;\n\n  var order = getOrder(lineObj, cm.doc.direction);\n  // If the line isn't plain left-to-right text, first figure out\n  // which bidi section the coordinates fall into.\n  if (order) {\n    var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                 (cm, lineObj, lineNo$$1, preparedMeasure, order, x, y);\n    ltr = part.level != 1;\n    // The awkward -1 offsets are needed because findFirst (called\n    // on these below) will treat its first bound as inclusive,\n    // second as exclusive, but we want to actually address the\n    // characters in the part's range\n    begin = ltr ? part.from : part.to - 1;\n    end = ltr ? part.to : part.from - 1;\n  }\n\n  // A binary search to find the first character whose bounding box\n  // starts after the coordinates. If we run across any whose box wrap\n  // the coordinates, store that.\n  var chAround = null, boxAround = null;\n  var ch = findFirst(function (ch) {\n    var box = measureCharPrepared(cm, preparedMeasure, ch);\n    box.top += widgetHeight$$1; box.bottom += widgetHeight$$1;\n    if (!boxIsAfter(box, x, y, false)) { return false }\n    if (box.top <= y && box.left <= x) {\n      chAround = ch;\n      boxAround = box;\n    }\n    return true\n  }, begin, end);\n\n  var baseX, sticky, outside = false;\n  // If a box around the coordinates was found, use that\n  if (boxAround) {\n    // Distinguish coordinates nearer to the left or right side of the box\n    var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n    ch = chAround + (atStart ? 0 : 1);\n    sticky = atStart ? \"after\" : \"before\";\n    baseX = atLeft ? boxAround.left : boxAround.right;\n  } else {\n    // (Adjust for extended bound, if necessary.)\n    if (!ltr && (ch == end || ch == begin)) { ch++; }\n    // To determine which side to associate with, get the box to the\n    // left of the character and compare it's vertical position to the\n    // coordinates\n    sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n      (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight$$1 <= y) == ltr ?\n      \"after\" : \"before\";\n    // Now get accurate coordinates for this place, in order to get a\n    // base X position\n    var coords = cursorCoords(cm, Pos(lineNo$$1, ch, sticky), \"line\", lineObj, preparedMeasure);\n    baseX = coords.left;\n    outside = y < coords.top || y >= coords.bottom;\n  }\n\n  ch = skipExtendingChars(lineObj.text, ch, 1);\n  return PosWithInfo(lineNo$$1, ch, sticky, outside, x - baseX)\n}\n\nfunction coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y) {\n  // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n  // situation, we can take this ordering to correspond to the visual\n  // ordering. This finds the first part whose end is after the given\n  // coordinates.\n  var index = findFirst(function (i) {\n    var part = order[i], ltr = part.level != 1;\n    return boxIsAfter(cursorCoords(cm, Pos(lineNo$$1, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                   \"line\", lineObj, preparedMeasure), x, y, true)\n  }, 0, order.length - 1);\n  var part = order[index];\n  // If this isn't the first part, the part's start is also after\n  // the coordinates, and the coordinates aren't on the same line as\n  // that start, move one part back.\n  if (index > 0) {\n    var ltr = part.level != 1;\n    var start = cursorCoords(cm, Pos(lineNo$$1, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                             \"line\", lineObj, preparedMeasure);\n    if (boxIsAfter(start, x, y, true) && start.top > y)\n      { part = order[index - 1]; }\n  }\n  return part\n}\n\nfunction coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n  // In a wrapped line, rtl text on wrapping boundaries can do things\n  // that don't correspond to the ordering in our `order` array at\n  // all, so a binary search doesn't work, and we want to return a\n  // part that only spans one line so that the binary search in\n  // coordsCharInner is safe. As such, we first find the extent of the\n  // wrapped line, and then do a flat search in which we discard any\n  // spans that aren't on the line.\n  var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n  var begin = ref.begin;\n  var end = ref.end;\n  if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n  var part = null, closestDist = null;\n  for (var i = 0; i < order.length; i++) {\n    var p = order[i];\n    if (p.from >= end || p.to <= begin) { continue }\n    var ltr = p.level != 1;\n    var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n    // Weigh against spans ending before this, so that they are only\n    // picked if nothing ends after\n    var dist = endX < x ? x - endX + 1e9 : endX - x;\n    if (!part || closestDist > dist) {\n      part = p;\n      closestDist = dist;\n    }\n  }\n  if (!part) { part = order[order.length - 1]; }\n  // Clip the part to the wrapped line.\n  if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n  if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n  return part\n}\n\nvar measureText;\n// Compute the default text height.\nfunction textHeight(display) {\n  if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n  if (measureText == null) {\n    measureText = elt(\"pre\");\n    // Measure a bunch of lines, for browsers that compute\n    // fractional heights.\n    for (var i = 0; i < 49; ++i) {\n      measureText.appendChild(document.createTextNode(\"x\"));\n      measureText.appendChild(elt(\"br\"));\n    }\n    measureText.appendChild(document.createTextNode(\"x\"));\n  }\n  removeChildrenAndAdd(display.measure, measureText);\n  var height = measureText.offsetHeight / 50;\n  if (height > 3) { display.cachedTextHeight = height; }\n  removeChildren(display.measure);\n  return height || 1\n}\n\n// Compute the default character width.\nfunction charWidth(display) {\n  if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n  var anchor = elt(\"span\", \"xxxxxxxxxx\");\n  var pre = elt(\"pre\", [anchor]);\n  removeChildrenAndAdd(display.measure, pre);\n  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n  if (width > 2) { display.cachedCharWidth = width; }\n  return width || 10\n}\n\n// Do a bulk-read of the DOM positions and sizes needed to draw the\n// view, so that we don't interleave reading and writing to the DOM.\nfunction getDimensions(cm) {\n  var d = cm.display, left = {}, width = {};\n  var gutterLeft = d.gutters.clientLeft;\n  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;\n    width[cm.options.gutters[i]] = n.clientWidth;\n  }\n  return {fixedPos: compensateForHScroll(d),\n          gutterTotalWidth: d.gutters.offsetWidth,\n          gutterLeft: left,\n          gutterWidth: width,\n          wrapperWidth: d.wrapper.clientWidth}\n}\n\n// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n// but using getBoundingClientRect to get a sub-pixel-accurate\n// result.\nfunction compensateForHScroll(display) {\n  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n}\n\n// Returns a function that estimates the height of a line, to use as\n// first approximation until the line becomes visible (and is thus\n// properly measurable).\nfunction estimateHeight(cm) {\n  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n  return function (line) {\n    if (lineIsHidden(cm.doc, line)) { return 0 }\n\n    var widgetsHeight = 0;\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n    } }\n\n    if (wrapping)\n      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n    else\n      { return widgetsHeight + th }\n  }\n}\n\nfunction estimateLineHeights(cm) {\n  var doc = cm.doc, est = estimateHeight(cm);\n  doc.iter(function (line) {\n    var estHeight = est(line);\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  });\n}\n\n// Given a mouse event, find the corresponding position. If liberal\n// is false, it checks whether a gutter or scrollbar was clicked,\n// and returns null if it was. forRect is used by rectangular\n// selections, and tries to estimate a character position even for\n// coordinates beyond the right of the text.\nfunction posFromMouse(cm, e, liberal, forRect) {\n  var display = cm.display;\n  if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n  var x, y, space = display.lineSpace.getBoundingClientRect();\n  // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n  try { x = e.clientX - space.left; y = e.clientY - space.top; }\n  catch (e) { return null }\n  var coords = coordsChar(cm, x, y), line;\n  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n  }\n  return coords\n}\n\n// Find the view element corresponding to a given line. Return null\n// when the line isn't visible.\nfunction findViewIndex(cm, n) {\n  if (n >= cm.display.viewTo) { return null }\n  n -= cm.display.viewFrom;\n  if (n < 0) { return null }\n  var view = cm.display.view;\n  for (var i = 0; i < view.length; i++) {\n    n -= view[i].size;\n    if (n < 0) { return i }\n  }\n}\n\nfunction updateSelection(cm) {\n  cm.display.input.showSelection(cm.display.input.prepareSelection());\n}\n\nfunction prepareSelection(cm, primary) {\n  if ( primary === void 0 ) primary = true;\n\n  var doc = cm.doc, result = {};\n  var curFragment = result.cursors = document.createDocumentFragment();\n  var selFragment = result.selection = document.createDocumentFragment();\n\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    if (!primary && i == doc.sel.primIndex) { continue }\n    var range$$1 = doc.sel.ranges[i];\n    if (range$$1.from().line >= cm.display.viewTo || range$$1.to().line < cm.display.viewFrom) { continue }\n    var collapsed = range$$1.empty();\n    if (collapsed || cm.options.showCursorWhenSelecting)\n      { drawSelectionCursor(cm, range$$1.head, curFragment); }\n    if (!collapsed)\n      { drawSelectionRange(cm, range$$1, selFragment); }\n  }\n  return result\n}\n\n// Draws a cursor for the given range\nfunction drawSelectionCursor(cm, head, output) {\n  var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n  var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n  cursor.style.left = pos.left + \"px\";\n  cursor.style.top = pos.top + \"px\";\n  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n  if (pos.other) {\n    // Secondary cursor, shown when on a 'jump' in bi-directional text\n    var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n    otherCursor.style.display = \"\";\n    otherCursor.style.left = pos.other.left + \"px\";\n    otherCursor.style.top = pos.other.top + \"px\";\n    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n  }\n}\n\nfunction cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n// Draws the given range as a highlighted selection\nfunction drawSelectionRange(cm, range$$1, output) {\n  var display = cm.display, doc = cm.doc;\n  var fragment = document.createDocumentFragment();\n  var padding = paddingH(cm.display), leftSide = padding.left;\n  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n  var docLTR = doc.direction == \"ltr\";\n\n  function add(left, top, width, bottom) {\n    if (top < 0) { top = 0; }\n    top = Math.round(top);\n    bottom = Math.round(bottom);\n    fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n  }\n\n  function drawForLine(line, fromArg, toArg) {\n    var lineObj = getLine(doc, line);\n    var lineLen = lineObj.text.length;\n    var start, end;\n    function coords(ch, bias) {\n      return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n    }\n\n    function wrapX(pos, dir, side) {\n      var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n      var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n      var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n      return coords(ch, prop)[prop]\n    }\n\n    var order = getOrder(lineObj, doc.direction);\n    iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n      var ltr = dir == \"ltr\";\n      var fromPos = coords(from, ltr ? \"left\" : \"right\");\n      var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n      var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n      var first = i == 0, last = !order || i == order.length - 1;\n      if (toPos.top - fromPos.top <= 3) { // Single line\n        var openLeft = (docLTR ? openStart : openEnd) && first;\n        var openRight = (docLTR ? openEnd : openStart) && last;\n        var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n        var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n        add(left, fromPos.top, right - left, fromPos.bottom);\n      } else { // Multiple lines\n        var topLeft, topRight, botLeft, botRight;\n        if (ltr) {\n          topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n          topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n          botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n          botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n        } else {\n          topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n          topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n          botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n          botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n        }\n        add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n        if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n        add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n      }\n\n      if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n      if (cmpCoords(toPos, start) < 0) { start = toPos; }\n      if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n      if (cmpCoords(toPos, end) < 0) { end = toPos; }\n    });\n    return {start: start, end: end}\n  }\n\n  var sFrom = range$$1.from(), sTo = range$$1.to();\n  if (sFrom.line == sTo.line) {\n    drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n  } else {\n    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n    var singleVLine = visualLine(fromLine) == visualLine(toLine);\n    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n    if (singleVLine) {\n      if (leftEnd.top < rightStart.top - 2) {\n        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n      } else {\n        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n      }\n    }\n    if (leftEnd.bottom < rightStart.top)\n      { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n  }\n\n  output.appendChild(fragment);\n}\n\n// Cursor-blinking\nfunction restartBlink(cm) {\n  if (!cm.state.focused) { return }\n  var display = cm.display;\n  clearInterval(display.blinker);\n  var on = true;\n  display.cursorDiv.style.visibility = \"\";\n  if (cm.options.cursorBlinkRate > 0)\n    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n      cm.options.cursorBlinkRate); }\n  else if (cm.options.cursorBlinkRate < 0)\n    { display.cursorDiv.style.visibility = \"hidden\"; }\n}\n\nfunction ensureFocus(cm) {\n  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n}\n\nfunction delayBlurEvent(cm) {\n  cm.state.delayingBlurEvent = true;\n  setTimeout(function () { if (cm.state.delayingBlurEvent) {\n    cm.state.delayingBlurEvent = false;\n    onBlur(cm);\n  } }, 100);\n}\n\nfunction onFocus(cm, e) {\n  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n  if (cm.options.readOnly == \"nocursor\") { return }\n  if (!cm.state.focused) {\n    signal(cm, \"focus\", cm, e);\n    cm.state.focused = true;\n    addClass(cm.display.wrapper, \"CodeMirror-focused\");\n    // This test prevents this from firing when a context\n    // menu is closed (since the input reset would kill the\n    // select-all detection hack)\n    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n      cm.display.input.reset();\n      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n    }\n    cm.display.input.receivedFocus();\n  }\n  restartBlink(cm);\n}\nfunction onBlur(cm, e) {\n  if (cm.state.delayingBlurEvent) { return }\n\n  if (cm.state.focused) {\n    signal(cm, \"blur\", cm, e);\n    cm.state.focused = false;\n    rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n  }\n  clearInterval(cm.display.blinker);\n  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n}\n\n// Read the actual heights of the rendered lines, and update their\n// stored heights to match.\nfunction updateHeightsInViewport(cm) {\n  var display = cm.display;\n  var prevBottom = display.lineDiv.offsetTop;\n  for (var i = 0; i < display.view.length; i++) {\n    var cur = display.view[i], height = (void 0);\n    if (cur.hidden) { continue }\n    if (ie && ie_version < 8) {\n      var bot = cur.node.offsetTop + cur.node.offsetHeight;\n      height = bot - prevBottom;\n      prevBottom = bot;\n    } else {\n      var box = cur.node.getBoundingClientRect();\n      height = box.bottom - box.top;\n    }\n    var diff = cur.line.height - height;\n    if (height < 2) { height = textHeight(display); }\n    if (diff > .005 || diff < -.005) {\n      updateLineHeight(cur.line, height);\n      updateWidgetHeight(cur.line);\n      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n        { updateWidgetHeight(cur.rest[j]); } }\n    }\n  }\n}\n\n// Read and store the height of line widgets associated with the\n// given line.\nfunction updateWidgetHeight(line) {\n  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n    var w = line.widgets[i], parent = w.node.parentNode;\n    if (parent) { w.height = parent.offsetHeight; }\n  } }\n}\n\n// Compute the lines that are visible in a given viewport (defaults\n// the the current scroll position). viewport may contain top,\n// height, and ensure (see op.scrollToPos) properties.\nfunction visibleLines(display, doc, viewport) {\n  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n  top = Math.floor(top - paddingTop(display));\n  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n  // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n  // forces those lines into the viewport (if possible).\n  if (viewport && viewport.ensure) {\n    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n    if (ensureFrom < from) {\n      from = ensureFrom;\n      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n      to = ensureTo;\n    }\n  }\n  return {from: from, to: Math.max(to, from + 1)}\n}\n\n// Re-align line numbers and gutter marks to compensate for\n// horizontal scrolling.\nfunction alignHorizontally(cm) {\n  var display = cm.display, view = display.view;\n  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n  var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n    if (cm.options.fixedGutter) {\n      if (view[i].gutter)\n        { view[i].gutter.style.left = left; }\n      if (view[i].gutterBackground)\n        { view[i].gutterBackground.style.left = left; }\n    }\n    var align = view[i].alignable;\n    if (align) { for (var j = 0; j < align.length; j++)\n      { align[j].style.left = left; } }\n  } }\n  if (cm.options.fixedGutter)\n    { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n}\n\n// Used to ensure that the line number gutter is still the right\n// size for the current document size. Returns true when an update\n// is needed.\nfunction maybeUpdateLineNumberWidth(cm) {\n  if (!cm.options.lineNumbers) { return false }\n  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n  if (last.length != display.lineNumChars) {\n    var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                               \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n    display.lineGutter.style.width = \"\";\n    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n    display.lineNumWidth = display.lineNumInnerWidth + padding;\n    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n    display.lineGutter.style.width = display.lineNumWidth + \"px\";\n    updateGutterSpace(cm);\n    return true\n  }\n  return false\n}\n\n// SCROLLING THINGS INTO VIEW\n\n// If an editor sits on the top or bottom of the window, partially\n// scrolled out of view, this ensures that the cursor is visible.\nfunction maybeScrollWindow(cm, rect) {\n  if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n  if (rect.top + box.top < 0) { doScroll = true; }\n  else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n  if (doScroll != null && !phantom) {\n    var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n    cm.display.lineSpace.appendChild(scrollNode);\n    scrollNode.scrollIntoView(doScroll);\n    cm.display.lineSpace.removeChild(scrollNode);\n  }\n}\n\n// Scroll a given position into view (immediately), verifying that\n// it actually became visible (as line heights are accurately\n// measured, the position of something may 'drift' during drawing).\nfunction scrollPosIntoView(cm, pos, end, margin) {\n  if (margin == null) { margin = 0; }\n  var rect;\n  if (!cm.options.lineWrapping && pos == end) {\n    // Set pos and end to the cursor positions around the character pos sticks to\n    // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n    // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n    pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n  }\n  for (var limit = 0; limit < 5; limit++) {\n    var changed = false;\n    var coords = cursorCoords(cm, pos);\n    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n    rect = {left: Math.min(coords.left, endCoords.left),\n            top: Math.min(coords.top, endCoords.top) - margin,\n            right: Math.max(coords.left, endCoords.left),\n            bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n    var scrollPos = calculateScrollPos(cm, rect);\n    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n    if (scrollPos.scrollTop != null) {\n      updateScrollTop(cm, scrollPos.scrollTop);\n      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n    }\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft);\n      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n    }\n    if (!changed) { break }\n  }\n  return rect\n}\n\n// Scroll a given set of coordinates into view (immediately).\nfunction scrollIntoView(cm, rect) {\n  var scrollPos = calculateScrollPos(cm, rect);\n  if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n}\n\n// Calculate a new scroll position needed to scroll the given\n// rectangle into view. Returns an object with scrollTop and\n// scrollLeft properties. When these are undefined, the\n// vertical/horizontal position does not need to be adjusted.\nfunction calculateScrollPos(cm, rect) {\n  var display = cm.display, snapMargin = textHeight(cm.display);\n  if (rect.top < 0) { rect.top = 0; }\n  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n  var screen = displayHeight(cm), result = {};\n  if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n  var docBottom = cm.doc.height + paddingVert(display);\n  var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n  if (rect.top < screentop) {\n    result.scrollTop = atTop ? 0 : rect.top;\n  } else if (rect.bottom > screentop + screen) {\n    var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n    if (newTop != screentop) { result.scrollTop = newTop; }\n  }\n\n  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n  var tooWide = rect.right - rect.left > screenw;\n  if (tooWide) { rect.right = rect.left + screenw; }\n  if (rect.left < 10)\n    { result.scrollLeft = 0; }\n  else if (rect.left < screenleft)\n    { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n  else if (rect.right > screenw + screenleft - 3)\n    { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n  return result\n}\n\n// Store a relative adjustment to the scroll position in the current\n// operation (to be applied when the operation finishes).\nfunction addToScrollTop(cm, top) {\n  if (top == null) { return }\n  resolveScrollToPos(cm);\n  cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n}\n\n// Make sure that at the end of the operation the current cursor is\n// shown.\nfunction ensureCursorVisible(cm) {\n  resolveScrollToPos(cm);\n  var cur = cm.getCursor();\n  cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n}\n\nfunction scrollToCoords(cm, x, y) {\n  if (x != null || y != null) { resolveScrollToPos(cm); }\n  if (x != null) { cm.curOp.scrollLeft = x; }\n  if (y != null) { cm.curOp.scrollTop = y; }\n}\n\nfunction scrollToRange(cm, range$$1) {\n  resolveScrollToPos(cm);\n  cm.curOp.scrollToPos = range$$1;\n}\n\n// When an operation has its scrollToPos property set, and another\n// scroll action is applied before the end of the operation, this\n// 'simulates' scrolling that position into view in a cheap way, so\n// that the effect of intermediate scroll commands is not ignored.\nfunction resolveScrollToPos(cm) {\n  var range$$1 = cm.curOp.scrollToPos;\n  if (range$$1) {\n    cm.curOp.scrollToPos = null;\n    var from = estimateCoords(cm, range$$1.from), to = estimateCoords(cm, range$$1.to);\n    scrollToCoordsRange(cm, from, to, range$$1.margin);\n  }\n}\n\nfunction scrollToCoordsRange(cm, from, to, margin) {\n  var sPos = calculateScrollPos(cm, {\n    left: Math.min(from.left, to.left),\n    top: Math.min(from.top, to.top) - margin,\n    right: Math.max(from.right, to.right),\n    bottom: Math.max(from.bottom, to.bottom) + margin\n  });\n  scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n}\n\n// Sync the scrollable area and scrollbars, ensure the viewport\n// covers the visible area.\nfunction updateScrollTop(cm, val) {\n  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n  if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n  setScrollTop(cm, val, true);\n  if (gecko) { updateDisplaySimple(cm); }\n  startWorker(cm, 100);\n}\n\nfunction setScrollTop(cm, val, forceScroll) {\n  val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n  if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n  cm.doc.scrollTop = val;\n  cm.display.scrollbars.setScrollTop(val);\n  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n}\n\n// Sync scroller and scrollbar, ensure the gutter elements are\n// aligned.\nfunction setScrollLeft(cm, val, isScroller, forceScroll) {\n  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n  if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n  cm.doc.scrollLeft = val;\n  alignHorizontally(cm);\n  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n  cm.display.scrollbars.setScrollLeft(val);\n}\n\n// SCROLLBARS\n\n// Prepare DOM reads needed to update the scrollbars. Done in one\n// shot to minimize update/measure roundtrips.\nfunction measureForScrollbars(cm) {\n  var d = cm.display, gutterW = d.gutters.offsetWidth;\n  var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n  return {\n    clientHeight: d.scroller.clientHeight,\n    viewHeight: d.wrapper.clientHeight,\n    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n    viewWidth: d.wrapper.clientWidth,\n    barLeft: cm.options.fixedGutter ? gutterW : 0,\n    docHeight: docH,\n    scrollHeight: docH + scrollGap(cm) + d.barHeight,\n    nativeBarWidth: d.nativeBarWidth,\n    gutterWidth: gutterW\n  }\n}\n\nvar NativeScrollbars = function(place, scroll, cm) {\n  this.cm = cm;\n  var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n  var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n  vert.tabIndex = horiz.tabIndex = -1;\n  place(vert); place(horiz);\n\n  on(vert, \"scroll\", function () {\n    if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n  });\n  on(horiz, \"scroll\", function () {\n    if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n  });\n\n  this.checkedZeroWidth = false;\n  // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n};\n\nNativeScrollbars.prototype.update = function (measure) {\n  var needsH = measure.scrollWidth > measure.clientWidth + 1;\n  var needsV = measure.scrollHeight > measure.clientHeight + 1;\n  var sWidth = measure.nativeBarWidth;\n\n  if (needsV) {\n    this.vert.style.display = \"block\";\n    this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n    var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n    // A bug in IE8 can cause this value to be negative, so guard it.\n    this.vert.firstChild.style.height =\n      Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n  } else {\n    this.vert.style.display = \"\";\n    this.vert.firstChild.style.height = \"0\";\n  }\n\n  if (needsH) {\n    this.horiz.style.display = \"block\";\n    this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n    this.horiz.style.left = measure.barLeft + \"px\";\n    var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n    this.horiz.firstChild.style.width =\n      Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n  } else {\n    this.horiz.style.display = \"\";\n    this.horiz.firstChild.style.width = \"0\";\n  }\n\n  if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n    if (sWidth == 0) { this.zeroWidthHack(); }\n    this.checkedZeroWidth = true;\n  }\n\n  return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n};\n\nNativeScrollbars.prototype.setScrollLeft = function (pos) {\n  if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n  if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n};\n\nNativeScrollbars.prototype.setScrollTop = function (pos) {\n  if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n  if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n};\n\nNativeScrollbars.prototype.zeroWidthHack = function () {\n  var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n  this.horiz.style.height = this.vert.style.width = w;\n  this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n  this.disableHoriz = new Delayed;\n  this.disableVert = new Delayed;\n};\n\nNativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n  bar.style.pointerEvents = \"auto\";\n  function maybeDisable() {\n    // To find out whether the scrollbar is still visible, we\n    // check whether the element under the pixel in the bottom\n    // right corner of the scrollbar box is the scrollbar box\n    // itself (when the bar is still visible) or its filler child\n    // (when the bar is hidden). If it is still visible, we keep\n    // it enabled, if it's hidden, we disable pointer events.\n    var box = bar.getBoundingClientRect();\n    var elt$$1 = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n        : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n    if (elt$$1 != bar) { bar.style.pointerEvents = \"none\"; }\n    else { delay.set(1000, maybeDisable); }\n  }\n  delay.set(1000, maybeDisable);\n};\n\nNativeScrollbars.prototype.clear = function () {\n  var parent = this.horiz.parentNode;\n  parent.removeChild(this.horiz);\n  parent.removeChild(this.vert);\n};\n\nvar NullScrollbars = function () {};\n\nNullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\nNullScrollbars.prototype.setScrollLeft = function () {};\nNullScrollbars.prototype.setScrollTop = function () {};\nNullScrollbars.prototype.clear = function () {};\n\nfunction updateScrollbars(cm, measure) {\n  if (!measure) { measure = measureForScrollbars(cm); }\n  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n  updateScrollbarsInner(cm, measure);\n  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n      { updateHeightsInViewport(cm); }\n    updateScrollbarsInner(cm, measureForScrollbars(cm));\n    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n  }\n}\n\n// Re-synchronize the fake scrollbars with the actual size of the\n// content.\nfunction updateScrollbarsInner(cm, measure) {\n  var d = cm.display;\n  var sizes = d.scrollbars.update(measure);\n\n  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n  d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n  if (sizes.right && sizes.bottom) {\n    d.scrollbarFiller.style.display = \"block\";\n    d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n    d.scrollbarFiller.style.width = sizes.right + \"px\";\n  } else { d.scrollbarFiller.style.display = \"\"; }\n  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n    d.gutterFiller.style.display = \"block\";\n    d.gutterFiller.style.height = sizes.bottom + \"px\";\n    d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n  } else { d.gutterFiller.style.display = \"\"; }\n}\n\nvar scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\nfunction initScrollbars(cm) {\n  if (cm.display.scrollbars) {\n    cm.display.scrollbars.clear();\n    if (cm.display.scrollbars.addClass)\n      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n    // Prevent clicks in the scrollbars from killing focus\n    on(node, \"mousedown\", function () {\n      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n    });\n    node.setAttribute(\"cm-not-content\", \"true\");\n  }, function (pos, axis) {\n    if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n    else { updateScrollTop(cm, pos); }\n  }, cm);\n  if (cm.display.scrollbars.addClass)\n    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n}\n\n// Operations are used to wrap a series of changes to the editor\n// state in such a way that each change won't have to update the\n// cursor and display (which would be awkward, slow, and\n// error-prone). Instead, display updates are batched and then all\n// combined and executed at once.\n\nvar nextOpId = 0;\n// Start a new operation.\nfunction startOperation(cm) {\n  cm.curOp = {\n    cm: cm,\n    viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n    startHeight: cm.doc.height, // Used to detect need to update scrollbar\n    forceUpdate: false,      // Used to force a redraw\n    updateInput: null,       // Whether to reset the input textarea\n    typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n    changeObjs: null,        // Accumulated changes, for firing change events\n    cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n    cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n    selectionChanged: false, // Whether the selection needs to be redrawn\n    updateMaxLine: false,    // Set when the widest line needs to be determined anew\n    scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n    scrollToPos: null,       // Used to scroll to a specific position\n    focus: false,\n    id: ++nextOpId           // Unique ID\n  };\n  pushOperation(cm.curOp);\n}\n\n// Finish an operation, updating the display and signalling delayed events\nfunction endOperation(cm) {\n  var op = cm.curOp;\n  finishOperation(op, function (group) {\n    for (var i = 0; i < group.ops.length; i++)\n      { group.ops[i].cm.curOp = null; }\n    endOperations(group);\n  });\n}\n\n// The DOM updates done when an operation finishes are batched so\n// that the minimum number of relayouts are required.\nfunction endOperations(group) {\n  var ops = group.ops;\n  for (var i = 0; i < ops.length; i++) // Read DOM\n    { endOperation_R1(ops[i]); }\n  for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    { endOperation_W1(ops[i$1]); }\n  for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    { endOperation_R2(ops[i$2]); }\n  for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    { endOperation_W2(ops[i$3]); }\n  for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    { endOperation_finish(ops[i$4]); }\n}\n\nfunction endOperation_R1(op) {\n  var cm = op.cm, display = cm.display;\n  maybeClipScrollbars(cm);\n  if (op.updateMaxLine) { findMaxLine(cm); }\n\n  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                       op.scrollToPos.to.line >= display.viewTo) ||\n    display.maxLineChanged && cm.options.lineWrapping;\n  op.update = op.mustUpdate &&\n    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n}\n\nfunction endOperation_W1(op) {\n  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n}\n\nfunction endOperation_R2(op) {\n  var cm = op.cm, display = cm.display;\n  if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n  op.barMeasure = measureForScrollbars(cm);\n\n  // If the max line changed since it was last measured, measure it,\n  // and ensure the document's width matches it.\n  // updateDisplay_W2 will use these properties to do the actual resizing\n  if (display.maxLineChanged && !cm.options.lineWrapping) {\n    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n    cm.display.sizerWidth = op.adjustWidthTo;\n    op.barMeasure.scrollWidth =\n      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n  }\n\n  if (op.updatedDisplay || op.selectionChanged)\n    { op.preparedSelection = display.input.prepareSelection(); }\n}\n\nfunction endOperation_W2(op) {\n  var cm = op.cm;\n\n  if (op.adjustWidthTo != null) {\n    cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n    if (op.maxScrollLeft < cm.doc.scrollLeft)\n      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n    cm.display.maxLineChanged = false;\n  }\n\n  var takeFocus = op.focus && op.focus == activeElt();\n  if (op.preparedSelection)\n    { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n  if (op.updatedDisplay || op.startHeight != cm.doc.height)\n    { updateScrollbars(cm, op.barMeasure); }\n  if (op.updatedDisplay)\n    { setDocumentHeight(cm, op.barMeasure); }\n\n  if (op.selectionChanged) { restartBlink(cm); }\n\n  if (cm.state.focused && op.updateInput)\n    { cm.display.input.reset(op.typing); }\n  if (takeFocus) { ensureFocus(op.cm); }\n}\n\nfunction endOperation_finish(op) {\n  var cm = op.cm, display = cm.display, doc = cm.doc;\n\n  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n  // Abort mouse wheel delta measurement, when scrolling explicitly\n  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n    { display.wheelStartX = display.wheelStartY = null; }\n\n  // Propagate the scroll position to the actual DOM scroller\n  if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n  if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n  // If we need to scroll a specific position into view, do so.\n  if (op.scrollToPos) {\n    var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                 clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n    maybeScrollWindow(cm, rect);\n  }\n\n  // Fire events for markers that are hidden/unidden by editing or\n  // undoing\n  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n  if (hidden) { for (var i = 0; i < hidden.length; ++i)\n    { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n  if (display.wrapper.offsetHeight)\n    { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n  // Fire change events, and delayed event handlers\n  if (op.changeObjs)\n    { signal(cm, \"changes\", cm, op.changeObjs); }\n  if (op.update)\n    { op.update.finish(); }\n}\n\n// Run the given function in an operation\nfunction runInOp(cm, f) {\n  if (cm.curOp) { return f() }\n  startOperation(cm);\n  try { return f() }\n  finally { endOperation(cm); }\n}\n// Wraps a function in an operation. Returns the wrapped function.\nfunction operation(cm, f) {\n  return function() {\n    if (cm.curOp) { return f.apply(cm, arguments) }\n    startOperation(cm);\n    try { return f.apply(cm, arguments) }\n    finally { endOperation(cm); }\n  }\n}\n// Used to add methods to editor and doc instances, wrapping them in\n// operations.\nfunction methodOp(f) {\n  return function() {\n    if (this.curOp) { return f.apply(this, arguments) }\n    startOperation(this);\n    try { return f.apply(this, arguments) }\n    finally { endOperation(this); }\n  }\n}\nfunction docMethodOp(f) {\n  return function() {\n    var cm = this.cm;\n    if (!cm || cm.curOp) { return f.apply(this, arguments) }\n    startOperation(cm);\n    try { return f.apply(this, arguments) }\n    finally { endOperation(cm); }\n  }\n}\n\n// Updates the display.view data structure for a given change to the\n// document. From and to are in pre-change coordinates. Lendiff is\n// the amount of lines added or subtracted by the change. This is\n// used for changes that span multiple lines, or change the way\n// lines are divided into visual lines. regLineChange (below)\n// registers single-line changes.\nfunction regChange(cm, from, to, lendiff) {\n  if (from == null) { from = cm.doc.first; }\n  if (to == null) { to = cm.doc.first + cm.doc.size; }\n  if (!lendiff) { lendiff = 0; }\n\n  var display = cm.display;\n  if (lendiff && to < display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers > from))\n    { display.updateLineNumbers = from; }\n\n  cm.curOp.viewChanged = true;\n\n  if (from >= display.viewTo) { // Change after\n    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n      { resetView(cm); }\n  } else if (to <= display.viewFrom) { // Change before\n    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n      resetView(cm);\n    } else {\n      display.viewFrom += lendiff;\n      display.viewTo += lendiff;\n    }\n  } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n    resetView(cm);\n  } else if (from <= display.viewFrom) { // Top overlap\n    var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n    if (cut) {\n      display.view = display.view.slice(cut.index);\n      display.viewFrom = cut.lineN;\n      display.viewTo += lendiff;\n    } else {\n      resetView(cm);\n    }\n  } else if (to >= display.viewTo) { // Bottom overlap\n    var cut$1 = viewCuttingPoint(cm, from, from, -1);\n    if (cut$1) {\n      display.view = display.view.slice(0, cut$1.index);\n      display.viewTo = cut$1.lineN;\n    } else {\n      resetView(cm);\n    }\n  } else { // Gap in the middle\n    var cutTop = viewCuttingPoint(cm, from, from, -1);\n    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n    if (cutTop && cutBot) {\n      display.view = display.view.slice(0, cutTop.index)\n        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n        .concat(display.view.slice(cutBot.index));\n      display.viewTo += lendiff;\n    } else {\n      resetView(cm);\n    }\n  }\n\n  var ext = display.externalMeasured;\n  if (ext) {\n    if (to < ext.lineN)\n      { ext.lineN += lendiff; }\n    else if (from < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n  }\n}\n\n// Register a change to a single line. Type must be one of \"text\",\n// \"gutter\", \"class\", \"widget\"\nfunction regLineChange(cm, line, type) {\n  cm.curOp.viewChanged = true;\n  var display = cm.display, ext = cm.display.externalMeasured;\n  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n    { display.externalMeasured = null; }\n\n  if (line < display.viewFrom || line >= display.viewTo) { return }\n  var lineView = display.view[findViewIndex(cm, line)];\n  if (lineView.node == null) { return }\n  var arr = lineView.changes || (lineView.changes = []);\n  if (indexOf(arr, type) == -1) { arr.push(type); }\n}\n\n// Clear the view.\nfunction resetView(cm) {\n  cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n  cm.display.view = [];\n  cm.display.viewOffset = 0;\n}\n\nfunction viewCuttingPoint(cm, oldN, newN, dir) {\n  var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n    { return {index: index, lineN: newN} }\n  var n = cm.display.viewFrom;\n  for (var i = 0; i < index; i++)\n    { n += view[i].size; }\n  if (n != oldN) {\n    if (dir > 0) {\n      if (index == view.length - 1) { return null }\n      diff = (n + view[index].size) - oldN;\n      index++;\n    } else {\n      diff = n - oldN;\n    }\n    oldN += diff; newN += diff;\n  }\n  while (visualLineNo(cm.doc, newN) != newN) {\n    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n    newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n    index += dir;\n  }\n  return {index: index, lineN: newN}\n}\n\n// Force the view to cover a given range, adding empty view element\n// or clipping off existing ones as needed.\nfunction adjustView(cm, from, to) {\n  var display = cm.display, view = display.view;\n  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n    display.view = buildViewArray(cm, from, to);\n    display.viewFrom = from;\n  } else {\n    if (display.viewFrom > from)\n      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n    else if (display.viewFrom < from)\n      { display.view = display.view.slice(findViewIndex(cm, from)); }\n    display.viewFrom = from;\n    if (display.viewTo < to)\n      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n    else if (display.viewTo > to)\n      { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n  }\n  display.viewTo = to;\n}\n\n// Count the number of lines in the view whose DOM representation is\n// out of date (or nonexistent).\nfunction countDirtyView(cm) {\n  var view = cm.display.view, dirty = 0;\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i];\n    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n  }\n  return dirty\n}\n\n// HIGHLIGHT WORKER\n\nfunction startWorker(cm, time) {\n  if (cm.doc.highlightFrontier < cm.display.viewTo)\n    { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n}\n\nfunction highlightWorker(cm) {\n  var doc = cm.doc;\n  if (doc.highlightFrontier >= cm.display.viewTo) { return }\n  var end = +new Date + cm.options.workTime;\n  var context = getContextBefore(cm, doc.highlightFrontier);\n  var changedLines = [];\n\n  doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n    if (context.line >= cm.display.viewFrom) { // Visible\n      var oldStyles = line.styles;\n      var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n      var highlighted = highlightLine(cm, line, context, true);\n      if (resetState) { context.state = resetState; }\n      line.styles = highlighted.styles;\n      var oldCls = line.styleClasses, newCls = highlighted.classes;\n      if (newCls) { line.styleClasses = newCls; }\n      else if (oldCls) { line.styleClasses = null; }\n      var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n      if (ischange) { changedLines.push(context.line); }\n      line.stateAfter = context.save();\n      context.nextLine();\n    } else {\n      if (line.text.length <= cm.options.maxHighlightLength)\n        { processLine(cm, line.text, context); }\n      line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n      context.nextLine();\n    }\n    if (+new Date > end) {\n      startWorker(cm, cm.options.workDelay);\n      return true\n    }\n  });\n  doc.highlightFrontier = context.line;\n  doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n  if (changedLines.length) { runInOp(cm, function () {\n    for (var i = 0; i < changedLines.length; i++)\n      { regLineChange(cm, changedLines[i], \"text\"); }\n  }); }\n}\n\n// DISPLAY DRAWING\n\nvar DisplayUpdate = function(cm, viewport, force) {\n  var display = cm.display;\n\n  this.viewport = viewport;\n  // Store some values that we'll need later (but don't want to force a relayout for)\n  this.visible = visibleLines(display, cm.doc, viewport);\n  this.editorIsHidden = !display.wrapper.offsetWidth;\n  this.wrapperHeight = display.wrapper.clientHeight;\n  this.wrapperWidth = display.wrapper.clientWidth;\n  this.oldDisplayWidth = displayWidth(cm);\n  this.force = force;\n  this.dims = getDimensions(cm);\n  this.events = [];\n};\n\nDisplayUpdate.prototype.signal = function (emitter, type) {\n  if (hasHandler(emitter, type))\n    { this.events.push(arguments); }\n};\nDisplayUpdate.prototype.finish = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.events.length; i++)\n    { signal.apply(null, this$1.events[i]); }\n};\n\nfunction maybeClipScrollbars(cm) {\n  var display = cm.display;\n  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n    display.heightForcer.style.height = scrollGap(cm) + \"px\";\n    display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n    display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n    display.scrollbarsClipped = true;\n  }\n}\n\nfunction selectionSnapshot(cm) {\n  if (cm.hasFocus()) { return null }\n  var active = activeElt();\n  if (!active || !contains(cm.display.lineDiv, active)) { return null }\n  var result = {activeElt: active};\n  if (window.getSelection) {\n    var sel = window.getSelection();\n    if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n      result.anchorNode = sel.anchorNode;\n      result.anchorOffset = sel.anchorOffset;\n      result.focusNode = sel.focusNode;\n      result.focusOffset = sel.focusOffset;\n    }\n  }\n  return result\n}\n\nfunction restoreSelection(snapshot) {\n  if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n  snapshot.activeElt.focus();\n  if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n    var sel = window.getSelection(), range$$1 = document.createRange();\n    range$$1.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n    range$$1.collapse(false);\n    sel.removeAllRanges();\n    sel.addRange(range$$1);\n    sel.extend(snapshot.focusNode, snapshot.focusOffset);\n  }\n}\n\n// Does the actual updating of the line display. Bails out\n// (returning false) when there is nothing to be done and forced is\n// false.\nfunction updateDisplayIfNeeded(cm, update) {\n  var display = cm.display, doc = cm.doc;\n\n  if (update.editorIsHidden) {\n    resetView(cm);\n    return false\n  }\n\n  // Bail out if the visible area is already rendered and nothing changed.\n  if (!update.force &&\n      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n      display.renderedView == display.view && countDirtyView(cm) == 0)\n    { return false }\n\n  if (maybeUpdateLineNumberWidth(cm)) {\n    resetView(cm);\n    update.dims = getDimensions(cm);\n  }\n\n  // Compute a suitable new viewport (from & to)\n  var end = doc.first + doc.size;\n  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n  var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n  if (sawCollapsedSpans) {\n    from = visualLineNo(cm.doc, from);\n    to = visualLineEndNo(cm.doc, to);\n  }\n\n  var different = from != display.viewFrom || to != display.viewTo ||\n    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n  adjustView(cm, from, to);\n\n  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n  // Position the mover div to align with the current scroll position\n  cm.display.mover.style.top = display.viewOffset + \"px\";\n\n  var toUpdate = countDirtyView(cm);\n  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n    { return false }\n\n  // For big changes, we hide the enclosing element during the\n  // update, since that speeds up the operations on most browsers.\n  var selSnapshot = selectionSnapshot(cm);\n  if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n  patchDisplay(cm, display.updateLineNumbers, update.dims);\n  if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n  display.renderedView = display.view;\n  // There might have been a widget with a focused element that got\n  // hidden or updated, if so re-focus it.\n  restoreSelection(selSnapshot);\n\n  // Prevent selection and cursors from interfering with the scroll\n  // width and height.\n  removeChildren(display.cursorDiv);\n  removeChildren(display.selectionDiv);\n  display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n  if (different) {\n    display.lastWrapHeight = update.wrapperHeight;\n    display.lastWrapWidth = update.wrapperWidth;\n    startWorker(cm, 400);\n  }\n\n  display.updateLineNumbers = null;\n\n  return true\n}\n\nfunction postUpdateDisplay(cm, update) {\n  var viewport = update.viewport;\n\n  for (var first = true;; first = false) {\n    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n      // Clip forced viewport to actual scrollable area.\n      if (viewport && viewport.top != null)\n        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n      // Updated line heights might result in the drawn area not\n      // actually covering the viewport. Keep looping until it does.\n      update.visible = visibleLines(cm.display, cm.doc, viewport);\n      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n        { break }\n    }\n    if (!updateDisplayIfNeeded(cm, update)) { break }\n    updateHeightsInViewport(cm);\n    var barMeasure = measureForScrollbars(cm);\n    updateSelection(cm);\n    updateScrollbars(cm, barMeasure);\n    setDocumentHeight(cm, barMeasure);\n    update.force = false;\n  }\n\n  update.signal(cm, \"update\", cm);\n  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n    update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n  }\n}\n\nfunction updateDisplaySimple(cm, viewport) {\n  var update = new DisplayUpdate(cm, viewport);\n  if (updateDisplayIfNeeded(cm, update)) {\n    updateHeightsInViewport(cm);\n    postUpdateDisplay(cm, update);\n    var barMeasure = measureForScrollbars(cm);\n    updateSelection(cm);\n    updateScrollbars(cm, barMeasure);\n    setDocumentHeight(cm, barMeasure);\n    update.finish();\n  }\n}\n\n// Sync the actual display DOM structure with display.view, removing\n// nodes for lines that are no longer in view, and creating the ones\n// that are not there yet, and updating the ones that are out of\n// date.\nfunction patchDisplay(cm, updateNumbersFrom, dims) {\n  var display = cm.display, lineNumbers = cm.options.lineNumbers;\n  var container = display.lineDiv, cur = container.firstChild;\n\n  function rm(node) {\n    var next = node.nextSibling;\n    // Works around a throw-scroll bug in OS X Webkit\n    if (webkit && mac && cm.display.currentWheelTarget == node)\n      { node.style.display = \"none\"; }\n    else\n      { node.parentNode.removeChild(node); }\n    return next\n  }\n\n  var view = display.view, lineN = display.viewFrom;\n  // Loop over the elements in the view, syncing cur (the DOM nodes\n  // in display.lineDiv) with the view as we go.\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i];\n    if (lineView.hidden) {\n    } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n      var node = buildLineElement(cm, lineView, lineN, dims);\n      container.insertBefore(node, cur);\n    } else { // Already drawn\n      while (cur != lineView.node) { cur = rm(cur); }\n      var updateNumber = lineNumbers && updateNumbersFrom != null &&\n        updateNumbersFrom <= lineN && lineView.lineNumber;\n      if (lineView.changes) {\n        if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n        updateLineForChanges(cm, lineView, lineN, dims);\n      }\n      if (updateNumber) {\n        removeChildren(lineView.lineNumber);\n        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n      }\n      cur = lineView.node.nextSibling;\n    }\n    lineN += lineView.size;\n  }\n  while (cur) { cur = rm(cur); }\n}\n\nfunction updateGutterSpace(cm) {\n  var width = cm.display.gutters.offsetWidth;\n  cm.display.sizer.style.marginLeft = width + \"px\";\n}\n\nfunction setDocumentHeight(cm, measure) {\n  cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n  cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n}\n\n// Rebuild the gutter elements, ensure the margin to the left of the\n// code matches their width.\nfunction updateGutters(cm) {\n  var gutters = cm.display.gutters, specs = cm.options.gutters;\n  removeChildren(gutters);\n  var i = 0;\n  for (; i < specs.length; ++i) {\n    var gutterClass = specs[i];\n    var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass));\n    if (gutterClass == \"CodeMirror-linenumbers\") {\n      cm.display.lineGutter = gElt;\n      gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\";\n    }\n  }\n  gutters.style.display = i ? \"\" : \"none\";\n  updateGutterSpace(cm);\n}\n\n// Make sure the gutters options contains the element\n// \"CodeMirror-linenumbers\" when the lineNumbers option is true.\nfunction setGuttersForLineNumbers(options) {\n  var found = indexOf(options.gutters, \"CodeMirror-linenumbers\");\n  if (found == -1 && options.lineNumbers) {\n    options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"]);\n  } else if (found > -1 && !options.lineNumbers) {\n    options.gutters = options.gutters.slice(0);\n    options.gutters.splice(found, 1);\n  }\n}\n\n// Since the delta values reported on mouse wheel events are\n// unstandardized between browsers and even browser versions, and\n// generally horribly unpredictable, this code starts by measuring\n// the scroll effect that the first few mouse wheel events have,\n// and, from that, detects the way it can convert deltas to pixel\n// offsets afterwards.\n//\n// The reason we want to know the amount a wheel event will scroll\n// is that it gives us a chance to update the display before the\n// actual scrolling happens, reducing flickering.\n\nvar wheelSamples = 0;\nvar wheelPixelsPerUnit = null;\n// Fill in a browser-detected starting value on browsers where we\n// know one. These don't have to be accurate -- the result of them\n// being wrong would just be a slight flicker on the first wheel\n// scroll (if it is large enough).\nif (ie) { wheelPixelsPerUnit = -.53; }\nelse if (gecko) { wheelPixelsPerUnit = 15; }\nelse if (chrome) { wheelPixelsPerUnit = -.7; }\nelse if (safari) { wheelPixelsPerUnit = -1/3; }\n\nfunction wheelEventDelta(e) {\n  var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n  else if (dy == null) { dy = e.wheelDelta; }\n  return {x: dx, y: dy}\n}\nfunction wheelEventPixels(e) {\n  var delta = wheelEventDelta(e);\n  delta.x *= wheelPixelsPerUnit;\n  delta.y *= wheelPixelsPerUnit;\n  return delta\n}\n\nfunction onScrollWheel(cm, e) {\n  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n  var display = cm.display, scroll = display.scroller;\n  // Quit if there's nothing to scroll here\n  var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n  var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n  if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n  // Webkit browsers on OS X abort momentum scrolls when the target\n  // of the scroll event is removed from the scrollable element.\n  // This hack (see related code in patchDisplay) makes sure the\n  // element is kept around.\n  if (dy && mac && webkit) {\n    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n      for (var i = 0; i < view.length; i++) {\n        if (view[i].node == cur) {\n          cm.display.currentWheelTarget = cur;\n          break outer\n        }\n      }\n    }\n  }\n\n  // On some browsers, horizontal scrolling will cause redraws to\n  // happen before the gutter has been realigned, causing it to\n  // wriggle around in a most unseemly way. When we have an\n  // estimated pixels/delta value, we just handle horizontal\n  // scrolling entirely here. It'll be slightly off from native, but\n  // better than glitching out.\n  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n    if (dy && canScrollY)\n      { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n    setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n    // Only prevent default scrolling if vertical scrolling is\n    // actually possible. Otherwise, it causes vertical scroll\n    // jitter on OSX trackpads when deltaX is small and deltaY\n    // is large (issue #3579)\n    if (!dy || (dy && canScrollY))\n      { e_preventDefault(e); }\n    display.wheelStartX = null; // Abort measurement, if in progress\n    return\n  }\n\n  // 'Project' the visible viewport to cover the area that is being\n  // scrolled into view (if we know enough to estimate it).\n  if (dy && wheelPixelsPerUnit != null) {\n    var pixels = dy * wheelPixelsPerUnit;\n    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n    if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n    else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n    updateDisplaySimple(cm, {top: top, bottom: bot});\n  }\n\n  if (wheelSamples < 20) {\n    if (display.wheelStartX == null) {\n      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n      display.wheelDX = dx; display.wheelDY = dy;\n      setTimeout(function () {\n        if (display.wheelStartX == null) { return }\n        var movedX = scroll.scrollLeft - display.wheelStartX;\n        var movedY = scroll.scrollTop - display.wheelStartY;\n        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n          (movedX && display.wheelDX && movedX / display.wheelDX);\n        display.wheelStartX = display.wheelStartY = null;\n        if (!sample) { return }\n        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n        ++wheelSamples;\n      }, 200);\n    } else {\n      display.wheelDX += dx; display.wheelDY += dy;\n    }\n  }\n}\n\n// Selection objects are immutable. A new one is created every time\n// the selection changes. A selection is one or more non-overlapping\n// (and non-touching) ranges, sorted, and an integer that indicates\n// which one is the primary selection (the one that's scrolled into\n// view, that getCursor returns, etc).\nvar Selection = function(ranges, primIndex) {\n  this.ranges = ranges;\n  this.primIndex = primIndex;\n};\n\nSelection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\nSelection.prototype.equals = function (other) {\n    var this$1 = this;\n\n  if (other == this) { return true }\n  if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var here = this$1.ranges[i], there = other.ranges[i];\n    if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n  }\n  return true\n};\n\nSelection.prototype.deepCopy = function () {\n    var this$1 = this;\n\n  var out = [];\n  for (var i = 0; i < this.ranges.length; i++)\n    { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)); }\n  return new Selection(out, this.primIndex)\n};\n\nSelection.prototype.somethingSelected = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.ranges.length; i++)\n    { if (!this$1.ranges[i].empty()) { return true } }\n  return false\n};\n\nSelection.prototype.contains = function (pos, end) {\n    var this$1 = this;\n\n  if (!end) { end = pos; }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var range = this$1.ranges[i];\n    if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n      { return i }\n  }\n  return -1\n};\n\nvar Range = function(anchor, head) {\n  this.anchor = anchor; this.head = head;\n};\n\nRange.prototype.from = function () { return minPos(this.anchor, this.head) };\nRange.prototype.to = function () { return maxPos(this.anchor, this.head) };\nRange.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n// Take an unsorted, potentially overlapping set of ranges, and\n// build a selection out of it. 'Consumes' ranges array (modifying\n// it).\nfunction normalizeSelection(ranges, primIndex) {\n  var prim = ranges[primIndex];\n  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n  primIndex = indexOf(ranges, prim);\n  for (var i = 1; i < ranges.length; i++) {\n    var cur = ranges[i], prev = ranges[i - 1];\n    if (cmp(prev.to(), cur.from()) >= 0) {\n      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n      if (i <= primIndex) { --primIndex; }\n      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n    }\n  }\n  return new Selection(ranges, primIndex)\n}\n\nfunction simpleSelection(anchor, head) {\n  return new Selection([new Range(anchor, head || anchor)], 0)\n}\n\n// Compute the position of the end of a change (its 'to' property\n// refers to the pre-change end).\nfunction changeEnd(change) {\n  if (!change.text) { return change.to }\n  return Pos(change.from.line + change.text.length - 1,\n             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n}\n\n// Adjust a position to refer to the post-change position of the\n// same text, or the end of the change if the change covers it.\nfunction adjustForChange(pos, change) {\n  if (cmp(pos, change.from) < 0) { return pos }\n  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n  return Pos(line, ch)\n}\n\nfunction computeSelAfterChange(doc, change) {\n  var out = [];\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    var range = doc.sel.ranges[i];\n    out.push(new Range(adjustForChange(range.anchor, change),\n                       adjustForChange(range.head, change)));\n  }\n  return normalizeSelection(out, doc.sel.primIndex)\n}\n\nfunction offsetPos(pos, old, nw) {\n  if (pos.line == old.line)\n    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n  else\n    { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n}\n\n// Used by replaceSelections to allow moving the selection to the\n// start or around the replaced test. Hint may be \"start\" or \"around\".\nfunction computeReplacedSel(doc, changes, hint) {\n  var out = [];\n  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n    var from = offsetPos(change.from, oldPrev, newPrev);\n    var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n    oldPrev = change.to;\n    newPrev = to;\n    if (hint == \"around\") {\n      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n      out[i] = new Range(inv ? to : from, inv ? from : to);\n    } else {\n      out[i] = new Range(from, from);\n    }\n  }\n  return new Selection(out, doc.sel.primIndex)\n}\n\n// Used to get the editor into a consistent state again when options change.\n\nfunction loadMode(cm) {\n  cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n  resetModeState(cm);\n}\n\nfunction resetModeState(cm) {\n  cm.doc.iter(function (line) {\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n  });\n  cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n  startWorker(cm, 100);\n  cm.state.modeGen++;\n  if (cm.curOp) { regChange(cm); }\n}\n\n// DOCUMENT DATA STRUCTURE\n\n// By default, updates that start and end at the beginning of a line\n// are treated specially, in order to make the association of line\n// widgets and marker elements with the text behave more intuitive.\nfunction isWholeLineUpdate(doc, change) {\n  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n}\n\n// Perform a change on the document data structure.\nfunction updateDoc(doc, change, markedSpans, estimateHeight$$1) {\n  function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n  function update(line, text, spans) {\n    updateLine(line, text, spans, estimateHeight$$1);\n    signalLater(line, \"change\", line, change);\n  }\n  function linesFor(start, end) {\n    var result = [];\n    for (var i = start; i < end; ++i)\n      { result.push(new Line(text[i], spansFor(i), estimateHeight$$1)); }\n    return result\n  }\n\n  var from = change.from, to = change.to, text = change.text;\n  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n  // Adjust the line structure\n  if (change.full) {\n    doc.insert(0, linesFor(0, text.length));\n    doc.remove(text.length, doc.size - text.length);\n  } else if (isWholeLineUpdate(doc, change)) {\n    // This is a whole-line replace. Treated specially to make\n    // sure line objects move the way they are supposed to.\n    var added = linesFor(0, text.length - 1);\n    update(lastLine, lastLine.text, lastSpans);\n    if (nlines) { doc.remove(from.line, nlines); }\n    if (added.length) { doc.insert(from.line, added); }\n  } else if (firstLine == lastLine) {\n    if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n    } else {\n      var added$1 = linesFor(1, text.length - 1);\n      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight$$1));\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      doc.insert(from.line + 1, added$1);\n    }\n  } else if (text.length == 1) {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n    doc.remove(from.line + 1, nlines);\n  } else {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n    var added$2 = linesFor(1, text.length - 1);\n    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n    doc.insert(from.line + 1, added$2);\n  }\n\n  signalLater(doc, \"change\", doc, change);\n}\n\n// Call f for all linked documents.\nfunction linkedDocs(doc, f, sharedHistOnly) {\n  function propagate(doc, skip, sharedHist) {\n    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n      var rel = doc.linked[i];\n      if (rel.doc == skip) { continue }\n      var shared = sharedHist && rel.sharedHist;\n      if (sharedHistOnly && !shared) { continue }\n      f(rel.doc, shared);\n      propagate(rel.doc, doc, shared);\n    } }\n  }\n  propagate(doc, null, true);\n}\n\n// Attach a document to an editor.\nfunction attachDoc(cm, doc) {\n  if (doc.cm) { throw new Error(\"This document is already in use.\") }\n  cm.doc = doc;\n  doc.cm = cm;\n  estimateLineHeights(cm);\n  loadMode(cm);\n  setDirectionClass(cm);\n  if (!cm.options.lineWrapping) { findMaxLine(cm); }\n  cm.options.mode = doc.modeOption;\n  regChange(cm);\n}\n\nfunction setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n}\n\nfunction directionChanged(cm) {\n  runInOp(cm, function () {\n    setDirectionClass(cm);\n    regChange(cm);\n  });\n}\n\nfunction History(startGen) {\n  // Arrays of change events and selections. Doing something adds an\n  // event to done and clears undo. Undoing moves events from done\n  // to undone, redoing moves them in the other direction.\n  this.done = []; this.undone = [];\n  this.undoDepth = Infinity;\n  // Used to track when changes can be merged into a single undo\n  // event\n  this.lastModTime = this.lastSelTime = 0;\n  this.lastOp = this.lastSelOp = null;\n  this.lastOrigin = this.lastSelOrigin = null;\n  // Used by the isClean() method\n  this.generation = this.maxGeneration = startGen || 1;\n}\n\n// Create a history change event from an updateDoc-style change\n// object.\nfunction historyChangeFromChange(doc, change) {\n  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n  return histChange\n}\n\n// Pop all selection events off the end of a history array. Stop at\n// a change event.\nfunction clearSelectionEvents(array) {\n  while (array.length) {\n    var last = lst(array);\n    if (last.ranges) { array.pop(); }\n    else { break }\n  }\n}\n\n// Find the top change event in the history. Pop off selection\n// events that are in the way.\nfunction lastChangeEvent(hist, force) {\n  if (force) {\n    clearSelectionEvents(hist.done);\n    return lst(hist.done)\n  } else if (hist.done.length && !lst(hist.done).ranges) {\n    return lst(hist.done)\n  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n    hist.done.pop();\n    return lst(hist.done)\n  }\n}\n\n// Register a change in the history. Merges changes that are within\n// a single operation, or are close together with an origin that\n// allows merging (starting with \"+\") into a single event.\nfunction addChangeToHistory(doc, change, selAfter, opId) {\n  var hist = doc.history;\n  hist.undone.length = 0;\n  var time = +new Date, cur;\n  var last;\n\n  if ((hist.lastOp == opId ||\n       hist.lastOrigin == change.origin && change.origin &&\n       ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n        change.origin.charAt(0) == \"*\")) &&\n      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n    // Merge this change into the last event\n    last = lst(cur.changes);\n    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n      // Optimized case for simple insertion -- don't want to add\n      // new changesets for every character typed\n      last.to = changeEnd(change);\n    } else {\n      // Add new sub-event\n      cur.changes.push(historyChangeFromChange(doc, change));\n    }\n  } else {\n    // Can not be merged, start a new event.\n    var before = lst(hist.done);\n    if (!before || !before.ranges)\n      { pushSelectionToHistory(doc.sel, hist.done); }\n    cur = {changes: [historyChangeFromChange(doc, change)],\n           generation: hist.generation};\n    hist.done.push(cur);\n    while (hist.done.length > hist.undoDepth) {\n      hist.done.shift();\n      if (!hist.done[0].ranges) { hist.done.shift(); }\n    }\n  }\n  hist.done.push(selAfter);\n  hist.generation = ++hist.maxGeneration;\n  hist.lastModTime = hist.lastSelTime = time;\n  hist.lastOp = hist.lastSelOp = opId;\n  hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n  if (!last) { signal(doc, \"historyAdded\"); }\n}\n\nfunction selectionEventCanBeMerged(doc, origin, prev, sel) {\n  var ch = origin.charAt(0);\n  return ch == \"*\" ||\n    ch == \"+\" &&\n    prev.ranges.length == sel.ranges.length &&\n    prev.somethingSelected() == sel.somethingSelected() &&\n    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n}\n\n// Called whenever the selection changes, sets the new selection as\n// the pending selection in the history, and pushes the old pending\n// selection into the 'done' array when it was significantly\n// different (in number of selected ranges, emptiness, or time).\nfunction addSelectionToHistory(doc, sel, opId, options) {\n  var hist = doc.history, origin = options && options.origin;\n\n  // A new event is started when the previous origin does not match\n  // the current, or the origins don't allow matching. Origins\n  // starting with * are always merged, those starting with + are\n  // merged when similar and close together in time.\n  if (opId == hist.lastSelOp ||\n      (origin && hist.lastSelOrigin == origin &&\n       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n    { hist.done[hist.done.length - 1] = sel; }\n  else\n    { pushSelectionToHistory(sel, hist.done); }\n\n  hist.lastSelTime = +new Date;\n  hist.lastSelOrigin = origin;\n  hist.lastSelOp = opId;\n  if (options && options.clearRedo !== false)\n    { clearSelectionEvents(hist.undone); }\n}\n\nfunction pushSelectionToHistory(sel, dest) {\n  var top = lst(dest);\n  if (!(top && top.ranges && top.equals(sel)))\n    { dest.push(sel); }\n}\n\n// Used to store marked span information in the history.\nfunction attachLocalSpans(doc, change, from, to) {\n  var existing = change[\"spans_\" + doc.id], n = 0;\n  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n    if (line.markedSpans)\n      { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n    ++n;\n  });\n}\n\n// When un/re-doing restores text containing marked spans, those\n// that have been explicitly cleared should not be restored.\nfunction removeClearedSpans(spans) {\n  if (!spans) { return null }\n  var out;\n  for (var i = 0; i < spans.length; ++i) {\n    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n    else if (out) { out.push(spans[i]); }\n  }\n  return !out ? spans : out.length ? out : null\n}\n\n// Retrieve and filter the old marked spans stored in a change event.\nfunction getOldSpans(doc, change) {\n  var found = change[\"spans_\" + doc.id];\n  if (!found) { return null }\n  var nw = [];\n  for (var i = 0; i < change.text.length; ++i)\n    { nw.push(removeClearedSpans(found[i])); }\n  return nw\n}\n\n// Used for un/re-doing changes from the history. Combines the\n// result of computing the existing spans with the set of spans that\n// existed in the history (so that deleting around a span and then\n// undoing brings back the span).\nfunction mergeOldSpans(doc, change) {\n  var old = getOldSpans(doc, change);\n  var stretched = stretchSpansOverChange(doc, change);\n  if (!old) { return stretched }\n  if (!stretched) { return old }\n\n  for (var i = 0; i < old.length; ++i) {\n    var oldCur = old[i], stretchCur = stretched[i];\n    if (oldCur && stretchCur) {\n      spans: for (var j = 0; j < stretchCur.length; ++j) {\n        var span = stretchCur[j];\n        for (var k = 0; k < oldCur.length; ++k)\n          { if (oldCur[k].marker == span.marker) { continue spans } }\n        oldCur.push(span);\n      }\n    } else if (stretchCur) {\n      old[i] = stretchCur;\n    }\n  }\n  return old\n}\n\n// Used both to provide a JSON-safe object in .getHistory, and, when\n// detaching a document, to split the history in two\nfunction copyHistoryArray(events, newGroup, instantiateSel) {\n  var copy = [];\n  for (var i = 0; i < events.length; ++i) {\n    var event = events[i];\n    if (event.ranges) {\n      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n      continue\n    }\n    var changes = event.changes, newChanges = [];\n    copy.push({changes: newChanges});\n    for (var j = 0; j < changes.length; ++j) {\n      var change = changes[j], m = (void 0);\n      newChanges.push({from: change.from, to: change.to, text: change.text});\n      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n        if (indexOf(newGroup, Number(m[1])) > -1) {\n          lst(newChanges)[prop] = change[prop];\n          delete change[prop];\n        }\n      } } }\n    }\n  }\n  return copy\n}\n\n// The 'scroll' parameter given to many of these indicated whether\n// the new cursor position should be scrolled into view after\n// modifying the selection.\n\n// If shift is held or the extend flag is set, extends a range to\n// include a given position (and optionally a second position).\n// Otherwise, simply returns the range between the given positions.\n// Used for cursor motion and such.\nfunction extendRange(range, head, other, extend) {\n  if (extend) {\n    var anchor = range.anchor;\n    if (other) {\n      var posBefore = cmp(head, anchor) < 0;\n      if (posBefore != (cmp(other, anchor) < 0)) {\n        anchor = head;\n        head = other;\n      } else if (posBefore != (cmp(head, other) < 0)) {\n        head = other;\n      }\n    }\n    return new Range(anchor, head)\n  } else {\n    return new Range(other || head, head)\n  }\n}\n\n// Extend the primary selection range, discard the rest.\nfunction extendSelection(doc, head, other, options, extend) {\n  if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n  setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n}\n\n// Extend all selections (pos is an array of selections with length\n// equal the number of selections)\nfunction extendSelections(doc, heads, options) {\n  var out = [];\n  var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n  for (var i = 0; i < doc.sel.ranges.length; i++)\n    { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n  var newSel = normalizeSelection(out, doc.sel.primIndex);\n  setSelection(doc, newSel, options);\n}\n\n// Updates a single range in the selection.\nfunction replaceOneSelection(doc, i, range, options) {\n  var ranges = doc.sel.ranges.slice(0);\n  ranges[i] = range;\n  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options);\n}\n\n// Reset the selection to a single range.\nfunction setSimpleSelection(doc, anchor, head, options) {\n  setSelection(doc, simpleSelection(anchor, head), options);\n}\n\n// Give beforeSelectionChange handlers a change to influence a\n// selection update.\nfunction filterSelectionChange(doc, sel, options) {\n  var obj = {\n    ranges: sel.ranges,\n    update: function(ranges) {\n      var this$1 = this;\n\n      this.ranges = [];\n      for (var i = 0; i < ranges.length; i++)\n        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                   clipPos(doc, ranges[i].head)); }\n    },\n    origin: options && options.origin\n  };\n  signal(doc, \"beforeSelectionChange\", doc, obj);\n  if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }\n  else { return sel }\n}\n\nfunction setSelectionReplaceHistory(doc, sel, options) {\n  var done = doc.history.done, last = lst(done);\n  if (last && last.ranges) {\n    done[done.length - 1] = sel;\n    setSelectionNoUndo(doc, sel, options);\n  } else {\n    setSelection(doc, sel, options);\n  }\n}\n\n// Set a new selection.\nfunction setSelection(doc, sel, options) {\n  setSelectionNoUndo(doc, sel, options);\n  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n}\n\nfunction setSelectionNoUndo(doc, sel, options) {\n  if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n    { sel = filterSelectionChange(doc, sel, options); }\n\n  var bias = options && options.bias ||\n    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n  if (!(options && options.scroll === false) && doc.cm)\n    { ensureCursorVisible(doc.cm); }\n}\n\nfunction setSelectionInner(doc, sel) {\n  if (sel.equals(doc.sel)) { return }\n\n  doc.sel = sel;\n\n  if (doc.cm) {\n    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true;\n    signalCursorActivity(doc.cm);\n  }\n  signalLater(doc, \"cursorActivity\", doc);\n}\n\n// Verify that the selection does not partially select any atomic\n// marked ranges.\nfunction reCheckSelection(doc) {\n  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n}\n\n// Return a selection that does not partially select any atomic\n// ranges.\nfunction skipAtomicInSelection(doc, sel, bias, mayClear) {\n  var out;\n  for (var i = 0; i < sel.ranges.length; i++) {\n    var range = sel.ranges[i];\n    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n    if (out || newAnchor != range.anchor || newHead != range.head) {\n      if (!out) { out = sel.ranges.slice(0, i); }\n      out[i] = new Range(newAnchor, newHead);\n    }\n  }\n  return out ? normalizeSelection(out, sel.primIndex) : sel\n}\n\nfunction skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n  var line = getLine(doc, pos.line);\n  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n    var sp = line.markedSpans[i], m = sp.marker;\n    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n      if (mayClear) {\n        signal(m, \"beforeCursorEnter\");\n        if (m.explicitlyCleared) {\n          if (!line.markedSpans) { break }\n          else {--i; continue}\n        }\n      }\n      if (!m.atomic) { continue }\n\n      if (oldPos) {\n        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n          { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n      }\n\n      var far = m.find(dir < 0 ? -1 : 1);\n      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n        { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n    }\n  } }\n  return pos\n}\n\n// Ensure a given position is not inside an atomic range.\nfunction skipAtomic(doc, pos, oldPos, bias, mayClear) {\n  var dir = bias || 1;\n  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n  if (!found) {\n    doc.cantEdit = true;\n    return Pos(doc.first, 0)\n  }\n  return found\n}\n\nfunction movePos(doc, pos, dir, line) {\n  if (dir < 0 && pos.ch == 0) {\n    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n    else { return null }\n  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n    else { return null }\n  } else {\n    return new Pos(pos.line, pos.ch + dir)\n  }\n}\n\nfunction selectAll(cm) {\n  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n}\n\n// UPDATING\n\n// Allow \"beforeChange\" event handlers to influence a change\nfunction filterChange(doc, change, update) {\n  var obj = {\n    canceled: false,\n    from: change.from,\n    to: change.to,\n    text: change.text,\n    origin: change.origin,\n    cancel: function () { return obj.canceled = true; }\n  };\n  if (update) { obj.update = function (from, to, text, origin) {\n    if (from) { obj.from = clipPos(doc, from); }\n    if (to) { obj.to = clipPos(doc, to); }\n    if (text) { obj.text = text; }\n    if (origin !== undefined) { obj.origin = origin; }\n  }; }\n  signal(doc, \"beforeChange\", doc, obj);\n  if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n  if (obj.canceled) { return null }\n  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n}\n\n// Apply a change to a document, and add it to the document's\n// history, and propagating it to all linked documents.\nfunction makeChange(doc, change, ignoreReadOnly) {\n  if (doc.cm) {\n    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n    if (doc.cm.state.suppressEdits) { return }\n  }\n\n  if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n    change = filterChange(doc, change, true);\n    if (!change) { return }\n  }\n\n  // Possibly split or suppress the update based on the presence\n  // of read-only spans in its range.\n  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n  if (split) {\n    for (var i = split.length - 1; i >= 0; --i)\n      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n  } else {\n    makeChangeInner(doc, change);\n  }\n}\n\nfunction makeChangeInner(doc, change) {\n  if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n  var selAfter = computeSelAfterChange(doc, change);\n  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n  var rebased = [];\n\n  linkedDocs(doc, function (doc, sharedHist) {\n    if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n      rebaseHist(doc.history, change);\n      rebased.push(doc.history);\n    }\n    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n  });\n}\n\n// Revert a change stored in a document's history.\nfunction makeChangeFromHistory(doc, type, allowSelectionOnly) {\n  var suppress = doc.cm && doc.cm.state.suppressEdits;\n  if (suppress && !allowSelectionOnly) { return }\n\n  var hist = doc.history, event, selAfter = doc.sel;\n  var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n  // Verify that there is a useable event (so that ctrl-z won't\n  // needlessly clear selection events)\n  var i = 0;\n  for (; i < source.length; i++) {\n    event = source[i];\n    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n      { break }\n  }\n  if (i == source.length) { return }\n  hist.lastOrigin = hist.lastSelOrigin = null;\n\n  for (;;) {\n    event = source.pop();\n    if (event.ranges) {\n      pushSelectionToHistory(event, dest);\n      if (allowSelectionOnly && !event.equals(doc.sel)) {\n        setSelection(doc, event, {clearRedo: false});\n        return\n      }\n      selAfter = event;\n    } else if (suppress) {\n      source.push(event);\n      return\n    } else { break }\n  }\n\n  // Build up a reverse change object to add to the opposite history\n  // stack (redo when undoing, and vice versa).\n  var antiChanges = [];\n  pushSelectionToHistory(selAfter, dest);\n  dest.push({changes: antiChanges, generation: hist.generation});\n  hist.generation = event.generation || ++hist.maxGeneration;\n\n  var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n  var loop = function ( i ) {\n    var change = event.changes[i];\n    change.origin = type;\n    if (filter && !filterChange(doc, change, false)) {\n      source.length = 0;\n      return {}\n    }\n\n    antiChanges.push(historyChangeFromChange(doc, change));\n\n    var after = i ? computeSelAfterChange(doc, change) : lst(source);\n    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n    var rebased = [];\n\n    // Propagate to the linked documents\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n    });\n  };\n\n  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n    var returned = loop( i$1 );\n\n    if ( returned ) return returned.v;\n  }\n}\n\n// Sub-views need their line numbers shifted when text is added\n// above or below them in the parent document.\nfunction shiftDoc(doc, distance) {\n  if (distance == 0) { return }\n  doc.first += distance;\n  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n    Pos(range.anchor.line + distance, range.anchor.ch),\n    Pos(range.head.line + distance, range.head.ch)\n  ); }), doc.sel.primIndex);\n  if (doc.cm) {\n    regChange(doc.cm, doc.first, doc.first - distance, distance);\n    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n      { regLineChange(doc.cm, l, \"gutter\"); }\n  }\n}\n\n// More lower-level change function, handling only a single document\n// (not linked ones).\nfunction makeChangeSingleDoc(doc, change, selAfter, spans) {\n  if (doc.cm && !doc.cm.curOp)\n    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n  if (change.to.line < doc.first) {\n    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n    return\n  }\n  if (change.from.line > doc.lastLine()) { return }\n\n  // Clip the change to the size of this doc\n  if (change.from.line < doc.first) {\n    var shift = change.text.length - 1 - (doc.first - change.from.line);\n    shiftDoc(doc, shift);\n    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n              text: [lst(change.text)], origin: change.origin};\n  }\n  var last = doc.lastLine();\n  if (change.to.line > last) {\n    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n              text: [change.text[0]], origin: change.origin};\n  }\n\n  change.removed = getBetween(doc, change.from, change.to);\n\n  if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n  else { updateDoc(doc, change, spans); }\n  setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n}\n\n// Handle the interaction of a change to a document with the editor\n// that this document is part of.\nfunction makeChangeSingleDocInEditor(cm, change, spans) {\n  var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n  var recomputeMaxLength = false, checkWidthStart = from.line;\n  if (!cm.options.lineWrapping) {\n    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n    doc.iter(checkWidthStart, to.line + 1, function (line) {\n      if (line == display.maxLine) {\n        recomputeMaxLength = true;\n        return true\n      }\n    });\n  }\n\n  if (doc.sel.contains(change.from, change.to) > -1)\n    { signalCursorActivity(cm); }\n\n  updateDoc(doc, change, spans, estimateHeight(cm));\n\n  if (!cm.options.lineWrapping) {\n    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n      var len = lineLength(line);\n      if (len > display.maxLineLength) {\n        display.maxLine = line;\n        display.maxLineLength = len;\n        display.maxLineChanged = true;\n        recomputeMaxLength = false;\n      }\n    });\n    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n  }\n\n  retreatFrontier(doc, from.line);\n  startWorker(cm, 400);\n\n  var lendiff = change.text.length - (to.line - from.line) - 1;\n  // Remember that these lines changed, for updating the display\n  if (change.full)\n    { regChange(cm); }\n  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n    { regLineChange(cm, from.line, \"text\"); }\n  else\n    { regChange(cm, from.line, to.line + 1, lendiff); }\n\n  var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n  if (changeHandler || changesHandler) {\n    var obj = {\n      from: from, to: to,\n      text: change.text,\n      removed: change.removed,\n      origin: change.origin\n    };\n    if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n  }\n  cm.display.selForContextMenu = null;\n}\n\nfunction replaceRange(doc, code, from, to, origin) {\n  if (!to) { to = from; }\n  if (cmp(to, from) < 0) { var assign;\n    (assign = [to, from], from = assign[0], to = assign[1]); }\n  if (typeof code == \"string\") { code = doc.splitLines(code); }\n  makeChange(doc, {from: from, to: to, text: code, origin: origin});\n}\n\n// Rebasing/resetting history to deal with externally-sourced changes\n\nfunction rebaseHistSelSingle(pos, from, to, diff) {\n  if (to < pos.line) {\n    pos.line += diff;\n  } else if (from < pos.line) {\n    pos.line = from;\n    pos.ch = 0;\n  }\n}\n\n// Tries to rebase an array of history events given a change in the\n// document. If the change touches the same lines as the event, the\n// event, and everything 'behind' it, is discarded. If the change is\n// before the event, the event's positions are updated. Uses a\n// copy-on-write scheme for the positions, to avoid having to\n// reallocate them all on every rebase, but also avoid problems with\n// shared position objects being unsafely updated.\nfunction rebaseHistArray(array, from, to, diff) {\n  for (var i = 0; i < array.length; ++i) {\n    var sub = array[i], ok = true;\n    if (sub.ranges) {\n      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n      for (var j = 0; j < sub.ranges.length; j++) {\n        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n      }\n      continue\n    }\n    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n      var cur = sub.changes[j$1];\n      if (to < cur.from.line) {\n        cur.from = Pos(cur.from.line + diff, cur.from.ch);\n        cur.to = Pos(cur.to.line + diff, cur.to.ch);\n      } else if (from <= cur.to.line) {\n        ok = false;\n        break\n      }\n    }\n    if (!ok) {\n      array.splice(0, i + 1);\n      i = 0;\n    }\n  }\n}\n\nfunction rebaseHist(hist, change) {\n  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n  rebaseHistArray(hist.done, from, to, diff);\n  rebaseHistArray(hist.undone, from, to, diff);\n}\n\n// Utility for applying a change to a line by handle or number,\n// returning the number and optionally registering the line as\n// changed.\nfunction changeLine(doc, handle, changeType, op) {\n  var no = handle, line = handle;\n  if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n  else { no = lineNo(handle); }\n  if (no == null) { return null }\n  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n  return line\n}\n\n// The document is represented as a BTree consisting of leaves, with\n// chunk of lines in them, and branches, with up to ten leaves or\n// other branch nodes below them. The top node is always a branch\n// node, and is the document object itself (meaning it has\n// additional methods and properties).\n//\n// All nodes have parent links. The tree is used both to go from\n// line numbers to line objects, and to go from objects to numbers.\n// It also indexes by height, and is used to convert between height\n// and line object, and to find the total height of the document.\n//\n// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\nfunction LeafChunk(lines) {\n  var this$1 = this;\n\n  this.lines = lines;\n  this.parent = null;\n  var height = 0;\n  for (var i = 0; i < lines.length; ++i) {\n    lines[i].parent = this$1;\n    height += lines[i].height;\n  }\n  this.height = height;\n}\n\nLeafChunk.prototype = {\n  chunkSize: function() { return this.lines.length },\n\n  // Remove the n lines at offset 'at'.\n  removeInner: function(at, n) {\n    var this$1 = this;\n\n    for (var i = at, e = at + n; i < e; ++i) {\n      var line = this$1.lines[i];\n      this$1.height -= line.height;\n      cleanUpLine(line);\n      signalLater(line, \"delete\");\n    }\n    this.lines.splice(at, n);\n  },\n\n  // Helper used to collapse a small branch into a single leaf.\n  collapse: function(lines) {\n    lines.push.apply(lines, this.lines);\n  },\n\n  // Insert the given array of lines at offset 'at', count them as\n  // having the given height.\n  insertInner: function(at, lines, height) {\n    var this$1 = this;\n\n    this.height += height;\n    this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n    for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1; }\n  },\n\n  // Used to iterate over a part of the tree.\n  iterN: function(at, n, op) {\n    var this$1 = this;\n\n    for (var e = at + n; at < e; ++at)\n      { if (op(this$1.lines[at])) { return true } }\n  }\n};\n\nfunction BranchChunk(children) {\n  var this$1 = this;\n\n  this.children = children;\n  var size = 0, height = 0;\n  for (var i = 0; i < children.length; ++i) {\n    var ch = children[i];\n    size += ch.chunkSize(); height += ch.height;\n    ch.parent = this$1;\n  }\n  this.size = size;\n  this.height = height;\n  this.parent = null;\n}\n\nBranchChunk.prototype = {\n  chunkSize: function() { return this.size },\n\n  removeInner: function(at, n) {\n    var this$1 = this;\n\n    this.size -= n;\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize();\n      if (at < sz) {\n        var rm = Math.min(n, sz - at), oldHeight = child.height;\n        child.removeInner(at, rm);\n        this$1.height -= oldHeight - child.height;\n        if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null; }\n        if ((n -= rm) == 0) { break }\n        at = 0;\n      } else { at -= sz; }\n    }\n    // If the result is smaller than 25 lines, ensure that it is a\n    // single leaf node.\n    if (this.size - n < 25 &&\n        (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n      var lines = [];\n      this.collapse(lines);\n      this.children = [new LeafChunk(lines)];\n      this.children[0].parent = this;\n    }\n  },\n\n  collapse: function(lines) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines); }\n  },\n\n  insertInner: function(at, lines, height) {\n    var this$1 = this;\n\n    this.size += lines.length;\n    this.height += height;\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize();\n      if (at <= sz) {\n        child.insertInner(at, lines, height);\n        if (child.lines && child.lines.length > 50) {\n          // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n          // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n          var remaining = child.lines.length % 25 + 25;\n          for (var pos = remaining; pos < child.lines.length;) {\n            var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n            child.height -= leaf.height;\n            this$1.children.splice(++i, 0, leaf);\n            leaf.parent = this$1;\n          }\n          child.lines = child.lines.slice(0, remaining);\n          this$1.maybeSpill();\n        }\n        break\n      }\n      at -= sz;\n    }\n  },\n\n  // When a node has grown, check whether it should be split.\n  maybeSpill: function() {\n    if (this.children.length <= 10) { return }\n    var me = this;\n    do {\n      var spilled = me.children.splice(me.children.length - 5, 5);\n      var sibling = new BranchChunk(spilled);\n      if (!me.parent) { // Become the parent node\n        var copy = new BranchChunk(me.children);\n        copy.parent = me;\n        me.children = [copy, sibling];\n        me = copy;\n     } else {\n        me.size -= sibling.size;\n        me.height -= sibling.height;\n        var myIndex = indexOf(me.parent.children, me);\n        me.parent.children.splice(myIndex + 1, 0, sibling);\n      }\n      sibling.parent = me.parent;\n    } while (me.children.length > 10)\n    me.parent.maybeSpill();\n  },\n\n  iterN: function(at, n, op) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize();\n      if (at < sz) {\n        var used = Math.min(n, sz - at);\n        if (child.iterN(at, used, op)) { return true }\n        if ((n -= used) == 0) { break }\n        at = 0;\n      } else { at -= sz; }\n    }\n  }\n};\n\n// Line widgets are block elements displayed above or below a line.\n\nvar LineWidget = function(doc, node, options) {\n  var this$1 = this;\n\n  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n    { this$1[opt] = options[opt]; } } }\n  this.doc = doc;\n  this.node = node;\n};\n\nLineWidget.prototype.clear = function () {\n    var this$1 = this;\n\n  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n  if (no == null || !ws) { return }\n  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1); } }\n  if (!ws.length) { line.widgets = null; }\n  var height = widgetHeight(this);\n  updateLineHeight(line, Math.max(0, line.height - height));\n  if (cm) {\n    runInOp(cm, function () {\n      adjustScrollWhenAboveVisible(cm, line, -height);\n      regLineChange(cm, no, \"widget\");\n    });\n    signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n  }\n};\n\nLineWidget.prototype.changed = function () {\n    var this$1 = this;\n\n  var oldH = this.height, cm = this.doc.cm, line = this.line;\n  this.height = null;\n  var diff = widgetHeight(this) - oldH;\n  if (!diff) { return }\n  updateLineHeight(line, line.height + diff);\n  if (cm) {\n    runInOp(cm, function () {\n      cm.curOp.forceUpdate = true;\n      adjustScrollWhenAboveVisible(cm, line, diff);\n      signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n    });\n  }\n};\neventMixin(LineWidget);\n\nfunction adjustScrollWhenAboveVisible(cm, line, diff) {\n  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n    { addToScrollTop(cm, diff); }\n}\n\nfunction addLineWidget(doc, handle, node, options) {\n  var widget = new LineWidget(doc, node, options);\n  var cm = doc.cm;\n  if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n  changeLine(doc, handle, \"widget\", function (line) {\n    var widgets = line.widgets || (line.widgets = []);\n    if (widget.insertAt == null) { widgets.push(widget); }\n    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n    widget.line = line;\n    if (cm && !lineIsHidden(doc, line)) {\n      var aboveVisible = heightAtLine(line) < doc.scrollTop;\n      updateLineHeight(line, line.height + widgetHeight(widget));\n      if (aboveVisible) { addToScrollTop(cm, widget.height); }\n      cm.curOp.forceUpdate = true;\n    }\n    return true\n  });\n  if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n  return widget\n}\n\n// TEXTMARKERS\n\n// Created with markText and setBookmark methods. A TextMarker is a\n// handle that can be used to clear or find a marked position in the\n// document. Line objects hold arrays (markedSpans) containing\n// {from, to, marker} object pointing to such marker objects, and\n// indicating that such a marker is present on that line. Multiple\n// lines may point to the same marker when it spans across lines.\n// The spans will have null for their from/to properties when the\n// marker continues beyond the start/end of the line. Markers have\n// links back to the lines they currently touch.\n\n// Collapsed markers have unique ids, in order to be able to order\n// them, which is needed for uniquely determining an outer marker\n// when they overlap (they may nest, but not partially overlap).\nvar nextMarkerId = 0;\n\nvar TextMarker = function(doc, type) {\n  this.lines = [];\n  this.type = type;\n  this.doc = doc;\n  this.id = ++nextMarkerId;\n};\n\n// Clear the marker.\nTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  var cm = this.doc.cm, withOp = cm && !cm.curOp;\n  if (withOp) { startOperation(cm); }\n  if (hasHandler(this, \"clear\")) {\n    var found = this.find();\n    if (found) { signalLater(this, \"clear\", found.from, found.to); }\n  }\n  var min = null, max = null;\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i];\n    var span = getMarkedSpanFor(line.markedSpans, this$1);\n    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n    else if (cm) {\n      if (span.to != null) { max = lineNo(line); }\n      if (span.from != null) { min = lineNo(line); }\n    }\n    line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n      { updateLineHeight(line, textHeight(cm.display)); }\n  }\n  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual);\n    if (len > cm.display.maxLineLength) {\n      cm.display.maxLine = visual;\n      cm.display.maxLineLength = len;\n      cm.display.maxLineChanged = true;\n    }\n  } }\n\n  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n  this.lines.length = 0;\n  this.explicitlyCleared = true;\n  if (this.atomic && this.doc.cantEdit) {\n    this.doc.cantEdit = false;\n    if (cm) { reCheckSelection(cm.doc); }\n  }\n  if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n  if (withOp) { endOperation(cm); }\n  if (this.parent) { this.parent.clear(); }\n};\n\n// Find the position of the marker in the document. Returns a {from,\n// to} object by default. Side can be passed to get a specific side\n// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n// Pos objects returned contain a line object, rather than a line\n// number (used to prevent looking up the same line twice).\nTextMarker.prototype.find = function (side, lineObj) {\n    var this$1 = this;\n\n  if (side == null && this.type == \"bookmark\") { side = 1; }\n  var from, to;\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i];\n    var span = getMarkedSpanFor(line.markedSpans, this$1);\n    if (span.from != null) {\n      from = Pos(lineObj ? line : lineNo(line), span.from);\n      if (side == -1) { return from }\n    }\n    if (span.to != null) {\n      to = Pos(lineObj ? line : lineNo(line), span.to);\n      if (side == 1) { return to }\n    }\n  }\n  return from && {from: from, to: to}\n};\n\n// Signals that the marker's widget changed, and surrounding layout\n// should be recomputed.\nTextMarker.prototype.changed = function () {\n    var this$1 = this;\n\n  var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n  if (!pos || !cm) { return }\n  runInOp(cm, function () {\n    var line = pos.line, lineN = lineNo(pos.line);\n    var view = findViewForLine(cm, lineN);\n    if (view) {\n      clearLineMeasurementCacheFor(view);\n      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n    }\n    cm.curOp.updateMaxLine = true;\n    if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n      var oldHeight = widget.height;\n      widget.height = null;\n      var dHeight = widgetHeight(widget) - oldHeight;\n      if (dHeight)\n        { updateLineHeight(line, line.height + dHeight); }\n    }\n    signalLater(cm, \"markerChanged\", cm, this$1);\n  });\n};\n\nTextMarker.prototype.attachLine = function (line) {\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp;\n    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n  }\n  this.lines.push(line);\n};\n\nTextMarker.prototype.detachLine = function (line) {\n  this.lines.splice(indexOf(this.lines, line), 1);\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n  }\n};\neventMixin(TextMarker);\n\n// Create a marker, wire it up to the right lines, and\nfunction markText(doc, from, to, options, type) {\n  // Shared markers (across linked documents) are handled separately\n  // (markTextShared will call out to this again, once per\n  // document).\n  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n  // Ensure we are in an operation.\n  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n  var marker = new TextMarker(doc, type), diff = cmp(from, to);\n  if (options) { copyObj(options, marker, false); }\n  // Don't connect empty markers unless clearWhenEmpty is false\n  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n    { return marker }\n  if (marker.replacedWith) {\n    // Showing up as a widget implies collapsed (widget replaces text)\n    marker.collapsed = true;\n    marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n    if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n  }\n  if (marker.collapsed) {\n    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n      { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n    seeCollapsedSpans();\n  }\n\n  if (marker.addToHistory)\n    { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n  var curLine = from.line, cm = doc.cm, updateMaxLine;\n  doc.iter(curLine, to.line + 1, function (line) {\n    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n      { updateMaxLine = true; }\n    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n    addMarkedSpan(line, new MarkedSpan(marker,\n                                       curLine == from.line ? from.ch : null,\n                                       curLine == to.line ? to.ch : null));\n    ++curLine;\n  });\n  // lineIsHidden depends on the presence of the spans, so needs a second pass\n  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n  }); }\n\n  if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n  if (marker.readOnly) {\n    seeReadOnlySpans();\n    if (doc.history.done.length || doc.history.undone.length)\n      { doc.clearHistory(); }\n  }\n  if (marker.collapsed) {\n    marker.id = ++nextMarkerId;\n    marker.atomic = true;\n  }\n  if (cm) {\n    // Sync editor state\n    if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n    if (marker.collapsed)\n      { regChange(cm, from.line, to.line + 1); }\n    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\n      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n    if (marker.atomic) { reCheckSelection(cm.doc); }\n    signalLater(cm, \"markerAdded\", cm, marker);\n  }\n  return marker\n}\n\n// SHARED TEXTMARKERS\n\n// A shared marker spans multiple linked documents. It is\n// implemented as a meta-marker-object controlling multiple normal\n// markers.\nvar SharedTextMarker = function(markers, primary) {\n  var this$1 = this;\n\n  this.markers = markers;\n  this.primary = primary;\n  for (var i = 0; i < markers.length; ++i)\n    { markers[i].parent = this$1; }\n};\n\nSharedTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  this.explicitlyCleared = true;\n  for (var i = 0; i < this.markers.length; ++i)\n    { this$1.markers[i].clear(); }\n  signalLater(this, \"clear\");\n};\n\nSharedTextMarker.prototype.find = function (side, lineObj) {\n  return this.primary.find(side, lineObj)\n};\neventMixin(SharedTextMarker);\n\nfunction markTextShared(doc, from, to, options, type) {\n  options = copyObj(options);\n  options.shared = false;\n  var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n  var widget = options.widgetNode;\n  linkedDocs(doc, function (doc) {\n    if (widget) { options.widgetNode = widget.cloneNode(true); }\n    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n    for (var i = 0; i < doc.linked.length; ++i)\n      { if (doc.linked[i].isParent) { return } }\n    primary = lst(markers);\n  });\n  return new SharedTextMarker(markers, primary)\n}\n\nfunction findSharedMarkers(doc) {\n  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n}\n\nfunction copySharedMarkers(doc, markers) {\n  for (var i = 0; i < markers.length; i++) {\n    var marker = markers[i], pos = marker.find();\n    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n    if (cmp(mFrom, mTo)) {\n      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n      marker.markers.push(subMark);\n      subMark.parent = marker;\n    }\n  }\n}\n\nfunction detachSharedMarkers(markers) {\n  var loop = function ( i ) {\n    var marker = markers[i], linked = [marker.primary.doc];\n    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n    for (var j = 0; j < marker.markers.length; j++) {\n      var subMarker = marker.markers[j];\n      if (indexOf(linked, subMarker.doc) == -1) {\n        subMarker.parent = null;\n        marker.markers.splice(j--, 1);\n      }\n    }\n  };\n\n  for (var i = 0; i < markers.length; i++) loop( i );\n}\n\nvar nextDocId = 0;\nvar Doc = function(text, mode, firstLine, lineSep, direction) {\n  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n  if (firstLine == null) { firstLine = 0; }\n\n  BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n  this.first = firstLine;\n  this.scrollTop = this.scrollLeft = 0;\n  this.cantEdit = false;\n  this.cleanGeneration = 1;\n  this.modeFrontier = this.highlightFrontier = firstLine;\n  var start = Pos(firstLine, 0);\n  this.sel = simpleSelection(start);\n  this.history = new History(null);\n  this.id = ++nextDocId;\n  this.modeOption = mode;\n  this.lineSep = lineSep;\n  this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n  this.extend = false;\n\n  if (typeof text == \"string\") { text = this.splitLines(text); }\n  updateDoc(this, {from: start, to: start, text: text});\n  setSelection(this, simpleSelection(start), sel_dontScroll);\n};\n\nDoc.prototype = createObj(BranchChunk.prototype, {\n  constructor: Doc,\n  // Iterate over the document. Supports two forms -- with only one\n  // argument, it calls that for each line in the document. With\n  // three, it iterates over the range given by the first two (with\n  // the second being non-inclusive).\n  iter: function(from, to, op) {\n    if (op) { this.iterN(from - this.first, to - from, op); }\n    else { this.iterN(this.first, this.first + this.size, from); }\n  },\n\n  // Non-public interface for adding and removing lines.\n  insert: function(at, lines) {\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n    this.insertInner(at - this.first, lines, height);\n  },\n  remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n  // From here, the methods are part of the public interface. Most\n  // are also available from CodeMirror (editor) instances.\n\n  getValue: function(lineSep) {\n    var lines = getLines(this, this.first, this.first + this.size);\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n  setValue: docMethodOp(function(code) {\n    var top = Pos(this.first, 0), last = this.first + this.size - 1;\n    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                      text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n    if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n    setSelection(this, simpleSelection(top), sel_dontScroll);\n  }),\n  replaceRange: function(code, from, to, origin) {\n    from = clipPos(this, from);\n    to = to ? clipPos(this, to) : from;\n    replaceRange(this, code, from, to, origin);\n  },\n  getRange: function(from, to, lineSep) {\n    var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n\n  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n  getLineNumber: function(line) {return lineNo(line)},\n\n  getLineHandleVisualStart: function(line) {\n    if (typeof line == \"number\") { line = getLine(this, line); }\n    return visualLine(line)\n  },\n\n  lineCount: function() {return this.size},\n  firstLine: function() {return this.first},\n  lastLine: function() {return this.first + this.size - 1},\n\n  clipPos: function(pos) {return clipPos(this, pos)},\n\n  getCursor: function(start) {\n    var range$$1 = this.sel.primary(), pos;\n    if (start == null || start == \"head\") { pos = range$$1.head; }\n    else if (start == \"anchor\") { pos = range$$1.anchor; }\n    else if (start == \"end\" || start == \"to\" || start === false) { pos = range$$1.to(); }\n    else { pos = range$$1.from(); }\n    return pos\n  },\n  listSelections: function() { return this.sel.ranges },\n  somethingSelected: function() {return this.sel.somethingSelected()},\n\n  setCursor: docMethodOp(function(line, ch, options) {\n    setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n  }),\n  setSelection: docMethodOp(function(anchor, head, options) {\n    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n  }),\n  extendSelection: docMethodOp(function(head, other, options) {\n    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n  }),\n  extendSelections: docMethodOp(function(heads, options) {\n    extendSelections(this, clipPosArray(this, heads), options);\n  }),\n  extendSelectionsBy: docMethodOp(function(f, options) {\n    var heads = map(this.sel.ranges, f);\n    extendSelections(this, clipPosArray(this, heads), options);\n  }),\n  setSelections: docMethodOp(function(ranges, primary, options) {\n    var this$1 = this;\n\n    if (!ranges.length) { return }\n    var out = [];\n    for (var i = 0; i < ranges.length; i++)\n      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                         clipPos(this$1, ranges[i].head)); }\n    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n    setSelection(this, normalizeSelection(out, primary), options);\n  }),\n  addSelection: docMethodOp(function(anchor, head, options) {\n    var ranges = this.sel.ranges.slice(0);\n    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options);\n  }),\n\n  getSelection: function(lineSep) {\n    var this$1 = this;\n\n    var ranges = this.sel.ranges, lines;\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n      lines = lines ? lines.concat(sel) : sel;\n    }\n    if (lineSep === false) { return lines }\n    else { return lines.join(lineSep || this.lineSeparator()) }\n  },\n  getSelections: function(lineSep) {\n    var this$1 = this;\n\n    var parts = [], ranges = this.sel.ranges;\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()); }\n      parts[i] = sel;\n    }\n    return parts\n  },\n  replaceSelection: function(code, collapse, origin) {\n    var dup = [];\n    for (var i = 0; i < this.sel.ranges.length; i++)\n      { dup[i] = code; }\n    this.replaceSelections(dup, collapse, origin || \"+input\");\n  },\n  replaceSelections: docMethodOp(function(code, collapse, origin) {\n    var this$1 = this;\n\n    var changes = [], sel = this.sel;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range$$1 = sel.ranges[i];\n      changes[i] = {from: range$$1.from(), to: range$$1.to(), text: this$1.splitLines(code[i]), origin: origin};\n    }\n    var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n      { makeChange(this$1, changes[i$1]); }\n    if (newSel) { setSelectionReplaceHistory(this, newSel); }\n    else if (this.cm) { ensureCursorVisible(this.cm); }\n  }),\n  undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n  redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n  setExtending: function(val) {this.extend = val;},\n  getExtending: function() {return this.extend},\n\n  historySize: function() {\n    var hist = this.history, done = 0, undone = 0;\n    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n    return {undo: done, redo: undone}\n  },\n  clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n  markClean: function() {\n    this.cleanGeneration = this.changeGeneration(true);\n  },\n  changeGeneration: function(forceSplit) {\n    if (forceSplit)\n      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n    return this.history.generation\n  },\n  isClean: function (gen) {\n    return this.history.generation == (gen || this.cleanGeneration)\n  },\n\n  getHistory: function() {\n    return {done: copyHistoryArray(this.history.done),\n            undone: copyHistoryArray(this.history.undone)}\n  },\n  setHistory: function(histData) {\n    var hist = this.history = new History(this.history.maxGeneration);\n    hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n  },\n\n  setGutterMarker: docMethodOp(function(line, gutterID, value) {\n    return changeLine(this, line, \"gutter\", function (line) {\n      var markers = line.gutterMarkers || (line.gutterMarkers = {});\n      markers[gutterID] = value;\n      if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n      return true\n    })\n  }),\n\n  clearGutter: docMethodOp(function(gutterID) {\n    var this$1 = this;\n\n    this.iter(function (line) {\n      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n        changeLine(this$1, line, \"gutter\", function () {\n          line.gutterMarkers[gutterID] = null;\n          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n          return true\n        });\n      }\n    });\n  }),\n\n  lineInfo: function(line) {\n    var n;\n    if (typeof line == \"number\") {\n      if (!isLine(this, line)) { return null }\n      n = line;\n      line = getLine(this, line);\n      if (!line) { return null }\n    } else {\n      n = lineNo(line);\n      if (n == null) { return null }\n    }\n    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n            widgets: line.widgets}\n  },\n\n  addLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n      if (!line[prop]) { line[prop] = cls; }\n      else if (classTest(cls).test(line[prop])) { return false }\n      else { line[prop] += \" \" + cls; }\n      return true\n    })\n  }),\n  removeLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n      var cur = line[prop];\n      if (!cur) { return false }\n      else if (cls == null) { line[prop] = null; }\n      else {\n        var found = cur.match(classTest(cls));\n        if (!found) { return false }\n        var end = found.index + found[0].length;\n        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n      }\n      return true\n    })\n  }),\n\n  addLineWidget: docMethodOp(function(handle, node, options) {\n    return addLineWidget(this, handle, node, options)\n  }),\n  removeLineWidget: function(widget) { widget.clear(); },\n\n  markText: function(from, to, options) {\n    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n  },\n  setBookmark: function(pos, options) {\n    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                    insertLeft: options && options.insertLeft,\n                    clearWhenEmpty: false, shared: options && options.shared,\n                    handleMouseEvents: options && options.handleMouseEvents};\n    pos = clipPos(this, pos);\n    return markText(this, pos, pos, realOpts, \"bookmark\")\n  },\n  findMarksAt: function(pos) {\n    pos = clipPos(this, pos);\n    var markers = [], spans = getLine(this, pos.line).markedSpans;\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if ((span.from == null || span.from <= pos.ch) &&\n          (span.to == null || span.to >= pos.ch))\n        { markers.push(span.marker.parent || span.marker); }\n    } }\n    return markers\n  },\n  findMarks: function(from, to, filter) {\n    from = clipPos(this, from); to = clipPos(this, to);\n    var found = [], lineNo$$1 = from.line;\n    this.iter(from.line, to.line + 1, function (line) {\n      var spans = line.markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; i++) {\n        var span = spans[i];\n        if (!(span.to != null && lineNo$$1 == from.line && from.ch >= span.to ||\n              span.from == null && lineNo$$1 != from.line ||\n              span.from != null && lineNo$$1 == to.line && span.from >= to.ch) &&\n            (!filter || filter(span.marker)))\n          { found.push(span.marker.parent || span.marker); }\n      } }\n      ++lineNo$$1;\n    });\n    return found\n  },\n  getAllMarks: function() {\n    var markers = [];\n    this.iter(function (line) {\n      var sps = line.markedSpans;\n      if (sps) { for (var i = 0; i < sps.length; ++i)\n        { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n    });\n    return markers\n  },\n\n  posFromIndex: function(off) {\n    var ch, lineNo$$1 = this.first, sepSize = this.lineSeparator().length;\n    this.iter(function (line) {\n      var sz = line.text.length + sepSize;\n      if (sz > off) { ch = off; return true }\n      off -= sz;\n      ++lineNo$$1;\n    });\n    return clipPos(this, Pos(lineNo$$1, ch))\n  },\n  indexFromPos: function (coords) {\n    coords = clipPos(this, coords);\n    var index = coords.ch;\n    if (coords.line < this.first || coords.ch < 0) { return 0 }\n    var sepSize = this.lineSeparator().length;\n    this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n      index += line.text.length + sepSize;\n    });\n    return index\n  },\n\n  copy: function(copyHistory) {\n    var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                      this.modeOption, this.first, this.lineSep, this.direction);\n    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n    doc.sel = this.sel;\n    doc.extend = false;\n    if (copyHistory) {\n      doc.history.undoDepth = this.history.undoDepth;\n      doc.setHistory(this.getHistory());\n    }\n    return doc\n  },\n\n  linkedDoc: function(options) {\n    if (!options) { options = {}; }\n    var from = this.first, to = this.first + this.size;\n    if (options.from != null && options.from > from) { from = options.from; }\n    if (options.to != null && options.to < to) { to = options.to; }\n    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n    if (options.sharedHist) { copy.history = this.history\n    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n    copySharedMarkers(copy, findSharedMarkers(this));\n    return copy\n  },\n  unlinkDoc: function(other) {\n    var this$1 = this;\n\n    if (other instanceof CodeMirror$1) { other = other.doc; }\n    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n      var link = this$1.linked[i];\n      if (link.doc != other) { continue }\n      this$1.linked.splice(i, 1);\n      other.unlinkDoc(this$1);\n      detachSharedMarkers(findSharedMarkers(this$1));\n      break\n    } }\n    // If the histories were shared, split them again\n    if (other.history == this.history) {\n      var splitIds = [other.id];\n      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n      other.history = new History(null);\n      other.history.done = copyHistoryArray(this.history.done, splitIds);\n      other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n    }\n  },\n  iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n  getMode: function() {return this.mode},\n  getEditor: function() {return this.cm},\n\n  splitLines: function(str) {\n    if (this.lineSep) { return str.split(this.lineSep) }\n    return splitLinesAuto(str)\n  },\n  lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n  setDirection: docMethodOp(function (dir) {\n    if (dir != \"rtl\") { dir = \"ltr\"; }\n    if (dir == this.direction) { return }\n    this.direction = dir;\n    this.iter(function (line) { return line.order = null; });\n    if (this.cm) { directionChanged(this.cm); }\n  })\n});\n\n// Public alias.\nDoc.prototype.eachLine = Doc.prototype.iter;\n\n// Kludge to work around strange IE behavior where it'll sometimes\n// re-fire a series of drag-related events right after the drop (#1551)\nvar lastDrop = 0;\n\nfunction onDrop(e) {\n  var cm = this;\n  clearDragCursor(cm);\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n    { return }\n  e_preventDefault(e);\n  if (ie) { lastDrop = +new Date; }\n  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n  if (!pos || cm.isReadOnly()) { return }\n  // Might be a file drop, in which case we simply extract the text\n  // and insert it.\n  if (files && files.length && window.FileReader && window.File) {\n    var n = files.length, text = Array(n), read = 0;\n    var loadFile = function (file, i) {\n      if (cm.options.allowDropFileTypes &&\n          indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n        { return }\n\n      var reader = new FileReader;\n      reader.onload = operation(cm, function () {\n        var content = reader.result;\n        if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\"; }\n        text[i] = content;\n        if (++read == n) {\n          pos = clipPos(cm.doc, pos);\n          var change = {from: pos, to: pos,\n                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                        origin: \"paste\"};\n          makeChange(cm.doc, change);\n          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n        }\n      });\n      reader.readAsText(file);\n    };\n    for (var i = 0; i < n; ++i) { loadFile(files[i], i); }\n  } else { // Normal drop\n    // Don't do a replace if the drop happened inside of the selected text.\n    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n      cm.state.draggingText(e);\n      // Ensure the editor is re-focused\n      setTimeout(function () { return cm.display.input.focus(); }, 20);\n      return\n    }\n    try {\n      var text$1 = e.dataTransfer.getData(\"Text\");\n      if (text$1) {\n        var selected;\n        if (cm.state.draggingText && !cm.state.draggingText.copy)\n          { selected = cm.listSelections(); }\n        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n          { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n        cm.replaceSelection(text$1, \"around\", \"paste\");\n        cm.display.input.focus();\n      }\n    }\n    catch(e){}\n  }\n}\n\nfunction onDragStart(cm, e) {\n  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n  e.dataTransfer.setData(\"Text\", cm.getSelection());\n  e.dataTransfer.effectAllowed = \"copyMove\";\n\n  // Use dummy image instead of default browsers image.\n  // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n  if (e.dataTransfer.setDragImage && !safari) {\n    var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (presto) {\n      img.width = img.height = 1;\n      cm.display.wrapper.appendChild(img);\n      // Force a relayout, or Opera won't use our image for some obscure reason\n      img._top = img.offsetTop;\n    }\n    e.dataTransfer.setDragImage(img, 0, 0);\n    if (presto) { img.parentNode.removeChild(img); }\n  }\n}\n\nfunction onDragOver(cm, e) {\n  var pos = posFromMouse(cm, e);\n  if (!pos) { return }\n  var frag = document.createDocumentFragment();\n  drawSelectionCursor(cm, pos, frag);\n  if (!cm.display.dragCursor) {\n    cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n  }\n  removeChildrenAndAdd(cm.display.dragCursor, frag);\n}\n\nfunction clearDragCursor(cm) {\n  if (cm.display.dragCursor) {\n    cm.display.lineSpace.removeChild(cm.display.dragCursor);\n    cm.display.dragCursor = null;\n  }\n}\n\n// These must be handled carefully, because naively registering a\n// handler for each editor will cause the editors to never be\n// garbage collected.\n\nfunction forEachCodeMirror(f) {\n  if (!document.getElementsByClassName) { return }\n  var byClass = document.getElementsByClassName(\"CodeMirror\");\n  for (var i = 0; i < byClass.length; i++) {\n    var cm = byClass[i].CodeMirror;\n    if (cm) { f(cm); }\n  }\n}\n\nvar globalsRegistered = false;\nfunction ensureGlobalHandlers() {\n  if (globalsRegistered) { return }\n  registerGlobalHandlers();\n  globalsRegistered = true;\n}\nfunction registerGlobalHandlers() {\n  // When the window resizes, we need to refresh active editors.\n  var resizeTimer;\n  on(window, \"resize\", function () {\n    if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n      resizeTimer = null;\n      forEachCodeMirror(onResize);\n    }, 100); }\n  });\n  // When the window loses focus, we want to show the editor as blurred\n  on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n}\n// Called when the window resizes\nfunction onResize(cm) {\n  var d = cm.display;\n  if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\n    { return }\n  // Might be a text scaling operation, clear size caches.\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n  d.scrollbarsClipped = false;\n  cm.setSize();\n}\n\nvar keyNames = {\n  3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n  46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n  106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\", 145: \"ScrollLock\",\n  173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n  221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n  63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n};\n\n// Number keys\nfor (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n// Alphabetic keys\nfor (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n// Function keys\nfor (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\nvar keyMap = {};\n\nkeyMap.basic = {\n  \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n  \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n  \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n  \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n  \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n  \"Esc\": \"singleSelection\"\n};\n// Note that the save and find-related commands aren't defined by\n// default. User code or addons can define them. Unknown commands\n// are simply ignored.\nkeyMap.pcDefault = {\n  \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n  \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n  \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n  \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n  \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n  \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n  \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n  fallthrough: \"basic\"\n};\n// Very basic readline/emacs-style bindings, which are standard on Mac.\nkeyMap.emacsy = {\n  \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n  \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n  \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n  \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n  \"Ctrl-O\": \"openLine\"\n};\nkeyMap.macDefault = {\n  \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n  \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n  \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n  \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n  \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n  \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n  \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n  fallthrough: [\"basic\", \"emacsy\"]\n};\nkeyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n// KEYMAP DISPATCH\n\nfunction normalizeKeyName(name) {\n  var parts = name.split(/-(?!$)/);\n  name = parts[parts.length - 1];\n  var alt, ctrl, shift, cmd;\n  for (var i = 0; i < parts.length - 1; i++) {\n    var mod = parts[i];\n    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n    else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n    else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n  }\n  if (alt) { name = \"Alt-\" + name; }\n  if (ctrl) { name = \"Ctrl-\" + name; }\n  if (cmd) { name = \"Cmd-\" + name; }\n  if (shift) { name = \"Shift-\" + name; }\n  return name\n}\n\n// This is a kludge to keep keymaps mostly working as raw objects\n// (backwards compatibility) while at the same time support features\n// like normalization and multi-stroke key bindings. It compiles a\n// new normalized keymap, and then updates the old object to reflect\n// this.\nfunction normalizeKeyMap(keymap) {\n  var copy = {};\n  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n    var value = keymap[keyname];\n    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n    if (value == \"...\") { delete keymap[keyname]; continue }\n\n    var keys = map(keyname.split(\" \"), normalizeKeyName);\n    for (var i = 0; i < keys.length; i++) {\n      var val = (void 0), name = (void 0);\n      if (i == keys.length - 1) {\n        name = keys.join(\" \");\n        val = value;\n      } else {\n        name = keys.slice(0, i + 1).join(\" \");\n        val = \"...\";\n      }\n      var prev = copy[name];\n      if (!prev) { copy[name] = val; }\n      else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n    }\n    delete keymap[keyname];\n  } }\n  for (var prop in copy) { keymap[prop] = copy[prop]; }\n  return keymap\n}\n\nfunction lookupKey(key, map$$1, handle, context) {\n  map$$1 = getKeyMap(map$$1);\n  var found = map$$1.call ? map$$1.call(key, context) : map$$1[key];\n  if (found === false) { return \"nothing\" }\n  if (found === \"...\") { return \"multi\" }\n  if (found != null && handle(found)) { return \"handled\" }\n\n  if (map$$1.fallthrough) {\n    if (Object.prototype.toString.call(map$$1.fallthrough) != \"[object Array]\")\n      { return lookupKey(key, map$$1.fallthrough, handle, context) }\n    for (var i = 0; i < map$$1.fallthrough.length; i++) {\n      var result = lookupKey(key, map$$1.fallthrough[i], handle, context);\n      if (result) { return result }\n    }\n  }\n}\n\n// Modifier key presses don't count as 'real' key presses for the\n// purpose of keymap fallthrough.\nfunction isModifierKey(value) {\n  var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n  return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n}\n\nfunction addModifierNames(name, event, noShift) {\n  var base = name;\n  if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n  if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n  return name\n}\n\n// Look up the name of a key as indicated by an event object.\nfunction keyName(event, noShift) {\n  if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n  var name = keyNames[event.keyCode];\n  if (name == null || event.altGraphKey) { return false }\n  // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n  // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n  if (event.keyCode == 3 && event.code) { name = event.code; }\n  return addModifierNames(name, event, noShift)\n}\n\nfunction getKeyMap(val) {\n  return typeof val == \"string\" ? keyMap[val] : val\n}\n\n// Helper for deleting text near the selection(s), used to implement\n// backspace, delete, and similar functionality.\nfunction deleteNearSelection(cm, compute) {\n  var ranges = cm.doc.sel.ranges, kill = [];\n  // Build up a set of ranges to kill first, merging overlapping\n  // ranges.\n  for (var i = 0; i < ranges.length; i++) {\n    var toKill = compute(ranges[i]);\n    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n      var replaced = kill.pop();\n      if (cmp(replaced.from, toKill.from) < 0) {\n        toKill.from = replaced.from;\n        break\n      }\n    }\n    kill.push(toKill);\n  }\n  // Next, remove those actual ranges.\n  runInOp(cm, function () {\n    for (var i = kill.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n    ensureCursorVisible(cm);\n  });\n}\n\nfunction moveCharLogically(line, ch, dir) {\n  var target = skipExtendingChars(line.text, ch + dir, dir);\n  return target < 0 || target > line.text.length ? null : target\n}\n\nfunction moveLogically(line, start, dir) {\n  var ch = moveCharLogically(line, start.ch, dir);\n  return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n}\n\nfunction endOfLine(visually, cm, lineObj, lineNo, dir) {\n  if (visually) {\n    var order = getOrder(lineObj, cm.doc.direction);\n    if (order) {\n      var part = dir < 0 ? lst(order) : order[0];\n      var moveInStorageOrder = (dir < 0) == (part.level == 1);\n      var sticky = moveInStorageOrder ? \"after\" : \"before\";\n      var ch;\n      // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n      // it could be that the last bidi part is not on the last visual line,\n      // since visual lines contain content order-consecutive chunks.\n      // Thus, in rtl, we are looking for the first (content-order) character\n      // in the rtl chunk that is on the last line (that is, the same line\n      // as the last (content-order) character).\n      if (part.level > 0 || cm.doc.direction == \"rtl\") {\n        var prep = prepareMeasureForLine(cm, lineObj);\n        ch = dir < 0 ? lineObj.text.length - 1 : 0;\n        var targetTop = measureCharPrepared(cm, prep, ch).top;\n        ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n        if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n      } else { ch = dir < 0 ? part.to : part.from; }\n      return new Pos(lineNo, ch, sticky)\n    }\n  }\n  return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n}\n\nfunction moveVisually(cm, line, start, dir) {\n  var bidi = getOrder(line, cm.doc.direction);\n  if (!bidi) { return moveLogically(line, start, dir) }\n  if (start.ch >= line.text.length) {\n    start.ch = line.text.length;\n    start.sticky = \"before\";\n  } else if (start.ch <= 0) {\n    start.ch = 0;\n    start.sticky = \"after\";\n  }\n  var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n  if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n    // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n    // nothing interesting happens.\n    return moveLogically(line, start, dir)\n  }\n\n  var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n  var prep;\n  var getWrappedLineExtent = function (ch) {\n    if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n    prep = prep || prepareMeasureForLine(cm, line);\n    return wrappedLineExtentChar(cm, line, prep, ch)\n  };\n  var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n  if (cm.doc.direction == \"rtl\" || part.level == 1) {\n    var moveInStorageOrder = (part.level == 1) == (dir < 0);\n    var ch = mv(start, moveInStorageOrder ? 1 : -1);\n    if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n      // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n      var sticky = moveInStorageOrder ? \"before\" : \"after\";\n      return new Pos(start.line, ch, sticky)\n    }\n  }\n\n  // Case 3: Could not move within this bidi part in this visual line, so leave\n  // the current bidi part\n\n  var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n    var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n      ? new Pos(start.line, mv(ch, 1), \"before\")\n      : new Pos(start.line, ch, \"after\"); };\n\n    for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n      var part = bidi[partPos];\n      var moveInStorageOrder = (dir > 0) == (part.level != 1);\n      var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n      if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n      ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n      if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n    }\n  };\n\n  // Case 3a: Look for other bidi parts on the same visual line\n  var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n  if (res) { return res }\n\n  // Case 3b: Look for other bidi parts on the next visual line\n  var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n  if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n    res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n    if (res) { return res }\n  }\n\n  // Case 4: Nowhere to move\n  return null\n}\n\n// Commands are parameter-less actions that can be performed on an\n// editor, mostly used for keybindings.\nvar commands = {\n  selectAll: selectAll,\n  singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n  killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n    if (range.empty()) {\n      var len = getLine(cm.doc, range.head.line).text.length;\n      if (range.head.ch == len && range.head.line < cm.lastLine())\n        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n      else\n        { return {from: range.head, to: Pos(range.head.line, len)} }\n    } else {\n      return {from: range.from(), to: range.to()}\n    }\n  }); },\n  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0),\n    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n  }); }); },\n  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0), to: range.from()\n  }); }); },\n  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5;\n    var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n    return {from: leftPos, to: range.from()}\n  }); },\n  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5;\n    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n    return {from: range.from(), to: rightPos }\n  }); },\n  undo: function (cm) { return cm.undo(); },\n  redo: function (cm) { return cm.redo(); },\n  undoSelection: function (cm) { return cm.undoSelection(); },\n  redoSelection: function (cm) { return cm.redoSelection(); },\n  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n    {origin: \"+move\", bias: -1}\n  ); },\n  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5;\n    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5;\n    return cm.coordsChar({left: 0, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5;\n    var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n    if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n    return pos\n  }, sel_move); },\n  goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n  goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n  goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n  goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n  goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n  goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n  goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n  goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n  goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n  goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n  goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n  goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n  delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n  delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n  delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n  delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n  delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n  delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n  indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n  indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n  indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n  insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n  insertSoftTab: function (cm) {\n    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].from();\n      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n      spaces.push(spaceStr(tabSize - col % tabSize));\n    }\n    cm.replaceSelections(spaces);\n  },\n  defaultTab: function (cm) {\n    if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n    else { cm.execCommand(\"insertTab\"); }\n  },\n  // Swap the two chars left and right of each selection's head.\n  // Move cursor behind the two swapped characters afterwards.\n  //\n  // Doesn't consider line feeds a character.\n  // Doesn't scan more than one line above to find a character.\n  // Doesn't do anything on an empty line.\n  // Doesn't do anything with non-empty selections.\n  transposeChars: function (cm) { return runInOp(cm, function () {\n    var ranges = cm.listSelections(), newSel = [];\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) { continue }\n      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n      if (line) {\n        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n        if (cur.ch > 0) {\n          cur = new Pos(cur.line, cur.ch + 1);\n          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                          Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n        } else if (cur.line > cm.doc.first) {\n          var prev = getLine(cm.doc, cur.line - 1).text;\n          if (prev) {\n            cur = new Pos(cur.line, 1);\n            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                            prev.charAt(prev.length - 1),\n                            Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n          }\n        }\n      }\n      newSel.push(new Range(cur, cur));\n    }\n    cm.setSelections(newSel);\n  }); },\n  newlineAndIndent: function (cm) { return runInOp(cm, function () {\n    var sels = cm.listSelections();\n    for (var i = sels.length - 1; i >= 0; i--)\n      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n    sels = cm.listSelections();\n    for (var i$1 = 0; i$1 < sels.length; i$1++)\n      { cm.indentLine(sels[i$1].from().line, null, true); }\n    ensureCursorVisible(cm);\n  }); },\n  openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n};\n\n\nfunction lineStart(cm, lineN) {\n  var line = getLine(cm.doc, lineN);\n  var visual = visualLine(line);\n  if (visual != line) { lineN = lineNo(visual); }\n  return endOfLine(true, cm, visual, lineN, 1)\n}\nfunction lineEnd(cm, lineN) {\n  var line = getLine(cm.doc, lineN);\n  var visual = visualLineEnd(line);\n  if (visual != line) { lineN = lineNo(visual); }\n  return endOfLine(true, cm, line, lineN, -1)\n}\nfunction lineStartSmart(cm, pos) {\n  var start = lineStart(cm, pos.line);\n  var line = getLine(cm.doc, start.line);\n  var order = getOrder(line, cm.doc.direction);\n  if (!order || order[0].level == 0) {\n    var firstNonWS = Math.max(0, line.text.search(/\\S/));\n    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n    return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n  }\n  return start\n}\n\n// Run a handler that was bound to a key.\nfunction doHandleBinding(cm, bound, dropShift) {\n  if (typeof bound == \"string\") {\n    bound = commands[bound];\n    if (!bound) { return false }\n  }\n  // Ensure previous input has been read, so that the handler sees a\n  // consistent view of the document\n  cm.display.input.ensurePolled();\n  var prevShift = cm.display.shift, done = false;\n  try {\n    if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n    if (dropShift) { cm.display.shift = false; }\n    done = bound(cm) != Pass;\n  } finally {\n    cm.display.shift = prevShift;\n    cm.state.suppressEdits = false;\n  }\n  return done\n}\n\nfunction lookupKeyForEditor(cm, name, handle) {\n  for (var i = 0; i < cm.state.keyMaps.length; i++) {\n    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n    if (result) { return result }\n  }\n  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n    || lookupKey(name, cm.options.keyMap, handle, cm)\n}\n\n// Note that, despite the name, this function is also used to check\n// for bound mouse clicks.\n\nvar stopSeq = new Delayed;\n\nfunction dispatchKey(cm, name, e, handle) {\n  var seq = cm.state.keySeq;\n  if (seq) {\n    if (isModifierKey(name)) { return \"handled\" }\n    if (/\\'$/.test(name))\n      { cm.state.keySeq = null; }\n    else\n      { stopSeq.set(50, function () {\n        if (cm.state.keySeq == seq) {\n          cm.state.keySeq = null;\n          cm.display.input.reset();\n        }\n      }); }\n    if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n  }\n  return dispatchKeyInner(cm, name, e, handle)\n}\n\nfunction dispatchKeyInner(cm, name, e, handle) {\n  var result = lookupKeyForEditor(cm, name, handle);\n\n  if (result == \"multi\")\n    { cm.state.keySeq = name; }\n  if (result == \"handled\")\n    { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n  if (result == \"handled\" || result == \"multi\") {\n    e_preventDefault(e);\n    restartBlink(cm);\n  }\n\n  return !!result\n}\n\n// Handle a key from the keydown event.\nfunction handleKeyBinding(cm, e) {\n  var name = keyName(e, true);\n  if (!name) { return false }\n\n  if (e.shiftKey && !cm.state.keySeq) {\n    // First try to resolve full name (including 'Shift-'). Failing\n    // that, see if there is a cursor-motion command (starting with\n    // 'go') bound to the keyname without 'Shift-'.\n    return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n        || dispatchKey(cm, name, e, function (b) {\n             if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n               { return doHandleBinding(cm, b) }\n           })\n  } else {\n    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n  }\n}\n\n// Handle a key from the keypress event\nfunction handleCharBinding(cm, e, ch) {\n  return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n}\n\nvar lastStoppedKey = null;\nfunction onKeyDown(e) {\n  var cm = this;\n  cm.curOp.focus = activeElt();\n  if (signalDOMEvent(cm, e)) { return }\n  // IE does strange things with escape.\n  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n  var code = e.keyCode;\n  cm.display.shift = code == 16 || e.shiftKey;\n  var handled = handleKeyBinding(cm, e);\n  if (presto) {\n    lastStoppedKey = handled ? code : null;\n    // Opera has no cut event... we try to at least catch the key combo\n    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n      { cm.replaceSelection(\"\", null, \"cut\"); }\n  }\n\n  // Turn mouse into crosshair when Alt is held on Mac.\n  if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n    { showCrossHair(cm); }\n}\n\nfunction showCrossHair(cm) {\n  var lineDiv = cm.display.lineDiv;\n  addClass(lineDiv, \"CodeMirror-crosshair\");\n\n  function up(e) {\n    if (e.keyCode == 18 || !e.altKey) {\n      rmClass(lineDiv, \"CodeMirror-crosshair\");\n      off(document, \"keyup\", up);\n      off(document, \"mouseover\", up);\n    }\n  }\n  on(document, \"keyup\", up);\n  on(document, \"mouseover\", up);\n}\n\nfunction onKeyUp(e) {\n  if (e.keyCode == 16) { this.doc.sel.shift = false; }\n  signalDOMEvent(this, e);\n}\n\nfunction onKeyPress(e) {\n  var cm = this;\n  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n  var keyCode = e.keyCode, charCode = e.charCode;\n  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n  var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n  // Some browsers fire keypress events for backspace\n  if (ch == \"\\x08\") { return }\n  if (handleCharBinding(cm, e, ch)) { return }\n  cm.display.input.onKeyPress(e);\n}\n\nvar DOUBLECLICK_DELAY = 400;\n\nvar PastClick = function(time, pos, button) {\n  this.time = time;\n  this.pos = pos;\n  this.button = button;\n};\n\nPastClick.prototype.compare = function (time, pos, button) {\n  return this.time + DOUBLECLICK_DELAY > time &&\n    cmp(pos, this.pos) == 0 && button == this.button\n};\n\nvar lastClick;\nvar lastDoubleClick;\nfunction clickRepeat(pos, button) {\n  var now = +new Date;\n  if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n    lastClick = lastDoubleClick = null;\n    return \"triple\"\n  } else if (lastClick && lastClick.compare(now, pos, button)) {\n    lastDoubleClick = new PastClick(now, pos, button);\n    lastClick = null;\n    return \"double\"\n  } else {\n    lastClick = new PastClick(now, pos, button);\n    lastDoubleClick = null;\n    return \"single\"\n  }\n}\n\n// A mouse down can be a single click, double click, triple click,\n// start of selection drag, start of text drag, new cursor\n// (ctrl-click), rectangle drag (alt-drag), or xwin\n// middle-click-paste. Or it might be a click on something we should\n// not interfere with, such as a scrollbar or widget.\nfunction onMouseDown(e) {\n  var cm = this, display = cm.display;\n  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n  display.input.ensurePolled();\n  display.shift = e.shiftKey;\n\n  if (eventInWidget(display, e)) {\n    if (!webkit) {\n      // Briefly turn off draggability, to allow widgets to do\n      // normal dragging things.\n      display.scroller.draggable = false;\n      setTimeout(function () { return display.scroller.draggable = true; }, 100);\n    }\n    return\n  }\n  if (clickInGutter(cm, e)) { return }\n  var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n  window.focus();\n\n  // #3261: make sure, that we're not starting a second selection\n  if (button == 1 && cm.state.selectingText)\n    { cm.state.selectingText(e); }\n\n  if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n  if (button == 1) {\n    if (pos) { leftButtonDown(cm, pos, repeat, e); }\n    else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n  } else if (button == 2) {\n    if (pos) { extendSelection(cm.doc, pos); }\n    setTimeout(function () { return display.input.focus(); }, 20);\n  } else if (button == 3) {\n    if (captureRightClick) { onContextMenu(cm, e); }\n    else { delayBlurEvent(cm); }\n  }\n}\n\nfunction handleMappedButton(cm, button, pos, repeat, event) {\n  var name = \"Click\";\n  if (repeat == \"double\") { name = \"Double\" + name; }\n  else if (repeat == \"triple\") { name = \"Triple\" + name; }\n  name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n  return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n    if (typeof bound == \"string\") { bound = commands[bound]; }\n    if (!bound) { return false }\n    var done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      done = bound(cm, pos) != Pass;\n    } finally {\n      cm.state.suppressEdits = false;\n    }\n    return done\n  })\n}\n\nfunction configureMouse(cm, repeat, event) {\n  var option = cm.getOption(\"configureMouse\");\n  var value = option ? option(cm, repeat, event) : {};\n  if (value.unit == null) {\n    var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n    value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n  }\n  if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n  if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n  if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n  return value\n}\n\nfunction leftButtonDown(cm, pos, repeat, event) {\n  if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n  else { cm.curOp.focus = activeElt(); }\n\n  var behavior = configureMouse(cm, repeat, event);\n\n  var sel = cm.doc.sel, contained;\n  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n      repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n      (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n      (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n    { leftButtonStartDrag(cm, event, pos, behavior); }\n  else\n    { leftButtonSelect(cm, event, pos, behavior); }\n}\n\n// Start a text drag. When it ends, see if any dragging actually\n// happen, and treat as a click if it didn't.\nfunction leftButtonStartDrag(cm, event, pos, behavior) {\n  var display = cm.display, moved = false;\n  var dragEnd = operation(cm, function (e) {\n    if (webkit) { display.scroller.draggable = false; }\n    cm.state.draggingText = false;\n    off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    off(display.scroller, \"dragstart\", dragStart);\n    off(display.scroller, \"drop\", dragEnd);\n    if (!moved) {\n      e_preventDefault(e);\n      if (!behavior.addNew)\n        { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n      // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n      if (webkit || ie && ie_version == 9)\n        { setTimeout(function () {display.wrapper.ownerDocument.body.focus(); display.input.focus();}, 20); }\n      else\n        { display.input.focus(); }\n    }\n  });\n  var mouseMove = function(e2) {\n    moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n  };\n  var dragStart = function () { return moved = true; };\n  // Let the drag handler handle this.\n  if (webkit) { display.scroller.draggable = true; }\n  cm.state.draggingText = dragEnd;\n  dragEnd.copy = !behavior.moveOnDrag;\n  // IE's approach to draggable\n  if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n  on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n  on(display.scroller, \"dragstart\", dragStart);\n  on(display.scroller, \"drop\", dragEnd);\n\n  delayBlurEvent(cm);\n  setTimeout(function () { return display.input.focus(); }, 20);\n}\n\nfunction rangeForUnit(cm, pos, unit) {\n  if (unit == \"char\") { return new Range(pos, pos) }\n  if (unit == \"word\") { return cm.findWordAt(pos) }\n  if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n  var result = unit(cm, pos);\n  return new Range(result.from, result.to)\n}\n\n// Normal selection, as opposed to text dragging.\nfunction leftButtonSelect(cm, event, start, behavior) {\n  var display = cm.display, doc = cm.doc;\n  e_preventDefault(event);\n\n  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n  if (behavior.addNew && !behavior.extend) {\n    ourIndex = doc.sel.contains(start);\n    if (ourIndex > -1)\n      { ourRange = ranges[ourIndex]; }\n    else\n      { ourRange = new Range(start, start); }\n  } else {\n    ourRange = doc.sel.primary();\n    ourIndex = doc.sel.primIndex;\n  }\n\n  if (behavior.unit == \"rectangle\") {\n    if (!behavior.addNew) { ourRange = new Range(start, start); }\n    start = posFromMouse(cm, event, true, true);\n    ourIndex = -1;\n  } else {\n    var range$$1 = rangeForUnit(cm, start, behavior.unit);\n    if (behavior.extend)\n      { ourRange = extendRange(ourRange, range$$1.anchor, range$$1.head, behavior.extend); }\n    else\n      { ourRange = range$$1; }\n  }\n\n  if (!behavior.addNew) {\n    ourIndex = 0;\n    setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n    startSel = doc.sel;\n  } else if (ourIndex == -1) {\n    ourIndex = ranges.length;\n    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\n                 {scroll: false, origin: \"*mouse\"});\n  } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                 {scroll: false, origin: \"*mouse\"});\n    startSel = doc.sel;\n  } else {\n    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n  }\n\n  var lastPos = start;\n  function extendTo(pos) {\n    if (cmp(lastPos, pos) == 0) { return }\n    lastPos = pos;\n\n    if (behavior.unit == \"rectangle\") {\n      var ranges = [], tabSize = cm.options.tabSize;\n      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n           line <= end; line++) {\n        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n        if (left == right)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n        else if (text.length > leftPos)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n      }\n      if (!ranges.length) { ranges.push(new Range(start, start)); }\n      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                   {origin: \"*mouse\", scroll: false});\n      cm.scrollIntoView(pos);\n    } else {\n      var oldRange = ourRange;\n      var range$$1 = rangeForUnit(cm, pos, behavior.unit);\n      var anchor = oldRange.anchor, head;\n      if (cmp(range$$1.anchor, anchor) > 0) {\n        head = range$$1.head;\n        anchor = minPos(oldRange.from(), range$$1.anchor);\n      } else {\n        head = range$$1.anchor;\n        anchor = maxPos(oldRange.to(), range$$1.head);\n      }\n      var ranges$1 = startSel.ranges.slice(0);\n      ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse);\n    }\n  }\n\n  var editorSize = display.wrapper.getBoundingClientRect();\n  // Used to ensure timeout re-tries don't fire when another extend\n  // happened in the meantime (clearTimeout isn't reliable -- at\n  // least on Chrome, the timeouts still happen even when cleared,\n  // if the clear happens after their scheduled firing time).\n  var counter = 0;\n\n  function extend(e) {\n    var curCount = ++counter;\n    var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n    if (!cur) { return }\n    if (cmp(cur, lastPos) != 0) {\n      cm.curOp.focus = activeElt();\n      extendTo(cur);\n      var visible = visibleLines(display, doc);\n      if (cur.line >= visible.to || cur.line < visible.from)\n        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n    } else {\n      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n      if (outside) { setTimeout(operation(cm, function () {\n        if (counter != curCount) { return }\n        display.scroller.scrollTop += outside;\n        extend(e);\n      }), 50); }\n    }\n  }\n\n  function done(e) {\n    cm.state.selectingText = false;\n    counter = Infinity;\n    e_preventDefault(e);\n    display.input.focus();\n    off(display.wrapper.ownerDocument, \"mousemove\", move);\n    off(display.wrapper.ownerDocument, \"mouseup\", up);\n    doc.history.lastSelOrigin = null;\n  }\n\n  var move = operation(cm, function (e) {\n    if (e.buttons === 0 || !e_button(e)) { done(e); }\n    else { extend(e); }\n  });\n  var up = operation(cm, done);\n  cm.state.selectingText = up;\n  on(display.wrapper.ownerDocument, \"mousemove\", move);\n  on(display.wrapper.ownerDocument, \"mouseup\", up);\n}\n\n// Used when mouse-selecting to adjust the anchor to the proper side\n// of a bidi jump depending on the visual position of the head.\nfunction bidiSimplify(cm, range$$1) {\n  var anchor = range$$1.anchor;\n  var head = range$$1.head;\n  var anchorLine = getLine(cm.doc, anchor.line);\n  if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range$$1 }\n  var order = getOrder(anchorLine);\n  if (!order) { return range$$1 }\n  var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n  if (part.from != anchor.ch && part.to != anchor.ch) { return range$$1 }\n  var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n  if (boundary == 0 || boundary == order.length) { return range$$1 }\n\n  // Compute the relative visual position of the head compared to the\n  // anchor (<0 is to the left, >0 to the right)\n  var leftSide;\n  if (head.line != anchor.line) {\n    leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n  } else {\n    var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n    var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n    if (headIndex == boundary - 1 || headIndex == boundary)\n      { leftSide = dir < 0; }\n    else\n      { leftSide = dir > 0; }\n  }\n\n  var usePart = order[boundary + (leftSide ? -1 : 0)];\n  var from = leftSide == (usePart.level == 1);\n  var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n  return anchor.ch == ch && anchor.sticky == sticky ? range$$1 : new Range(new Pos(anchor.line, ch, sticky), head)\n}\n\n\n// Determines whether an event happened in the gutter, and fires the\n// handlers for the corresponding event.\nfunction gutterEvent(cm, e, type, prevent) {\n  var mX, mY;\n  if (e.touches) {\n    mX = e.touches[0].clientX;\n    mY = e.touches[0].clientY;\n  } else {\n    try { mX = e.clientX; mY = e.clientY; }\n    catch(e) { return false }\n  }\n  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n  if (prevent) { e_preventDefault(e); }\n\n  var display = cm.display;\n  var lineBox = display.lineDiv.getBoundingClientRect();\n\n  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n  mY -= lineBox.top - display.viewOffset;\n\n  for (var i = 0; i < cm.options.gutters.length; ++i) {\n    var g = display.gutters.childNodes[i];\n    if (g && g.getBoundingClientRect().right >= mX) {\n      var line = lineAtHeight(cm.doc, mY);\n      var gutter = cm.options.gutters[i];\n      signal(cm, type, cm, line, gutter, e);\n      return e_defaultPrevented(e)\n    }\n  }\n}\n\nfunction clickInGutter(cm, e) {\n  return gutterEvent(cm, e, \"gutterClick\", true)\n}\n\n// CONTEXT MENU HANDLING\n\n// To make the context menu work, we need to briefly unhide the\n// textarea (making it as unobtrusive as possible) to let the\n// right-click take effect on it.\nfunction onContextMenu(cm, e) {\n  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n  if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n  cm.display.input.onContextMenu(e);\n}\n\nfunction contextMenuInGutter(cm, e) {\n  if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n  return gutterEvent(cm, e, \"gutterContextMenu\", false)\n}\n\nfunction themeChanged(cm) {\n  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n    cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n  clearCaches(cm);\n}\n\nvar Init = {toString: function(){return \"CodeMirror.Init\"}};\n\nvar defaults = {};\nvar optionHandlers = {};\n\nfunction defineOptions(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers;\n\n  function option(name, deflt, handle, notOnInit) {\n    CodeMirror.defaults[name] = deflt;\n    if (handle) { optionHandlers[name] =\n      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n  }\n\n  CodeMirror.defineOption = option;\n\n  // Passed to option handlers when there is no old value.\n  CodeMirror.Init = Init;\n\n  // These two are, on init, called from the constructor because they\n  // have to be initialized before the editor can start at all.\n  option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n  option(\"mode\", null, function (cm, val) {\n    cm.doc.modeOption = val;\n    loadMode(cm);\n  }, true);\n\n  option(\"indentUnit\", 2, loadMode, true);\n  option(\"indentWithTabs\", false);\n  option(\"smartIndent\", true);\n  option(\"tabSize\", 4, function (cm) {\n    resetModeState(cm);\n    clearCaches(cm);\n    regChange(cm);\n  }, true);\n\n  option(\"lineSeparator\", null, function (cm, val) {\n    cm.doc.lineSep = val;\n    if (!val) { return }\n    var newBreaks = [], lineNo = cm.doc.first;\n    cm.doc.iter(function (line) {\n      for (var pos = 0;;) {\n        var found = line.text.indexOf(val, pos);\n        if (found == -1) { break }\n        pos = found + val.length;\n        newBreaks.push(Pos(lineNo, found));\n      }\n      lineNo++;\n    });\n    for (var i = newBreaks.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n  });\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n    if (old != Init) { cm.refresh(); }\n  });\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n  option(\"electricChars\", true);\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n  }, true);\n  option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n  option(\"rtlMoveVisually\", !windows);\n  option(\"wholeLineUpdateBefore\", true);\n\n  option(\"theme\", \"default\", function (cm) {\n    themeChanged(cm);\n    guttersChanged(cm);\n  }, true);\n  option(\"keyMap\", \"default\", function (cm, val, old) {\n    var next = getKeyMap(val);\n    var prev = old != Init && getKeyMap(old);\n    if (prev && prev.detach) { prev.detach(cm, next); }\n    if (next.attach) { next.attach(cm, prev || null); }\n  });\n  option(\"extraKeys\", null);\n  option(\"configureMouse\", null);\n\n  option(\"lineWrapping\", false, wrappingChanged, true);\n  option(\"gutters\", [], function (cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"fixedGutter\", true, function (cm, val) {\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n    cm.refresh();\n  }, true);\n  option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n  option(\"scrollbarStyle\", \"native\", function (cm) {\n    initScrollbars(cm);\n    updateScrollbars(cm);\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n  }, true);\n  option(\"lineNumbers\", false, function (cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"firstLineNumber\", 1, guttersChanged, true);\n  option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true);\n  option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n  option(\"resetSelectionOnContextMenu\", true);\n  option(\"lineWiseCopyCut\", true);\n  option(\"pasteLinesPerSelection\", true);\n\n  option(\"readOnly\", false, function (cm, val) {\n    if (val == \"nocursor\") {\n      onBlur(cm);\n      cm.display.input.blur();\n    }\n    cm.display.input.readOnlyChanged(val);\n  });\n  option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n  option(\"dragDrop\", true, dragDropChanged);\n  option(\"allowDropFileTypes\", null);\n\n  option(\"cursorBlinkRate\", 530);\n  option(\"cursorScrollMargin\", 0);\n  option(\"cursorHeight\", 1, updateSelection, true);\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n  option(\"workTime\", 100);\n  option(\"workDelay\", 100);\n  option(\"flattenSpans\", true, resetModeState, true);\n  option(\"addModeClass\", false, resetModeState, true);\n  option(\"pollInterval\", 100);\n  option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n  option(\"historyEventDelay\", 1250);\n  option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n  option(\"maxHighlightLength\", 10000, resetModeState, true);\n  option(\"moveInputWithCursor\", true, function (cm, val) {\n    if (!val) { cm.display.input.resetPosition(); }\n  });\n\n  option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n  option(\"autofocus\", null);\n  option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n}\n\nfunction guttersChanged(cm) {\n  updateGutters(cm);\n  regChange(cm);\n  alignHorizontally(cm);\n}\n\nfunction dragDropChanged(cm, value, old) {\n  var wasOn = old && old != Init;\n  if (!value != !wasOn) {\n    var funcs = cm.display.dragFunctions;\n    var toggle = value ? on : off;\n    toggle(cm.display.scroller, \"dragstart\", funcs.start);\n    toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n    toggle(cm.display.scroller, \"dragover\", funcs.over);\n    toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n    toggle(cm.display.scroller, \"drop\", funcs.drop);\n  }\n}\n\nfunction wrappingChanged(cm) {\n  if (cm.options.lineWrapping) {\n    addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n    cm.display.sizer.style.minWidth = \"\";\n    cm.display.sizerWidth = null;\n  } else {\n    rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n    findMaxLine(cm);\n  }\n  estimateLineHeights(cm);\n  regChange(cm);\n  clearCaches(cm);\n  setTimeout(function () { return updateScrollbars(cm); }, 100);\n}\n\n// A CodeMirror instance represents an editor. This is the object\n// that user code is usually dealing with.\n\nfunction CodeMirror$1(place, options) {\n  var this$1 = this;\n\n  if (!(this instanceof CodeMirror$1)) { return new CodeMirror$1(place, options) }\n\n  this.options = options = options ? copyObj(options) : {};\n  // Determine effective options based on given values and defaults.\n  copyObj(defaults, options, false);\n  setGuttersForLineNumbers(options);\n\n  var doc = options.value;\n  if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n  this.doc = doc;\n\n  var input = new CodeMirror$1.inputStyles[options.inputStyle](this);\n  var display = this.display = new Display(place, doc, input);\n  display.wrapper.CodeMirror = this;\n  updateGutters(this);\n  themeChanged(this);\n  if (options.lineWrapping)\n    { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n  initScrollbars(this);\n\n  this.state = {\n    keyMaps: [],  // stores maps added by addKeyMap\n    overlays: [], // highlighting overlays, as added by addOverlay\n    modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n    overwrite: false,\n    delayingBlurEvent: false,\n    focused: false,\n    suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n    pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n    selectingText: false,\n    draggingText: false,\n    highlight: new Delayed(), // stores highlight worker timeout\n    keySeq: null,  // Unfinished key sequence\n    specialChars: null\n  };\n\n  if (options.autofocus && !mobile) { display.input.focus(); }\n\n  // Override magic textarea content restore that IE sometimes does\n  // on our hidden textarea on reload\n  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n  registerEventHandlers(this);\n  ensureGlobalHandlers();\n\n  startOperation(this);\n  this.curOp.forceUpdate = true;\n  attachDoc(this, doc);\n\n  if ((options.autofocus && !mobile) || this.hasFocus())\n    { setTimeout(bind(onFocus, this), 20); }\n  else\n    { onBlur(this); }\n\n  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n    { optionHandlers[opt](this$1, options[opt], Init); } }\n  maybeUpdateLineNumberWidth(this);\n  if (options.finishInit) { options.finishInit(this); }\n  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1); }\n  endOperation(this);\n  // Suppress optimizelegibility in Webkit, since it breaks text\n  // measuring on line wrapping boundaries.\n  if (webkit && options.lineWrapping &&\n      getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n    { display.lineDiv.style.textRendering = \"auto\"; }\n}\n\n// The default configuration options.\nCodeMirror$1.defaults = defaults;\n// Functions to run when options are changed.\nCodeMirror$1.optionHandlers = optionHandlers;\n\n// Attach the necessary event handlers when initializing the editor\nfunction registerEventHandlers(cm) {\n  var d = cm.display;\n  on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n  // Older IE's will not fire a second mousedown for a double click\n  if (ie && ie_version < 11)\n    { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n      if (signalDOMEvent(cm, e)) { return }\n      var pos = posFromMouse(cm, e);\n      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n      e_preventDefault(e);\n      var word = cm.findWordAt(pos);\n      extendSelection(cm.doc, word.anchor, word.head);\n    })); }\n  else\n    { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n  // Some browsers fire contextmenu *after* opening the menu, at\n  // which point we can't mess with it anymore. Context menu is\n  // handled in onMouseDown for these browsers.\n  if (!captureRightClick) { on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); }); }\n\n  // Used to suppress mouse event handling when a touch happens\n  var touchFinished, prevTouch = {end: 0};\n  function finishTouch() {\n    if (d.activeTouch) {\n      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n      prevTouch = d.activeTouch;\n      prevTouch.end = +new Date;\n    }\n  }\n  function isMouseLikeTouchEvent(e) {\n    if (e.touches.length != 1) { return false }\n    var touch = e.touches[0];\n    return touch.radiusX <= 1 && touch.radiusY <= 1\n  }\n  function farAway(touch, other) {\n    if (other.left == null) { return true }\n    var dx = other.left - touch.left, dy = other.top - touch.top;\n    return dx * dx + dy * dy > 20 * 20\n  }\n  on(d.scroller, \"touchstart\", function (e) {\n    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n      d.input.ensurePolled();\n      clearTimeout(touchFinished);\n      var now = +new Date;\n      d.activeTouch = {start: now, moved: false,\n                       prev: now - prevTouch.end <= 300 ? prevTouch : null};\n      if (e.touches.length == 1) {\n        d.activeTouch.left = e.touches[0].pageX;\n        d.activeTouch.top = e.touches[0].pageY;\n      }\n    }\n  });\n  on(d.scroller, \"touchmove\", function () {\n    if (d.activeTouch) { d.activeTouch.moved = true; }\n  });\n  on(d.scroller, \"touchend\", function (e) {\n    var touch = d.activeTouch;\n    if (touch && !eventInWidget(d, e) && touch.left != null &&\n        !touch.moved && new Date - touch.start < 300) {\n      var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n      if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n        { range = new Range(pos, pos); }\n      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n        { range = cm.findWordAt(pos); }\n      else // Triple tap\n        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n      cm.setSelection(range.anchor, range.head);\n      cm.focus();\n      e_preventDefault(e);\n    }\n    finishTouch();\n  });\n  on(d.scroller, \"touchcancel\", finishTouch);\n\n  // Sync scrolling between fake scrollbars and real scrollable\n  // area, ensure viewport is updated when scrolling.\n  on(d.scroller, \"scroll\", function () {\n    if (d.scroller.clientHeight) {\n      updateScrollTop(cm, d.scroller.scrollTop);\n      setScrollLeft(cm, d.scroller.scrollLeft, true);\n      signal(cm, \"scroll\", cm);\n    }\n  });\n\n  // Listen to wheel events in order to try and update the viewport on time.\n  on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n  on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n  // Prevent wrapper from ever scrolling\n  on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n  d.dragFunctions = {\n    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n    start: function (e) { return onDragStart(cm, e); },\n    drop: operation(cm, onDrop),\n    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n  };\n\n  var inp = d.input.getField();\n  on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n  on(inp, \"keydown\", operation(cm, onKeyDown));\n  on(inp, \"keypress\", operation(cm, onKeyPress));\n  on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n  on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n}\n\nvar initHooks = [];\nCodeMirror$1.defineInitHook = function (f) { return initHooks.push(f); };\n\n// Indent the given line. The how parameter can be \"smart\",\n// \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n// (typically set to true for forced single-line indents), empty\n// lines are not indented, and places where the mode returns Pass\n// are left alone.\nfunction indentLine(cm, n, how, aggressive) {\n  var doc = cm.doc, state;\n  if (how == null) { how = \"add\"; }\n  if (how == \"smart\") {\n    // Fall back to \"prev\" when the mode doesn't have an indentation\n    // method.\n    if (!doc.mode.indent) { how = \"prev\"; }\n    else { state = getContextBefore(cm, n).state; }\n  }\n\n  var tabSize = cm.options.tabSize;\n  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n  if (line.stateAfter) { line.stateAfter = null; }\n  var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n  if (!aggressive && !/\\S/.test(line.text)) {\n    indentation = 0;\n    how = \"not\";\n  } else if (how == \"smart\") {\n    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n    if (indentation == Pass || indentation > 150) {\n      if (!aggressive) { return }\n      how = \"prev\";\n    }\n  }\n  if (how == \"prev\") {\n    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n    else { indentation = 0; }\n  } else if (how == \"add\") {\n    indentation = curSpace + cm.options.indentUnit;\n  } else if (how == \"subtract\") {\n    indentation = curSpace - cm.options.indentUnit;\n  } else if (typeof how == \"number\") {\n    indentation = curSpace + how;\n  }\n  indentation = Math.max(0, indentation);\n\n  var indentString = \"\", pos = 0;\n  if (cm.options.indentWithTabs)\n    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n  if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n  if (indentString != curSpaceString) {\n    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n    line.stateAfter = null;\n    return true\n  } else {\n    // Ensure that, if the cursor was in the whitespace at the start\n    // of the line, it is moved to the end of that space.\n    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n      var range = doc.sel.ranges[i$1];\n      if (range.head.line == n && range.head.ch < curSpaceString.length) {\n        var pos$1 = Pos(n, curSpaceString.length);\n        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n        break\n      }\n    }\n  }\n}\n\n// This will be set to a {lineWise: bool, text: [string]} object, so\n// that, when pasting, we know what kind of selections the copied\n// text was made out of.\nvar lastCopied = null;\n\nfunction setLastCopied(newLastCopied) {\n  lastCopied = newLastCopied;\n}\n\nfunction applyTextInput(cm, inserted, deleted, sel, origin) {\n  var doc = cm.doc;\n  cm.display.shift = false;\n  if (!sel) { sel = doc.sel; }\n\n  var paste = cm.state.pasteIncoming || origin == \"paste\";\n  var textLines = splitLinesAuto(inserted), multiPaste = null;\n  // When pasting N lines into N selections, insert one line per selection\n  if (paste && sel.ranges.length > 1) {\n    if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n      if (sel.ranges.length % lastCopied.text.length == 0) {\n        multiPaste = [];\n        for (var i = 0; i < lastCopied.text.length; i++)\n          { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n      }\n    } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n      multiPaste = map(textLines, function (l) { return [l]; });\n    }\n  }\n\n  var updateInput;\n  // Normal behavior is to insert the new text into every selection\n  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n    var range$$1 = sel.ranges[i$1];\n    var from = range$$1.from(), to = range$$1.to();\n    if (range$$1.empty()) {\n      if (deleted && deleted > 0) // Handle deletion\n        { from = Pos(from.line, from.ch - deleted); }\n      else if (cm.state.overwrite && !paste) // Handle overwrite\n        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n        { from = to = Pos(from.line, 0); }\n    }\n    updateInput = cm.curOp.updateInput;\n    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                       origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")};\n    makeChange(cm.doc, changeEvent);\n    signalLater(cm, \"inputRead\", cm, changeEvent);\n  }\n  if (inserted && !paste)\n    { triggerElectric(cm, inserted); }\n\n  ensureCursorVisible(cm);\n  cm.curOp.updateInput = updateInput;\n  cm.curOp.typing = true;\n  cm.state.pasteIncoming = cm.state.cutIncoming = false;\n}\n\nfunction handlePaste(e, cm) {\n  var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n  if (pasted) {\n    e.preventDefault();\n    if (!cm.isReadOnly() && !cm.options.disableInput)\n      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n    return true\n  }\n}\n\nfunction triggerElectric(cm, inserted) {\n  // When an 'electric' character is inserted, immediately trigger a reindent\n  if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n  var sel = cm.doc.sel;\n\n  for (var i = sel.ranges.length - 1; i >= 0; i--) {\n    var range$$1 = sel.ranges[i];\n    if (range$$1.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range$$1.head.line)) { continue }\n    var mode = cm.getModeAt(range$$1.head);\n    var indented = false;\n    if (mode.electricChars) {\n      for (var j = 0; j < mode.electricChars.length; j++)\n        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n          indented = indentLine(cm, range$$1.head.line, \"smart\");\n          break\n        } }\n    } else if (mode.electricInput) {\n      if (mode.electricInput.test(getLine(cm.doc, range$$1.head.line).text.slice(0, range$$1.head.ch)))\n        { indented = indentLine(cm, range$$1.head.line, \"smart\"); }\n    }\n    if (indented) { signalLater(cm, \"electricInput\", cm, range$$1.head.line); }\n  }\n}\n\nfunction copyableRanges(cm) {\n  var text = [], ranges = [];\n  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n    var line = cm.doc.sel.ranges[i].head.line;\n    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n    ranges.push(lineRange);\n    text.push(cm.getRange(lineRange.anchor, lineRange.head));\n  }\n  return {text: text, ranges: ranges}\n}\n\nfunction disableBrowserMagic(field, spellcheck) {\n  field.setAttribute(\"autocorrect\", \"off\");\n  field.setAttribute(\"autocapitalize\", \"off\");\n  field.setAttribute(\"spellcheck\", !!spellcheck);\n}\n\nfunction hiddenTextarea() {\n  var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n  var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n  // The textarea is kept positioned near the cursor to prevent the\n  // fact that it'll be scrolled into view on input from scrolling\n  // our fake cursor out of view. On webkit, when wrap=off, paste is\n  // very slow. So make the area wide instead.\n  if (webkit) { te.style.width = \"1000px\"; }\n  else { te.setAttribute(\"wrap\", \"off\"); }\n  // If border: 0; -- iOS fails to open keyboard (issue #1287)\n  if (ios) { te.style.border = \"1px solid black\"; }\n  disableBrowserMagic(te);\n  return div\n}\n\n// The publicly visible API. Note that methodOp(f) means\n// 'wrap f in an operation, performed on its `this` parameter'.\n\n// This is not the complete set of editor methods. Most of the\n// methods defined on the Doc type are also injected into\n// CodeMirror.prototype, for backwards compatibility and\n// convenience.\n\nvar addEditorMethods = function(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers;\n\n  var helpers = CodeMirror.helpers = {};\n\n  CodeMirror.prototype = {\n    constructor: CodeMirror,\n    focus: function(){window.focus(); this.display.input.focus();},\n\n    setOption: function(option, value) {\n      var options = this.options, old = options[option];\n      if (options[option] == value && option != \"mode\") { return }\n      options[option] = value;\n      if (optionHandlers.hasOwnProperty(option))\n        { operation(this, optionHandlers[option])(this, value, old); }\n      signal(this, \"optionChange\", this, option);\n    },\n\n    getOption: function(option) {return this.options[option]},\n    getDoc: function() {return this.doc},\n\n    addKeyMap: function(map$$1, bottom) {\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map$$1));\n    },\n    removeKeyMap: function(map$$1) {\n      var maps = this.state.keyMaps;\n      for (var i = 0; i < maps.length; ++i)\n        { if (maps[i] == map$$1 || maps[i].name == map$$1) {\n          maps.splice(i, 1);\n          return true\n        } }\n    },\n\n    addOverlay: methodOp(function(spec, options) {\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n      if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n      insertSorted(this.state.overlays,\n                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                    priority: (options && options.priority) || 0},\n                   function (overlay) { return overlay.priority; });\n      this.state.modeGen++;\n      regChange(this);\n    }),\n    removeOverlay: methodOp(function(spec) {\n      var this$1 = this;\n\n      var overlays = this.state.overlays;\n      for (var i = 0; i < overlays.length; ++i) {\n        var cur = overlays[i].modeSpec;\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n          overlays.splice(i, 1);\n          this$1.state.modeGen++;\n          regChange(this$1);\n          return\n        }\n      }\n    }),\n\n    indentLine: methodOp(function(n, dir, aggressive) {\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\n        if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n        else { dir = dir ? \"add\" : \"subtract\"; }\n      }\n      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n    }),\n    indentSelection: methodOp(function(how) {\n      var this$1 = this;\n\n      var ranges = this.doc.sel.ranges, end = -1;\n      for (var i = 0; i < ranges.length; i++) {\n        var range$$1 = ranges[i];\n        if (!range$$1.empty()) {\n          var from = range$$1.from(), to = range$$1.to();\n          var start = Math.max(end, from.line);\n          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n          for (var j = start; j < end; ++j)\n            { indentLine(this$1, j, how); }\n          var newRanges = this$1.doc.sel.ranges;\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n        } else if (range$$1.head.line > end) {\n          indentLine(this$1, range$$1.head.line, how, true);\n          end = range$$1.head.line;\n          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1); }\n        }\n      }\n    }),\n\n    // Fetch the parser token for a given character. Useful for hacks\n    // that want to inspect the mode state (say, for completion).\n    getTokenAt: function(pos, precise) {\n      return takeToken(this, pos, precise)\n    },\n\n    getLineTokens: function(line, precise) {\n      return takeToken(this, Pos(line), precise, true)\n    },\n\n    getTokenTypeAt: function(pos) {\n      pos = clipPos(this.doc, pos);\n      var styles = getLineStyles(this, getLine(this.doc, pos.line));\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n      var type;\n      if (ch == 0) { type = styles[2]; }\n      else { for (;;) {\n        var mid = (before + after) >> 1;\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n        else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n        else { type = styles[mid * 2 + 2]; break }\n      } }\n      var cut = type ? type.indexOf(\"overlay \") : -1;\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n    },\n\n    getModeAt: function(pos) {\n      var mode = this.doc.mode;\n      if (!mode.innerMode) { return mode }\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n    },\n\n    getHelper: function(pos, type) {\n      return this.getHelpers(pos, type)[0]\n    },\n\n    getHelpers: function(pos, type) {\n      var this$1 = this;\n\n      var found = [];\n      if (!helpers.hasOwnProperty(type)) { return found }\n      var help = helpers[type], mode = this.getModeAt(pos);\n      if (typeof mode[type] == \"string\") {\n        if (help[mode[type]]) { found.push(help[mode[type]]); }\n      } else if (mode[type]) {\n        for (var i = 0; i < mode[type].length; i++) {\n          var val = help[mode[type][i]];\n          if (val) { found.push(val); }\n        }\n      } else if (mode.helperType && help[mode.helperType]) {\n        found.push(help[mode.helperType]);\n      } else if (help[mode.name]) {\n        found.push(help[mode.name]);\n      }\n      for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n        var cur = help._global[i$1];\n        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n          { found.push(cur.val); }\n      }\n      return found\n    },\n\n    getStateAfter: function(line, precise) {\n      var doc = this.doc;\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n      return getContextBefore(this, line + 1, precise).state\n    },\n\n    cursorCoords: function(start, mode) {\n      var pos, range$$1 = this.doc.sel.primary();\n      if (start == null) { pos = range$$1.head; }\n      else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n      else { pos = start ? range$$1.from() : range$$1.to(); }\n      return cursorCoords(this, pos, mode || \"page\")\n    },\n\n    charCoords: function(pos, mode) {\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n    },\n\n    coordsChar: function(coords, mode) {\n      coords = fromCoordSystem(this, coords, mode || \"page\");\n      return coordsChar(this, coords.left, coords.top)\n    },\n\n    lineAtHeight: function(height, mode) {\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n      return lineAtHeight(this.doc, height + this.display.viewOffset)\n    },\n    heightAtLine: function(line, mode, includeWidgets) {\n      var end = false, lineObj;\n      if (typeof line == \"number\") {\n        var last = this.doc.first + this.doc.size - 1;\n        if (line < this.doc.first) { line = this.doc.first; }\n        else if (line > last) { line = last; end = true; }\n        lineObj = getLine(this.doc, line);\n      } else {\n        lineObj = line;\n      }\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n        (end ? this.doc.height - heightAtLine(lineObj) : 0)\n    },\n\n    defaultTextHeight: function() { return textHeight(this.display) },\n    defaultCharWidth: function() { return charWidth(this.display) },\n\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n    addWidget: function(pos, node, scroll, vert, horiz) {\n      var display = this.display;\n      pos = cursorCoords(this, clipPos(this.doc, pos));\n      var top = pos.bottom, left = pos.left;\n      node.style.position = \"absolute\";\n      node.setAttribute(\"cm-ignore-events\", \"true\");\n      this.display.input.setUneditable(node);\n      display.sizer.appendChild(node);\n      if (vert == \"over\") {\n        top = pos.top;\n      } else if (vert == \"above\" || vert == \"near\") {\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n          { top = pos.top - node.offsetHeight; }\n        else if (pos.bottom + node.offsetHeight <= vspace)\n          { top = pos.bottom; }\n        if (left + node.offsetWidth > hspace)\n          { left = hspace - node.offsetWidth; }\n      }\n      node.style.top = top + \"px\";\n      node.style.left = node.style.right = \"\";\n      if (horiz == \"right\") {\n        left = display.sizer.clientWidth - node.offsetWidth;\n        node.style.right = \"0px\";\n      } else {\n        if (horiz == \"left\") { left = 0; }\n        else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n        node.style.left = left + \"px\";\n      }\n      if (scroll)\n        { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n    },\n\n    triggerOnKeyDown: methodOp(onKeyDown),\n    triggerOnKeyPress: methodOp(onKeyPress),\n    triggerOnKeyUp: onKeyUp,\n    triggerOnMouseDown: methodOp(onMouseDown),\n\n    execCommand: function(cmd) {\n      if (commands.hasOwnProperty(cmd))\n        { return commands[cmd].call(null, this) }\n    },\n\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n    findPosH: function(from, amount, unit, visually) {\n      var this$1 = this;\n\n      var dir = 1;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      var cur = clipPos(this.doc, from);\n      for (var i = 0; i < amount; ++i) {\n        cur = findPosH(this$1.doc, cur, dir, unit, visually);\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveH: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      this.extendSelectionsBy(function (range$$1) {\n        if (this$1.display.shift || this$1.doc.extend || range$$1.empty())\n          { return findPosH(this$1.doc, range$$1.head, dir, unit, this$1.options.rtlMoveVisually) }\n        else\n          { return dir < 0 ? range$$1.from() : range$$1.to() }\n      }, sel_move);\n    }),\n\n    deleteH: methodOp(function(dir, unit) {\n      var sel = this.doc.sel, doc = this.doc;\n      if (sel.somethingSelected())\n        { doc.replaceSelection(\"\", null, \"+delete\"); }\n      else\n        { deleteNearSelection(this, function (range$$1) {\n          var other = findPosH(doc, range$$1.head, dir, unit, false);\n          return dir < 0 ? {from: other, to: range$$1.head} : {from: range$$1.head, to: other}\n        }); }\n    }),\n\n    findPosV: function(from, amount, unit, goalColumn) {\n      var this$1 = this;\n\n      var dir = 1, x = goalColumn;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      var cur = clipPos(this.doc, from);\n      for (var i = 0; i < amount; ++i) {\n        var coords = cursorCoords(this$1, cur, \"div\");\n        if (x == null) { x = coords.left; }\n        else { coords.left = x; }\n        cur = findPosV(this$1, coords, dir, unit);\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveV: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      var doc = this.doc, goals = [];\n      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n      doc.extendSelectionsBy(function (range$$1) {\n        if (collapse)\n          { return dir < 0 ? range$$1.from() : range$$1.to() }\n        var headPos = cursorCoords(this$1, range$$1.head, \"div\");\n        if (range$$1.goalColumn != null) { headPos.left = range$$1.goalColumn; }\n        goals.push(headPos.left);\n        var pos = findPosV(this$1, headPos, dir, unit);\n        if (unit == \"page\" && range$$1 == doc.sel.primary())\n          { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n        return pos\n      }, sel_move);\n      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n        { doc.sel.ranges[i].goalColumn = goals[i]; } }\n    }),\n\n    // Find the word at the given position (as returned by coordsChar).\n    findWordAt: function(pos) {\n      var doc = this.doc, line = getLine(doc, pos.line).text;\n      var start = pos.ch, end = pos.ch;\n      if (line) {\n        var helper = this.getHelper(pos, \"wordChars\");\n        if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n        var startChar = line.charAt(start);\n        var check = isWordChar(startChar, helper)\n          ? function (ch) { return isWordChar(ch, helper); }\n          : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n          : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n        while (start > 0 && check(line.charAt(start - 1))) { --start; }\n        while (end < line.length && check(line.charAt(end))) { ++end; }\n      }\n      return new Range(Pos(pos.line, start), Pos(pos.line, end))\n    },\n\n    toggleOverwrite: function(value) {\n      if (value != null && value == this.state.overwrite) { return }\n      if (this.state.overwrite = !this.state.overwrite)\n        { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n      else\n        { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n      signal(this, \"overwriteToggle\", this, this.state.overwrite);\n    },\n    hasFocus: function() { return this.display.input.getField() == activeElt() },\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n    scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n    getScrollInfo: function() {\n      var scroller = this.display.scroller;\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n    },\n\n    scrollIntoView: methodOp(function(range$$1, margin) {\n      if (range$$1 == null) {\n        range$$1 = {from: this.doc.sel.primary().head, to: null};\n        if (margin == null) { margin = this.options.cursorScrollMargin; }\n      } else if (typeof range$$1 == \"number\") {\n        range$$1 = {from: Pos(range$$1, 0), to: null};\n      } else if (range$$1.from == null) {\n        range$$1 = {from: range$$1, to: null};\n      }\n      if (!range$$1.to) { range$$1.to = range$$1.from; }\n      range$$1.margin = margin || 0;\n\n      if (range$$1.from.line != null) {\n        scrollToRange(this, range$$1);\n      } else {\n        scrollToCoordsRange(this, range$$1.from, range$$1.to, range$$1.margin);\n      }\n    }),\n\n    setSize: methodOp(function(width, height) {\n      var this$1 = this;\n\n      var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n      if (width != null) { this.display.wrapper.style.width = interpret(width); }\n      if (height != null) { this.display.wrapper.style.height = interpret(height); }\n      if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n      var lineNo$$1 = this.display.viewFrom;\n      this.doc.iter(lineNo$$1, this.display.viewTo, function (line) {\n        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo$$1, \"widget\"); break } } }\n        ++lineNo$$1;\n      });\n      this.curOp.forceUpdate = true;\n      signal(this, \"refresh\", this);\n    }),\n\n    operation: function(f){return runInOp(this, f)},\n    startOperation: function(){return startOperation(this)},\n    endOperation: function(){return endOperation(this)},\n\n    refresh: methodOp(function() {\n      var oldHeight = this.display.cachedTextHeight;\n      regChange(this);\n      this.curOp.forceUpdate = true;\n      clearCaches(this);\n      scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n      updateGutterSpace(this);\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n        { estimateLineHeights(this); }\n      signal(this, \"refresh\", this);\n    }),\n\n    swapDoc: methodOp(function(doc) {\n      var old = this.doc;\n      old.cm = null;\n      attachDoc(this, doc);\n      clearCaches(this);\n      this.display.input.reset();\n      scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n      this.curOp.forceScroll = true;\n      signalLater(this, \"swapDoc\", this, old);\n      return old\n    }),\n\n    getInputField: function(){return this.display.input.getField()},\n    getWrapperElement: function(){return this.display.wrapper},\n    getScrollerElement: function(){return this.display.scroller},\n    getGutterElement: function(){return this.display.gutters}\n  };\n  eventMixin(CodeMirror);\n\n  CodeMirror.registerHelper = function(type, name, value) {\n    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n    helpers[type][name] = value;\n  };\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n    CodeMirror.registerHelper(type, name, value);\n    helpers[type]._global.push({pred: predicate, val: value});\n  };\n};\n\n// Used for horizontal relative motion. Dir is -1 or 1 (left or\n// right), unit can be \"char\", \"column\" (like char, but doesn't\n// cross line boundaries), \"word\" (across next word), or \"group\" (to\n// the start of next group of word or non-word-non-whitespace\n// chars). The visually param controls whether, in right-to-left\n// text, direction 1 means to move towards the next index in the\n// string, or towards the character to the right of the current\n// position. The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosH(doc, pos, dir, unit, visually) {\n  var oldPos = pos;\n  var origDir = dir;\n  var lineObj = getLine(doc, pos.line);\n  function findNextLine() {\n    var l = pos.line + dir;\n    if (l < doc.first || l >= doc.first + doc.size) { return false }\n    pos = new Pos(l, pos.ch, pos.sticky);\n    return lineObj = getLine(doc, l)\n  }\n  function moveOnce(boundToLine) {\n    var next;\n    if (visually) {\n      next = moveVisually(doc.cm, lineObj, pos, dir);\n    } else {\n      next = moveLogically(lineObj, pos, dir);\n    }\n    if (next == null) {\n      if (!boundToLine && findNextLine())\n        { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir); }\n      else\n        { return false }\n    } else {\n      pos = next;\n    }\n    return true\n  }\n\n  if (unit == \"char\") {\n    moveOnce();\n  } else if (unit == \"column\") {\n    moveOnce(true);\n  } else if (unit == \"word\" || unit == \"group\") {\n    var sawType = null, group = unit == \"group\";\n    var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n    for (var first = true;; first = false) {\n      if (dir < 0 && !moveOnce(!first)) { break }\n      var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n      var type = isWordChar(cur, helper) ? \"w\"\n        : group && cur == \"\\n\" ? \"n\"\n        : !group || /\\s/.test(cur) ? null\n        : \"p\";\n      if (group && !first && !type) { type = \"s\"; }\n      if (sawType && sawType != type) {\n        if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n        break\n      }\n\n      if (type) { sawType = type; }\n      if (dir > 0 && !moveOnce(!first)) { break }\n    }\n  }\n  var result = skipAtomic(doc, pos, oldPos, origDir, true);\n  if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n  return result\n}\n\n// For relative vertical movement. Dir may be -1 or 1. Unit can be\n// \"page\" or \"line\". The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosV(cm, pos, dir, unit) {\n  var doc = cm.doc, x = pos.left, y;\n  if (unit == \"page\") {\n    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n  } else if (unit == \"line\") {\n    y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n  }\n  var target;\n  for (;;) {\n    target = coordsChar(cm, x, y);\n    if (!target.outside) { break }\n    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n    y += dir * 5;\n  }\n  return target\n}\n\n// CONTENTEDITABLE INPUT STYLE\n\nvar ContentEditableInput = function(cm) {\n  this.cm = cm;\n  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n  this.polling = new Delayed();\n  this.composing = null;\n  this.gracePeriod = false;\n  this.readDOMTimeout = null;\n};\n\nContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = input.cm;\n  var div = input.div = display.lineDiv;\n  disableBrowserMagic(div, cm.options.spellcheck);\n\n  on(div, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n    // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n    if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n  });\n\n  on(div, \"compositionstart\", function (e) {\n    this$1.composing = {data: e.data, done: false};\n  });\n  on(div, \"compositionupdate\", function (e) {\n    if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n  });\n  on(div, \"compositionend\", function (e) {\n    if (this$1.composing) {\n      if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n      this$1.composing.done = true;\n    }\n  });\n\n  on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n  on(div, \"input\", function () {\n    if (!this$1.composing) { this$1.readFromDOMSoon(); }\n  });\n\n  function onCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()});\n      if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm);\n      setLastCopied({lineWise: true, text: ranges.text});\n      if (e.type == \"cut\") {\n        cm.operation(function () {\n          cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n          cm.replaceSelection(\"\", null, \"cut\");\n        });\n      }\n    }\n    if (e.clipboardData) {\n      e.clipboardData.clearData();\n      var content = lastCopied.text.join(\"\\n\");\n      // iOS exposes the clipboard API, but seems to discard content inserted into it\n      e.clipboardData.setData(\"Text\", content);\n      if (e.clipboardData.getData(\"Text\") == content) {\n        e.preventDefault();\n        return\n      }\n    }\n    // Old-fashioned briefly-focus-a-textarea hack\n    var kludge = hiddenTextarea(), te = kludge.firstChild;\n    cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n    te.value = lastCopied.text.join(\"\\n\");\n    var hadFocus = document.activeElement;\n    selectInput(te);\n    setTimeout(function () {\n      cm.display.lineSpace.removeChild(kludge);\n      hadFocus.focus();\n      if (hadFocus == div) { input.showPrimarySelection(); }\n    }, 50);\n  }\n  on(div, \"copy\", onCopyCut);\n  on(div, \"cut\", onCopyCut);\n};\n\nContentEditableInput.prototype.prepareSelection = function () {\n  var result = prepareSelection(this.cm, false);\n  result.focus = this.cm.state.focused;\n  return result\n};\n\nContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n  if (!info || !this.cm.display.view.length) { return }\n  if (info.focus || takeFocus) { this.showPrimarySelection(); }\n  this.showMultipleSelections(info);\n};\n\nContentEditableInput.prototype.getSelection = function () {\n  return this.cm.display.wrapper.ownerDocument.getSelection()\n};\n\nContentEditableInput.prototype.showPrimarySelection = function () {\n  var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n  var from = prim.from(), to = prim.to();\n\n  if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n    sel.removeAllRanges();\n    return\n  }\n\n  var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n  var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n  if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n      cmp(minPos(curAnchor, curFocus), from) == 0 &&\n      cmp(maxPos(curAnchor, curFocus), to) == 0)\n    { return }\n\n  var view = cm.display.view;\n  var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n      {node: view[0].measure.map[2], offset: 0};\n  var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n  if (!end) {\n    var measure = view[view.length - 1].measure;\n    var map$$1 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n    end = {node: map$$1[map$$1.length - 1], offset: map$$1[map$$1.length - 2] - map$$1[map$$1.length - 3]};\n  }\n\n  if (!start || !end) {\n    sel.removeAllRanges();\n    return\n  }\n\n  var old = sel.rangeCount && sel.getRangeAt(0), rng;\n  try { rng = range(start.node, start.offset, end.offset, end.node); }\n  catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n  if (rng) {\n    if (!gecko && cm.state.focused) {\n      sel.collapse(start.node, start.offset);\n      if (!rng.collapsed) {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n    } else {\n      sel.removeAllRanges();\n      sel.addRange(rng);\n    }\n    if (old && sel.anchorNode == null) { sel.addRange(old); }\n    else if (gecko) { this.startGracePeriod(); }\n  }\n  this.rememberSelection();\n};\n\nContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n\n  clearTimeout(this.gracePeriod);\n  this.gracePeriod = setTimeout(function () {\n    this$1.gracePeriod = false;\n    if (this$1.selectionChanged())\n      { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n  }, 20);\n};\n\nContentEditableInput.prototype.showMultipleSelections = function (info) {\n  removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n  removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n};\n\nContentEditableInput.prototype.rememberSelection = function () {\n  var sel = this.getSelection();\n  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n  this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n};\n\nContentEditableInput.prototype.selectionInEditor = function () {\n  var sel = this.getSelection();\n  if (!sel.rangeCount) { return false }\n  var node = sel.getRangeAt(0).commonAncestorContainer;\n  return contains(this.div, node)\n};\n\nContentEditableInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\") {\n    if (!this.selectionInEditor())\n      { this.showSelection(this.prepareSelection(), true); }\n    this.div.focus();\n  }\n};\nContentEditableInput.prototype.blur = function () { this.div.blur(); };\nContentEditableInput.prototype.getField = function () { return this.div };\n\nContentEditableInput.prototype.supportsTouch = function () { return true };\n\nContentEditableInput.prototype.receivedFocus = function () {\n  var input = this;\n  if (this.selectionInEditor())\n    { this.pollSelection(); }\n  else\n    { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n  function poll() {\n    if (input.cm.state.focused) {\n      input.pollSelection();\n      input.polling.set(input.cm.options.pollInterval, poll);\n    }\n  }\n  this.polling.set(this.cm.options.pollInterval, poll);\n};\n\nContentEditableInput.prototype.selectionChanged = function () {\n  var sel = this.getSelection();\n  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n    sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n};\n\nContentEditableInput.prototype.pollSelection = function () {\n  if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n  var sel = this.getSelection(), cm = this.cm;\n  // On Android Chrome (version 56, at least), backspacing into an\n  // uneditable block element will put the cursor in that element,\n  // and then, because it's not editable, hide the virtual keyboard.\n  // Because Android doesn't allow us to actually detect backspace\n  // presses in a sane way, this code checks for when that happens\n  // and simulates a backspace press in this case.\n  if (android && chrome && this.cm.options.gutters.length && isInGutter(sel.anchorNode)) {\n    this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n    this.blur();\n    this.focus();\n    return\n  }\n  if (this.composing) { return }\n  this.rememberSelection();\n  var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n  var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n  if (anchor && head) { runInOp(cm, function () {\n    setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n    if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n  }); }\n};\n\nContentEditableInput.prototype.pollContent = function () {\n  if (this.readDOMTimeout != null) {\n    clearTimeout(this.readDOMTimeout);\n    this.readDOMTimeout = null;\n  }\n\n  var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n  var from = sel.from(), to = sel.to();\n  if (from.ch == 0 && from.line > cm.firstLine())\n    { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n  if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n    { to = Pos(to.line + 1, 0); }\n  if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n  var fromIndex, fromLine, fromNode;\n  if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n    fromLine = lineNo(display.view[0].line);\n    fromNode = display.view[0].node;\n  } else {\n    fromLine = lineNo(display.view[fromIndex].line);\n    fromNode = display.view[fromIndex - 1].node.nextSibling;\n  }\n  var toIndex = findViewIndex(cm, to.line);\n  var toLine, toNode;\n  if (toIndex == display.view.length - 1) {\n    toLine = display.viewTo - 1;\n    toNode = display.lineDiv.lastChild;\n  } else {\n    toLine = lineNo(display.view[toIndex + 1].line) - 1;\n    toNode = display.view[toIndex + 1].node.previousSibling;\n  }\n\n  if (!fromNode) { return false }\n  var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n  var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n  while (newText.length > 1 && oldText.length > 1) {\n    if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n    else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n    else { break }\n  }\n\n  var cutFront = 0, cutEnd = 0;\n  var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n  while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n    { ++cutFront; }\n  var newBot = lst(newText), oldBot = lst(oldText);\n  var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                           oldBot.length - (oldText.length == 1 ? cutFront : 0));\n  while (cutEnd < maxCutEnd &&\n         newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n    { ++cutEnd; }\n  // Try to move start of change to start of selection if ambiguous\n  if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n    while (cutFront && cutFront > from.ch &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n      cutFront--;\n      cutEnd++;\n    }\n  }\n\n  newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n  newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n  var chFrom = Pos(fromLine, cutFront);\n  var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n  if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n    replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n    return true\n  }\n};\n\nContentEditableInput.prototype.ensurePolled = function () {\n  this.forceCompositionEnd();\n};\nContentEditableInput.prototype.reset = function () {\n  this.forceCompositionEnd();\n};\nContentEditableInput.prototype.forceCompositionEnd = function () {\n  if (!this.composing) { return }\n  clearTimeout(this.readDOMTimeout);\n  this.composing = null;\n  this.updateFromDOM();\n  this.div.blur();\n  this.div.focus();\n};\nContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n  if (this.readDOMTimeout != null) { return }\n  this.readDOMTimeout = setTimeout(function () {\n    this$1.readDOMTimeout = null;\n    if (this$1.composing) {\n      if (this$1.composing.done) { this$1.composing = null; }\n      else { return }\n    }\n    this$1.updateFromDOM();\n  }, 80);\n};\n\nContentEditableInput.prototype.updateFromDOM = function () {\n    var this$1 = this;\n\n  if (this.cm.isReadOnly() || !this.pollContent())\n    { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n};\n\nContentEditableInput.prototype.setUneditable = function (node) {\n  node.contentEditable = \"false\";\n};\n\nContentEditableInput.prototype.onKeyPress = function (e) {\n  if (e.charCode == 0 || this.composing) { return }\n  e.preventDefault();\n  if (!this.cm.isReadOnly())\n    { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n};\n\nContentEditableInput.prototype.readOnlyChanged = function (val) {\n  this.div.contentEditable = String(val != \"nocursor\");\n};\n\nContentEditableInput.prototype.onContextMenu = function () {};\nContentEditableInput.prototype.resetPosition = function () {};\n\nContentEditableInput.prototype.needsContentAttribute = true;\n\nfunction posToDOM(cm, pos) {\n  var view = findViewForLine(cm, pos.line);\n  if (!view || view.hidden) { return null }\n  var line = getLine(cm.doc, pos.line);\n  var info = mapFromLineView(view, line, pos.line);\n\n  var order = getOrder(line, cm.doc.direction), side = \"left\";\n  if (order) {\n    var partPos = getBidiPartAt(order, pos.ch);\n    side = partPos % 2 ? \"right\" : \"left\";\n  }\n  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n  result.offset = result.collapse == \"right\" ? result.end : result.start;\n  return result\n}\n\nfunction isInGutter(node) {\n  for (var scan = node; scan; scan = scan.parentNode)\n    { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n  return false\n}\n\nfunction badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\nfunction domTextBetween(cm, from, to, fromLine, toLine) {\n  var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n  function close() {\n    if (closing) {\n      text += lineSep;\n      if (extraLinebreak) { text += lineSep; }\n      closing = extraLinebreak = false;\n    }\n  }\n  function addText(str) {\n    if (str) {\n      close();\n      text += str;\n    }\n  }\n  function walk(node) {\n    if (node.nodeType == 1) {\n      var cmText = node.getAttribute(\"cm-text\");\n      if (cmText) {\n        addText(cmText);\n        return\n      }\n      var markerID = node.getAttribute(\"cm-marker\"), range$$1;\n      if (markerID) {\n        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n        if (found.length && (range$$1 = found[0].find(0)))\n          { addText(getBetween(cm.doc, range$$1.from, range$$1.to).join(lineSep)); }\n        return\n      }\n      if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n      var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n      if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n      if (isBlock) { close(); }\n      for (var i = 0; i < node.childNodes.length; i++)\n        { walk(node.childNodes[i]); }\n\n      if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n      if (isBlock) { closing = true; }\n    } else if (node.nodeType == 3) {\n      addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n    }\n  }\n  for (;;) {\n    walk(from);\n    if (from == to) { break }\n    from = from.nextSibling;\n    extraLinebreak = false;\n  }\n  return text\n}\n\nfunction domToPos(cm, node, offset) {\n  var lineNode;\n  if (node == cm.display.lineDiv) {\n    lineNode = cm.display.lineDiv.childNodes[offset];\n    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n    node = null; offset = 0;\n  } else {\n    for (lineNode = node;; lineNode = lineNode.parentNode) {\n      if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n    }\n  }\n  for (var i = 0; i < cm.display.view.length; i++) {\n    var lineView = cm.display.view[i];\n    if (lineView.node == lineNode)\n      { return locateNodeInLineView(lineView, node, offset) }\n  }\n}\n\nfunction locateNodeInLineView(lineView, node, offset) {\n  var wrapper = lineView.text.firstChild, bad = false;\n  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n  if (node == wrapper) {\n    bad = true;\n    node = wrapper.childNodes[offset];\n    offset = 0;\n    if (!node) {\n      var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n      return badPos(Pos(lineNo(line), line.text.length), bad)\n    }\n  }\n\n  var textNode = node.nodeType == 3 ? node : null, topNode = node;\n  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n    textNode = node.firstChild;\n    if (offset) { offset = textNode.nodeValue.length; }\n  }\n  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n  var measure = lineView.measure, maps = measure.maps;\n\n  function find(textNode, topNode, offset) {\n    for (var i = -1; i < (maps ? maps.length : 0); i++) {\n      var map$$1 = i < 0 ? measure.map : maps[i];\n      for (var j = 0; j < map$$1.length; j += 3) {\n        var curNode = map$$1[j + 2];\n        if (curNode == textNode || curNode == topNode) {\n          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n          var ch = map$$1[j] + offset;\n          if (offset < 0 || curNode != textNode) { ch = map$$1[j + (offset ? 1 : 0)]; }\n          return Pos(line, ch)\n        }\n      }\n    }\n  }\n  var found = find(textNode, topNode, offset);\n  if (found) { return badPos(found, bad) }\n\n  // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n    found = find(after, after.firstChild, 0);\n    if (found)\n      { return badPos(Pos(found.line, found.ch - dist), bad) }\n    else\n      { dist += after.textContent.length; }\n  }\n  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n    found = find(before, before.firstChild, -1);\n    if (found)\n      { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n    else\n      { dist$1 += before.textContent.length; }\n  }\n}\n\n// TEXTAREA INPUT STYLE\n\nvar TextareaInput = function(cm) {\n  this.cm = cm;\n  // See input.poll and input.reset\n  this.prevInput = \"\";\n\n  // Flag that indicates whether we expect input to appear real soon\n  // now (after some event like 'keypress' or 'input') and are\n  // polling intensively.\n  this.pollingFast = false;\n  // Self-resetting timeout for the poller\n  this.polling = new Delayed();\n  // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n  this.hasSelection = false;\n  this.composing = null;\n};\n\nTextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = this.cm;\n  this.createField(display);\n  var te = this.textarea;\n\n  display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n  // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n  if (ios) { te.style.width = \"0px\"; }\n\n  on(te, \"input\", function () {\n    if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n    input.poll();\n  });\n\n  on(te, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n    cm.state.pasteIncoming = true;\n    input.fastPoll();\n  });\n\n  function prepareCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()});\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm);\n      setLastCopied({lineWise: true, text: ranges.text});\n      if (e.type == \"cut\") {\n        cm.setSelections(ranges.ranges, null, sel_dontScroll);\n      } else {\n        input.prevInput = \"\";\n        te.value = ranges.text.join(\"\\n\");\n        selectInput(te);\n      }\n    }\n    if (e.type == \"cut\") { cm.state.cutIncoming = true; }\n  }\n  on(te, \"cut\", prepareCopyCut);\n  on(te, \"copy\", prepareCopyCut);\n\n  on(display.scroller, \"paste\", function (e) {\n    if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n    cm.state.pasteIncoming = true;\n    input.focus();\n  });\n\n  // Prevent normal selection in the editor (we handle our own)\n  on(display.lineSpace, \"selectstart\", function (e) {\n    if (!eventInWidget(display, e)) { e_preventDefault(e); }\n  });\n\n  on(te, \"compositionstart\", function () {\n    var start = cm.getCursor(\"from\");\n    if (input.composing) { input.composing.range.clear(); }\n    input.composing = {\n      start: start,\n      range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n    };\n  });\n  on(te, \"compositionend\", function () {\n    if (input.composing) {\n      input.poll();\n      input.composing.range.clear();\n      input.composing = null;\n    }\n  });\n};\n\nTextareaInput.prototype.createField = function (_display) {\n  // Wraps and hides input textarea\n  this.wrapper = hiddenTextarea();\n  // The semihidden textarea that is focused when the editor is\n  // focused, and receives input.\n  this.textarea = this.wrapper.firstChild;\n};\n\nTextareaInput.prototype.prepareSelection = function () {\n  // Redraw the selection and/or cursor\n  var cm = this.cm, display = cm.display, doc = cm.doc;\n  var result = prepareSelection(cm);\n\n  // Move the hidden textarea near the cursor to prevent scrolling artifacts\n  if (cm.options.moveInputWithCursor) {\n    var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n    var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n    result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                        headPos.top + lineOff.top - wrapOff.top));\n    result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                         headPos.left + lineOff.left - wrapOff.left));\n  }\n\n  return result\n};\n\nTextareaInput.prototype.showSelection = function (drawn) {\n  var cm = this.cm, display = cm.display;\n  removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n  removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n  if (drawn.teTop != null) {\n    this.wrapper.style.top = drawn.teTop + \"px\";\n    this.wrapper.style.left = drawn.teLeft + \"px\";\n  }\n};\n\n// Reset the input to correspond to the selection (or to be empty,\n// when not typing and nothing is selected)\nTextareaInput.prototype.reset = function (typing) {\n  if (this.contextMenuPending || this.composing) { return }\n  var cm = this.cm;\n  if (cm.somethingSelected()) {\n    this.prevInput = \"\";\n    var content = cm.getSelection();\n    this.textarea.value = content;\n    if (cm.state.focused) { selectInput(this.textarea); }\n    if (ie && ie_version >= 9) { this.hasSelection = content; }\n  } else if (!typing) {\n    this.prevInput = this.textarea.value = \"\";\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n  }\n};\n\nTextareaInput.prototype.getField = function () { return this.textarea };\n\nTextareaInput.prototype.supportsTouch = function () { return false };\n\nTextareaInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n    try { this.textarea.focus(); }\n    catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n  }\n};\n\nTextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\nTextareaInput.prototype.resetPosition = function () {\n  this.wrapper.style.top = this.wrapper.style.left = 0;\n};\n\nTextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n// Poll for input changes, using the normal rate of polling. This\n// runs as long as the editor is focused.\nTextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n  if (this.pollingFast) { return }\n  this.polling.set(this.cm.options.pollInterval, function () {\n    this$1.poll();\n    if (this$1.cm.state.focused) { this$1.slowPoll(); }\n  });\n};\n\n// When an event has just come in that is likely to add or change\n// something in the input textarea, we poll faster, to ensure that\n// the change appears on the screen quickly.\nTextareaInput.prototype.fastPoll = function () {\n  var missed = false, input = this;\n  input.pollingFast = true;\n  function p() {\n    var changed = input.poll();\n    if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n    else {input.pollingFast = false; input.slowPoll();}\n  }\n  input.polling.set(20, p);\n};\n\n// Read input from the textarea, and update the document to match.\n// When something is selected, it is present in the textarea, and\n// selected (unless it is huge, in which case a placeholder is\n// used). When nothing is selected, the cursor sits after previously\n// seen text (can be empty), which is stored in prevInput (we must\n// not reset the textarea when typing, because that breaks IME).\nTextareaInput.prototype.poll = function () {\n    var this$1 = this;\n\n  var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n  // Since this is called a *lot*, try to bail out as cheaply as\n  // possible when it is clear that nothing happened. hasSelection\n  // will be the case when there is a lot of text in the textarea,\n  // in which case reading its value would be expensive.\n  if (this.contextMenuPending || !cm.state.focused ||\n      (hasSelection(input) && !prevInput && !this.composing) ||\n      cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n    { return false }\n\n  var text = input.value;\n  // If nothing changed, bail.\n  if (text == prevInput && !cm.somethingSelected()) { return false }\n  // Work around nonsensical selection resetting in IE9/10, and\n  // inexplicable appearance of private area unicode characters on\n  // some key combos in Mac (#2689).\n  if (ie && ie_version >= 9 && this.hasSelection === text ||\n      mac && /[\\uf700-\\uf7ff]/.test(text)) {\n    cm.display.input.reset();\n    return false\n  }\n\n  if (cm.doc.sel == cm.display.selForContextMenu) {\n    var first = text.charCodeAt(0);\n    if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n    if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n  }\n  // Find the part of the input that is actually new\n  var same = 0, l = Math.min(prevInput.length, text.length);\n  while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n  runInOp(cm, function () {\n    applyTextInput(cm, text.slice(same), prevInput.length - same,\n                   null, this$1.composing ? \"*compose\" : null);\n\n    // Don't leave long text in the textarea, since it makes further polling slow\n    if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n    else { this$1.prevInput = text; }\n\n    if (this$1.composing) {\n      this$1.composing.range.clear();\n      this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                         {className: \"CodeMirror-composing\"});\n    }\n  });\n  return true\n};\n\nTextareaInput.prototype.ensurePolled = function () {\n  if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n};\n\nTextareaInput.prototype.onKeyPress = function () {\n  if (ie && ie_version >= 9) { this.hasSelection = null; }\n  this.fastPoll();\n};\n\nTextareaInput.prototype.onContextMenu = function (e) {\n  var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n  var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n  if (!pos || presto) { return } // Opera is difficult.\n\n  // Reset the current text selection only if the click is done outside of the selection\n  // and 'resetSelectionOnContextMenu' option is true.\n  var reset = cm.options.resetSelectionOnContextMenu;\n  if (reset && cm.doc.sel.contains(pos) == -1)\n    { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n  var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n  input.wrapper.style.cssText = \"position: absolute\";\n  var wrapperBox = input.wrapper.getBoundingClientRect();\n  te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n  var oldScrollY;\n  if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n  display.input.focus();\n  if (webkit) { window.scrollTo(null, oldScrollY); }\n  display.input.reset();\n  // Adds \"Select all\" to context menu in FF\n  if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n  input.contextMenuPending = true;\n  display.selForContextMenu = cm.doc.sel;\n  clearTimeout(display.detectingSelectAll);\n\n  // Select-all will be greyed out if there's nothing to select, so\n  // this adds a zero-width space so that we can later check whether\n  // it got selected.\n  function prepareSelectAllHack() {\n    if (te.selectionStart != null) {\n      var selected = cm.somethingSelected();\n      var extval = \"\\u200b\" + (selected ? te.value : \"\");\n      te.value = \"\\u21da\"; // Used to catch context-menu undo\n      te.value = extval;\n      input.prevInput = selected ? \"\" : \"\\u200b\";\n      te.selectionStart = 1; te.selectionEnd = extval.length;\n      // Re-set this, in case some other handler touched the\n      // selection in the meantime.\n      display.selForContextMenu = cm.doc.sel;\n    }\n  }\n  function rehide() {\n    input.contextMenuPending = false;\n    input.wrapper.style.cssText = oldWrapperCSS;\n    te.style.cssText = oldCSS;\n    if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n    // Try to detect the user choosing select-all\n    if (te.selectionStart != null) {\n      if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n      var i = 0, poll = function () {\n        if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n            te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n          operation(cm, selectAll)(cm);\n        } else if (i++ < 10) {\n          display.detectingSelectAll = setTimeout(poll, 500);\n        } else {\n          display.selForContextMenu = null;\n          display.input.reset();\n        }\n      };\n      display.detectingSelectAll = setTimeout(poll, 200);\n    }\n  }\n\n  if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n  if (captureRightClick) {\n    e_stop(e);\n    var mouseup = function () {\n      off(window, \"mouseup\", mouseup);\n      setTimeout(rehide, 20);\n    };\n    on(window, \"mouseup\", mouseup);\n  } else {\n    setTimeout(rehide, 50);\n  }\n};\n\nTextareaInput.prototype.readOnlyChanged = function (val) {\n  if (!val) { this.reset(); }\n  this.textarea.disabled = val == \"nocursor\";\n};\n\nTextareaInput.prototype.setUneditable = function () {};\n\nTextareaInput.prototype.needsContentAttribute = false;\n\nfunction fromTextArea(textarea, options) {\n  options = options ? copyObj(options) : {};\n  options.value = textarea.value;\n  if (!options.tabindex && textarea.tabIndex)\n    { options.tabindex = textarea.tabIndex; }\n  if (!options.placeholder && textarea.placeholder)\n    { options.placeholder = textarea.placeholder; }\n  // Set autofocus to true if this textarea is focused, or if it has\n  // autofocus and no other element is focused.\n  if (options.autofocus == null) {\n    var hasFocus = activeElt();\n    options.autofocus = hasFocus == textarea ||\n      textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n  }\n\n  function save() {textarea.value = cm.getValue();}\n\n  var realSubmit;\n  if (textarea.form) {\n    on(textarea.form, \"submit\", save);\n    // Deplorable hack to make the submit method do the right thing.\n    if (!options.leaveSubmitMethodAlone) {\n      var form = textarea.form;\n      realSubmit = form.submit;\n      try {\n        var wrappedSubmit = form.submit = function () {\n          save();\n          form.submit = realSubmit;\n          form.submit();\n          form.submit = wrappedSubmit;\n        };\n      } catch(e) {}\n    }\n  }\n\n  options.finishInit = function (cm) {\n    cm.save = save;\n    cm.getTextArea = function () { return textarea; };\n    cm.toTextArea = function () {\n      cm.toTextArea = isNaN; // Prevent this from being ran twice\n      save();\n      textarea.parentNode.removeChild(cm.getWrapperElement());\n      textarea.style.display = \"\";\n      if (textarea.form) {\n        off(textarea.form, \"submit\", save);\n        if (typeof textarea.form.submit == \"function\")\n          { textarea.form.submit = realSubmit; }\n      }\n    };\n  };\n\n  textarea.style.display = \"none\";\n  var cm = CodeMirror$1(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n    options);\n  return cm\n}\n\nfunction addLegacyProps(CodeMirror) {\n  CodeMirror.off = off;\n  CodeMirror.on = on;\n  CodeMirror.wheelEventPixels = wheelEventPixels;\n  CodeMirror.Doc = Doc;\n  CodeMirror.splitLines = splitLinesAuto;\n  CodeMirror.countColumn = countColumn;\n  CodeMirror.findColumn = findColumn;\n  CodeMirror.isWordChar = isWordCharBasic;\n  CodeMirror.Pass = Pass;\n  CodeMirror.signal = signal;\n  CodeMirror.Line = Line;\n  CodeMirror.changeEnd = changeEnd;\n  CodeMirror.scrollbarModel = scrollbarModel;\n  CodeMirror.Pos = Pos;\n  CodeMirror.cmpPos = cmp;\n  CodeMirror.modes = modes;\n  CodeMirror.mimeModes = mimeModes;\n  CodeMirror.resolveMode = resolveMode;\n  CodeMirror.getMode = getMode;\n  CodeMirror.modeExtensions = modeExtensions;\n  CodeMirror.extendMode = extendMode;\n  CodeMirror.copyState = copyState;\n  CodeMirror.startState = startState;\n  CodeMirror.innerMode = innerMode;\n  CodeMirror.commands = commands;\n  CodeMirror.keyMap = keyMap;\n  CodeMirror.keyName = keyName;\n  CodeMirror.isModifierKey = isModifierKey;\n  CodeMirror.lookupKey = lookupKey;\n  CodeMirror.normalizeKeyMap = normalizeKeyMap;\n  CodeMirror.StringStream = StringStream;\n  CodeMirror.SharedTextMarker = SharedTextMarker;\n  CodeMirror.TextMarker = TextMarker;\n  CodeMirror.LineWidget = LineWidget;\n  CodeMirror.e_preventDefault = e_preventDefault;\n  CodeMirror.e_stopPropagation = e_stopPropagation;\n  CodeMirror.e_stop = e_stop;\n  CodeMirror.addClass = addClass;\n  CodeMirror.contains = contains;\n  CodeMirror.rmClass = rmClass;\n  CodeMirror.keyNames = keyNames;\n}\n\n// EDITOR CONSTRUCTOR\n\ndefineOptions(CodeMirror$1);\n\naddEditorMethods(CodeMirror$1);\n\n// Set up methods on CodeMirror's prototype to redirect to the editor's document.\nvar dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\nfor (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n  { CodeMirror$1.prototype[prop] = (function(method) {\n    return function() {return method.apply(this.doc, arguments)}\n  })(Doc.prototype[prop]); } }\n\neventMixin(Doc);\n\n// INPUT HANDLING\n\nCodeMirror$1.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n// MODE DEFINITION AND QUERYING\n\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nCodeMirror$1.defineMode = function(name/*, mode, …*/) {\n  if (!CodeMirror$1.defaults.mode && name != \"null\") { CodeMirror$1.defaults.mode = name; }\n  defineMode.apply(this, arguments);\n};\n\nCodeMirror$1.defineMIME = defineMIME;\n\n// Minimal default mode.\nCodeMirror$1.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\nCodeMirror$1.defineMIME(\"text/plain\", \"null\");\n\n// EXTENSIONS\n\nCodeMirror$1.defineExtension = function (name, func) {\n  CodeMirror$1.prototype[name] = func;\n};\nCodeMirror$1.defineDocExtension = function (name, func) {\n  Doc.prototype[name] = func;\n};\n\nCodeMirror$1.fromTextArea = fromTextArea;\n\naddLegacyProps(CodeMirror$1);\n\nCodeMirror$1.version = \"5.38.0\";\n\nreturn CodeMirror$1;\n\n})));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]+/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if (((ch == \"u\" || ch == \"U\") && stream.match(/rl(-prefix)?\\(/i)) ||\n               ((ch == \"d\" || ch == \"D\") && stream.match(\"omain(\", true, true)) ||\n               ((ch == \"r\" || ch == \"R\") && stream.match(\"egexp(\", true, true))) {\n      stream.backUp(1);\n      state.tokenize = tokenParenthesized;\n      return ret(\"property\", \"word\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = \"string-2\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = \"string-2\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backface-visibility\",\n    \"background\", \"background-attachment\", \"background-blend-mode\", \"background-clip\",\n    \"background-color\", \"background-image\", \"background-origin\", \"background-position\",\n    \"background-repeat\", \"background-size\", \"baseline-shift\", \"binding\",\n    \"bleed\", \"bookmark-label\", \"bookmark-level\", \"bookmark-state\",\n    \"bookmark-target\", \"border\", \"border-bottom\", \"border-bottom-color\",\n    \"border-bottom-left-radius\", \"border-bottom-right-radius\",\n    \"border-bottom-style\", \"border-bottom-width\", \"border-collapse\",\n    \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\",\n    \"border-left-style\", \"border-left-width\", \"border-radius\", \"border-right\",\n    \"border-right-color\", \"border-right-style\", \"border-right-width\",\n    \"border-spacing\", \"border-style\", \"border-top\", \"border-top-color\",\n    \"border-top-left-radius\", \"border-top-right-radius\", \"border-top-style\",\n    \"border-top-width\", \"border-width\", \"bottom\", \"box-decoration-break\",\n    \"box-shadow\", \"box-sizing\", \"break-after\", \"break-before\", \"break-inside\",\n    \"caption-side\", \"caret-color\", \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\",\n    \"column-fill\", \"column-gap\", \"column-rule\", \"column-rule-color\",\n    \"column-rule-style\", \"column-rule-width\", \"column-span\", \"column-width\",\n    \"columns\", \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\",\n    \"cue-after\", \"cue-before\", \"cursor\", \"direction\", \"display\",\n    \"dominant-baseline\", \"drop-initial-after-adjust\",\n    \"drop-initial-after-align\", \"drop-initial-before-adjust\",\n    \"drop-initial-before-align\", \"drop-initial-size\", \"drop-initial-value\",\n    \"elevation\", \"empty-cells\", \"fit\", \"fit-position\", \"flex\", \"flex-basis\",\n    \"flex-direction\", \"flex-flow\", \"flex-grow\", \"flex-shrink\", \"flex-wrap\",\n    \"float\", \"float-offset\", \"flow-from\", \"flow-into\", \"font\", \"font-feature-settings\",\n    \"font-family\", \"font-kerning\", \"font-language-override\", \"font-size\", \"font-size-adjust\",\n    \"font-stretch\", \"font-style\", \"font-synthesis\", \"font-variant\",\n    \"font-variant-alternates\", \"font-variant-caps\", \"font-variant-east-asian\",\n    \"font-variant-ligatures\", \"font-variant-numeric\", \"font-variant-position\",\n    \"font-weight\", \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\",\n    \"grid-auto-rows\", \"grid-column\", \"grid-column-end\", \"grid-column-gap\",\n    \"grid-column-start\", \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\",\n    \"grid-row-start\", \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\",\n    \"icon\", \"image-orientation\", \"image-rendering\", \"image-resolution\",\n    \"inline-box-align\", \"justify-content\", \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\",\n    \"line-break\", \"line-height\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\",\n    \"marks\", \"marquee-direction\", \"marquee-loop\",\n    \"marquee-play-count\", \"marquee-speed\", \"marquee-style\", \"max-height\",\n    \"max-width\", \"min-height\", \"min-width\", \"move-to\", \"nav-down\", \"nav-index\",\n    \"nav-left\", \"nav-right\", \"nav-up\", \"object-fit\", \"object-position\",\n    \"opacity\", \"order\", \"orphans\", \"outline\",\n    \"outline-color\", \"outline-offset\", \"outline-style\", \"outline-width\",\n    \"overflow\", \"overflow-style\", \"overflow-wrap\", \"overflow-x\", \"overflow-y\",\n    \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\",\n    \"page\", \"page-break-after\", \"page-break-before\", \"page-break-inside\",\n    \"page-policy\", \"pause\", \"pause-after\", \"pause-before\", \"perspective\",\n    \"perspective-origin\", \"pitch\", \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\", \"position\",\n    \"presentation-level\", \"punctuation-trim\", \"quotes\", \"region-break-after\",\n    \"region-break-before\", \"region-break-inside\", \"region-fragment\",\n    \"rendering-intent\", \"resize\", \"rest\", \"rest-after\", \"rest-before\", \"richness\",\n    \"right\", \"rotation\", \"rotation-point\", \"ruby-align\", \"ruby-overhang\",\n    \"ruby-position\", \"ruby-span\", \"shape-image-threshold\", \"shape-inside\", \"shape-margin\",\n    \"shape-outside\", \"size\", \"speak\", \"speak-as\", \"speak-header\",\n    \"speak-numeral\", \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\",\n    \"tab-size\", \"table-layout\", \"target\", \"target-name\", \"target-new\",\n    \"target-position\", \"text-align\", \"text-align-last\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-style\", \"text-emphasis\", \"text-emphasis-color\",\n    \"text-emphasis-position\", \"text-emphasis-style\", \"text-height\",\n    \"text-indent\", \"text-justify\", \"text-outline\", \"text-overflow\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\", \"text-underline-position\",\n    \"text-wrap\", \"top\", \"transform\", \"transform-origin\", \"transform-style\",\n    \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"unicode-bidi\",\n    \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\", \"voice-duration\",\n    \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\", \"voice-stress\",\n    \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\", \"will-change\", \"word-break\",\n    \"word-spacing\", \"word-wrap\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\"\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-3d-light-color\", \"scrollbar-track-color\", \"shape-inside\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\", \"searchfield-results-button\",\n    \"searchfield-results-decoration\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-family\", \"src\", \"unicode-range\", \"font-variant\", \"font-feature-settings\",\n    \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"sub\",\n    \"subpixel-antialiased\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/\\s*\\{/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../javascript/javascript\"), require(\"../css/css\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../javascript/javascript\", \"../css/css\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var defaultTags = {\n    script: [\n      [\"lang\", /(javascript|babel)/i, \"javascript\"],\n      [\"type\", /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, \"javascript\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"javascript\"]\n    ],\n    style:  [\n      [\"lang\", /^css$/i, \"css\"],\n      [\"type\", /^(text\\/)?(x-)?(stylesheet|css)$/i, \"css\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"css\"]\n    ]\n  };\n\n  function maybeBackup(stream, pat, style) {\n    var cur = stream.current(), close = cur.search(pat);\n    if (close > -1) {\n      stream.backUp(cur.length - close);\n    } else if (cur.match(/<\\/?$/)) {\n      stream.backUp(cur.length);\n      if (!stream.match(pat, false)) stream.match(cur);\n    }\n    return style;\n  }\n\n  var attrRegexpCache = {};\n  function getAttrRegexp(attr) {\n    var regexp = attrRegexpCache[attr];\n    if (regexp) return regexp;\n    return attrRegexpCache[attr] = new RegExp(\"\\\\s+\" + attr + \"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\");\n  }\n\n  function getAttrValue(text, attr) {\n    var match = text.match(getAttrRegexp(attr))\n    return match ? /^\\s*(.*?)\\s*$/.exec(match[2])[1] : \"\"\n  }\n\n  function getTagRegexp(tagName, anchored) {\n    return new RegExp((anchored ? \"^\" : \"\") + \"<\\/\\s*\" + tagName + \"\\s*>\", \"i\");\n  }\n\n  function addTags(from, to) {\n    for (var tag in from) {\n      var dest = to[tag] || (to[tag] = []);\n      var source = from[tag];\n      for (var i = source.length - 1; i >= 0; i--)\n        dest.unshift(source[i])\n    }\n  }\n\n  function findMatchingMode(tagInfo, tagText) {\n    for (var i = 0; i < tagInfo.length; i++) {\n      var spec = tagInfo[i];\n      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];\n    }\n  }\n\n  CodeMirror.defineMode(\"htmlmixed\", function (config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, {\n      name: \"xml\",\n      htmlMode: true,\n      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,\n      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag\n    });\n\n    var tags = {};\n    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;\n    addTags(defaultTags, tags);\n    if (configTags) addTags(configTags, tags);\n    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)\n      tags.script.unshift([\"type\", configScript[i].matches, configScript[i].mode])\n\n    function html(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState), tag = /\\btag\\b/.test(style), tagName\n      if (tag && !/[<>\\s\\/]/.test(stream.current()) &&\n          (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) &&\n          tags.hasOwnProperty(tagName)) {\n        state.inTag = tagName + \" \"\n      } else if (state.inTag && tag && />$/.test(stream.current())) {\n        var inTag = /^([\\S]+) (.*)/.exec(state.inTag)\n        state.inTag = null\n        var modeSpec = stream.current() == \">\" && findMatchingMode(tags[inTag[1]], inTag[2])\n        var mode = CodeMirror.getMode(config, modeSpec)\n        var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);\n        state.token = function (stream, state) {\n          if (stream.match(endTagA, false)) {\n            state.token = html;\n            state.localState = state.localMode = null;\n            return null;\n          }\n          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));\n        };\n        state.localMode = mode;\n        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, \"\"));\n      } else if (state.inTag) {\n        state.inTag += stream.current()\n        if (stream.eol()) state.inTag += \" \"\n      }\n      return style;\n    };\n\n    return {\n      startState: function () {\n        var state = CodeMirror.startState(htmlMode);\n        return {token: html, inTag: null, localMode: null, localState: null, htmlState: state};\n      },\n\n      copyState: function (state) {\n        var local;\n        if (state.localState) {\n          local = CodeMirror.copyState(state.localMode, state.localState);\n        }\n        return {token: state.token, inTag: state.inTag,\n                localMode: state.localMode, localState: local,\n                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\n      },\n\n      token: function (stream, state) {\n        return state.token(stream, state);\n      },\n\n      indent: function (state, textAfter, line) {\n        if (!state.localMode || /^\\s*<\\//.test(textAfter))\n          return htmlMode.indent(state.htmlState, textAfter);\n        else if (state.localMode.indent)\n          return state.localMode.indent(state.localState, textAfter, line);\n        else\n          return CodeMirror.Pass;\n      },\n\n      innerMode: function (state) {\n        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};\n      }\n    };\n  }, \"xml\", \"javascript\", \"css\");\n\n  CodeMirror.defineMIME(\"text/html\", \"htmlmixed\");\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\da-f]+|o[0-7]+|b[01]+)n?/i)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^\\d*(?:n|(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/]/.test(ch)) {\n        return;\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), className, poplex); }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typeexpr, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, block, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), expression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    if (type == \"import\") return cont(expression);\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"keyof\" ? typeexpr : expressionNoComma)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), commasep(typeprop, \"}\", \",;\"), poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), typeprop)\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(pattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, expect(\")\"), poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, expect(\";\"), forspec2);\n    if (type == \";\") return cont(forspec2);\n    if (type == \"variable\") return cont(formaybeinof);\n    return pass(expression, expect(\";\"), forspec2);\n  }\n  function formaybeinof(_type, value) {\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return cont(maybeoperatorComma, forspec2);\n  }\n  function forspec2(type, value) {\n    if (type == \";\") return cont(forspec3);\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return pass(expression, expect(\";\"), forspec3);\n  }\n  function forspec3(type) {\n    if (type != \")\") cont(expression);\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(isTS ? classfield : functiondef, classBody);\n    }\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), isTS ? classfield : functiondef, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \";\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    return pass(functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    };\n  }\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName;\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","module.exports = undefined","require('../../modules/core.regexp.escape');\nmodule.exports = require('../../modules/_core').RegExp.escape;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var cof = require('./_cof');\nmodule.exports = function (it, msg) {\n  if (typeof it != 'number' && cof(it) != 'Number') throw TypeError(msg);\n  return +it;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar toLength = require('./_to-length');\n\nmodule.exports = function (that, callbackfn, aLen, memo, isRight) {\n  aFunction(callbackfn);\n  var O = toObject(that);\n  var self = IObject(O);\n  var length = toLength(O.length);\n  var index = isRight ? length - 1 : 0;\n  var i = isRight ? -1 : 1;\n  if (aLen < 2) for (;;) {\n    if (index in self) {\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if (isRight ? index < 0 : length <= index) {\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","'use strict';\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\nvar NUMBER = 'number';\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== NUMBER && hint !== 'default') throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = false;\n","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n","// 20.2.2.16 Math.fround(x)\nvar sign = require('./_math-sign');\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = Math.abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n","// https://rwaldron.github.io/proposal-math-extensions/\nmodule.exports = Math.scale || function scale(x, inLow, inHigh, outLow, outHigh) {\n  if (\n    arguments.length === 0\n      // eslint-disable-next-line no-self-compare\n      || x != x\n      // eslint-disable-next-line no-self-compare\n      || inLow != inLow\n      // eslint-disable-next-line no-self-compare\n      || inHigh != inHigh\n      // eslint-disable-next-line no-self-compare\n      || outLow != outLow\n      // eslint-disable-next-line no-self-compare\n      || outHigh != outHigh\n  ) return NaN;\n  if (x === Infinity || x === -Infinity) return x;\n  return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n};\n","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var Map = require('./es6.map');\nvar $export = require('./_export');\nvar shared = require('./_shared')('metadata');\nvar store = shared.store || (shared.store = new (require('./es6.weak-map'))());\n\nvar getOrCreateMetadataMap = function (target, targetKey, create) {\n  var targetMetadata = store.get(target);\n  if (!targetMetadata) {\n    if (!create) return undefined;\n    store.set(target, targetMetadata = new Map());\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if (!keyMetadata) {\n    if (!create) return undefined;\n    targetMetadata.set(targetKey, keyMetadata = new Map());\n  } return keyMetadata;\n};\nvar ordinaryHasOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\nvar ordinaryGetOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\nvar ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) {\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\nvar ordinaryOwnMetadataKeys = function (target, targetKey) {\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false);\n  var keys = [];\n  if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); });\n  return keys;\n};\nvar toMetaKey = function (it) {\n  return it === undefined || typeof it == 'symbol' ? it : String(it);\n};\nvar exp = function (O) {\n  $export($export.S, 'Reflect', O);\n};\n\nmodule.exports = {\n  store: store,\n  map: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  key: toMetaKey,\n  exp: exp\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","'use strict';\n// Forced replacement prototype accessors methods\nmodule.exports = require('./_library') || !require('./_fails')(function () {\n  var K = Math.random();\n  // In FF throws only define methods\n  // eslint-disable-next-line no-undef, no-useless-call\n  __defineSetter__.call(null, K, function () { /* empty */ });\n  delete require('./_global')[K];\n});\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","module.exports = function (regExp, replace) {\n  var replacer = replace === Object(replace) ? function (part) {\n    return replace[part];\n  } : replace;\n  return function (it) {\n    return String(it).replace(regExp, replacer);\n  };\n};\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'\n});\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// https://github.com/benjamingr/RexExp.escape\nvar $export = require('./_export');\nvar $re = require('./_replacer')(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n$export($export.S, 'RegExp', { escape: function escape(it) { return $re(it); } });\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });\n\nrequire('./_add-to-unscopables')('copyWithin');\n","'use strict';\nvar $export = require('./_export');\nvar $every = require('./_array-methods')(4);\n\n$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\nvar $export = require('./_export');\nvar $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {\n  join: function join(separator) {\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */) {\n    var index = 0;\n    var aLen = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(aLen);\n    while (aLen > index) createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar html = require('./_html');\nvar cof = require('./_cof');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * require('./_fails')(function () {\n  if (html) arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end) {\n    var len = toLength(this.length);\n    var klass = cof(this);\n    end = end === undefined ? len : end;\n    if (klass == 'Array') return arraySlice.call(this, begin, end);\n    var start = toAbsoluteIndex(begin, len);\n    var upTo = toAbsoluteIndex(end, len);\n    var size = toLength(upTo - start);\n    var cloned = new Array(size);\n    var i = 0;\n    for (; i < size; i++) cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","require('./_set-species')('Array');\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","var TO_PRIMITIVE = require('./_wks')('toPrimitive');\nvar proto = Date.prototype;\n\nif (!(TO_PRIMITIVE in proto)) require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));\n","var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  require('./_redefine')(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', { bind: require('./_bind') });\n","'use strict';\nvar isObject = require('./_is-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar HAS_INSTANCE = require('./_wks')('hasInstance');\nvar FunctionProto = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif (!(HAS_INSTANCE in FunctionProto)) require('./_object-dp').f(FunctionProto, HAS_INSTANCE, { value: function (O) {\n  if (typeof this != 'function' || !isObject(O)) return false;\n  if (!isObject(this.prototype)) return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n  return false;\n} });\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","// 20.2.2.3 Math.acosh(x)\nvar $export = require('./_export');\nvar log1p = require('./_math-log1p');\nvar sqrt = Math.sqrt;\nvar $acosh = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n","// 20.2.2.5 Math.asinh(x)\nvar $export = require('./_export');\nvar $asinh = Math.asinh;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0\n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });\n","// 20.2.2.7 Math.atanh(x)\nvar $export = require('./_export');\nvar $atanh = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0\n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export');\nvar sign = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n","// 20.2.2.11 Math.clz32(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x) {\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n","// 20.2.2.14 Math.expm1(x)\nvar $export = require('./_export');\nvar $expm1 = require('./_math-expm1');\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });\n","// 20.2.2.16 Math.fround(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { fround: require('./_math-fround') });\n","// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./_export');\nvar $imul = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./_fails')(function () {\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y) {\n    var UINT16 = 0xffff;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","// 20.2.2.20 Math.log1p(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { log1p: require('./_math-log1p') });\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function () {\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x) {\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n","// 20.1.2.2 Number.isFinite(number)\nvar $export = require('./_export');\nvar _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it) {\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","// 20.1.2.5 Number.isSafeInteger(number)\nvar $export = require('./_export');\nvar isInteger = require('./_is-integer');\nvar abs = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n","'use strict';\nvar $export = require('./_export');\nvar toInteger = require('./_to-integer');\nvar aNumberValue = require('./_a-number-value');\nvar repeat = require('./_string-repeat');\nvar $toFixed = 1.0.toFixed;\nvar floor = Math.floor;\nvar data = [0, 0, 0, 0, 0, 0];\nvar ERROR = 'Number.toFixed: incorrect invocation!';\nvar ZERO = '0';\n\nvar multiply = function (n, c) {\n  var i = -1;\n  var c2 = c;\n  while (++i < 6) {\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function (n) {\n  var i = 6;\n  var c = 0;\n  while (--i >= 0) {\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function () {\n  var i = 6;\n  var s = '';\n  while (--i >= 0) {\n    if (s !== '' || i === 0 || data[i] !== 0) {\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !require('./_fails')(function () {\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits) {\n    var x = aNumberValue(this, ERROR);\n    var f = toInteger(fractionDigits);\n    var s = '';\n    var m = ZERO;\n    var e, z, j, k;\n    if (f < 0 || f > 20) throw RangeError(ERROR);\n    // eslint-disable-next-line no-self-compare\n    if (x != x) return 'NaN';\n    if (x <= -1e21 || x >= 1e21) return String(x);\n    if (x < 0) {\n      s = '-';\n      x = -x;\n    }\n    if (x > 1e-21) {\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = f;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if (f > 0) {\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $fails = require('./_fails');\nvar aNumberValue = require('./_a-number-value');\nvar $toPrecision = 1.0.toPrecision;\n\n$export($export.P + $export.F * ($fails(function () {\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function () {\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision) {\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);\n  }\n});\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function () {\n  return require('./_object-gopn-ext').f;\n});\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function ($isExtensible) {\n  return function isExtensible(it) {\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function ($isFrozen) {\n  return function isFrozen(it) {\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function ($isSealed) {\n  return function isSealed(it) {\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', { is: require('./_same-value') });\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function ($preventExtensions) {\n  return function preventExtensions(it) {\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function ($seal) {\n  return function seal(it) {\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar rApply = (require('./_global').Reflect || {}).apply;\nvar fApply = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function () {\n  rApply(function () { /* empty */ });\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList) {\n    var T = aFunction(target);\n    var L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP = require('./_object-dp');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export = require('./_export');\nvar gOPD = require('./_object-gopd').f;\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n","'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar Enumerate = function (iterated) {\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = [];      // keys\n  var key;\n  for (key in iterated) keys.push(key);\n};\nrequire('./_iter-create')(Enumerate, 'Object', function () {\n  var that = this;\n  var keys = that._k;\n  var key;\n  do {\n    if (that._i >= keys.length) return { value: undefined, done: true };\n  } while (!((key = keys[that._i++]) in that._t));\n  return { value: key, done: false };\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target) {\n    return new Enumerate(target);\n  }\n});\n","// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD = require('./_object-gopd');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n","// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export = require('./_export');\nvar getProto = require('./_object-gpo');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return getProto(anObject(target));\n  }\n});\n","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\n\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var desc, proto;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', { get: get });\n","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","// 26.1.10 Reflect.isExtensible(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });\n","// 26.1.12 Reflect.preventExtensions(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      if ($preventExtensions) $preventExtensions(target);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export = require('./_export');\nvar setProto = require('./_set-proto');\n\nif (setProto) $export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP = require('./_object-dp');\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar createDesc = require('./_property-desc');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\n\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDesc = gOPD.f(anObject(target), propertyKey);\n  var existingDescriptor, proto;\n  if (!ownDesc) {\n    if (isObject(proto = getPrototypeOf(target))) {\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if (has(ownDesc, 'value')) {\n    if (ownDesc.writable === false || !isObject(receiver)) return false;\n    if (existingDescriptor = gOPD.f(receiver, propertyKey)) {\n      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;\n      existingDescriptor.value = V;\n      dP.f(receiver, propertyKey, existingDescriptor);\n    } else dP.f(receiver, propertyKey, createDesc(0, V));\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', { set: set });\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n","// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function (createHTML) {\n  return function big() {\n    return createHTML(this, 'big', '', '');\n  };\n});\n","'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function (createHTML) {\n  return function blink() {\n    return createHTML(this, 'blink', '', '');\n  };\n});\n","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function (createHTML) {\n  return function bold() {\n    return createHTML(this, 'b', '', '');\n  };\n});\n","'use strict';\nvar $export = require('./_export');\nvar $at = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos) {\n    return $at(this, pos);\n  }\n});\n","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function (createHTML) {\n  return function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  };\n});\n","'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function (createHTML) {\n  return function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  };\n});\n","var $export = require('./_export');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar fromCharCode = String.fromCharCode;\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var res = [];\n    var aLen = arguments.length;\n    var i = 0;\n    var code;\n    while (aLen > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function (createHTML) {\n  return function italics() {\n    return createHTML(this, 'i', '', '');\n  };\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite) {\n    var tpl = toIObject(callSite.raw);\n    var len = toLength(tpl.length);\n    var aLen = arguments.length;\n    var res = [];\n    var i = 0;\n    while (len > i) {\n      res.push(String(tpl[i++]));\n      if (i < aLen) res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function (createHTML) {\n  return function small() {\n    return createHTML(this, 'small', '', '');\n  };\n});\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function (createHTML) {\n  return function strike() {\n    return createHTML(this, 'strike', '', '');\n  };\n});\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function (createHTML) {\n  return function sup() {\n    return createHTML(this, 'sup', '', '');\n  };\n});\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","'use strict';\nvar $export = require('./_export');\nvar $typed = require('./_typed');\nvar buffer = require('./_typed-buffer');\nvar anObject = require('./_an-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar isObject = require('./_is-object');\nvar ArrayBuffer = require('./_global').ArrayBuffer;\nvar speciesConstructor = require('./_species-constructor');\nvar $ArrayBuffer = buffer.ArrayBuffer;\nvar $DataView = buffer.DataView;\nvar $isView = $typed.ABV && ArrayBuffer.isView;\nvar $slice = $ArrayBuffer.prototype.slice;\nvar VIEW = $typed.VIEW;\nvar ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it) {\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * require('./_fails')(function () {\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end) {\n    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix\n    var len = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, len);\n    var fin = toAbsoluteIndex(end === undefined ? len : end, len);\n    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(fin - first));\n    var viewS = new $DataView(this);\n    var viewT = new $DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\nrequire('./_set-species')(ARRAY_BUFFER);\n","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","'use strict';\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar validate = require('./_validate-collection');\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar tmp = {};\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (fails(function () { return new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7; })) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","'use strict';\nvar weak = require('./_collection-weak');\nvar validate = require('./_validate-collection');\nvar WEAK_SET = 'WeakSet';\n\n// 23.4 WeakSet Objects\nrequire('./_collection')(WEAK_SET, function (get) {\n  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value) {\n    return weak.def(validate(this, WEAK_SET), value, true);\n  }\n}, weak, false, true);\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatten\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatten: function flatten(/* depthArg = 1 */) {\n    var depthArg = arguments[0];\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatten');\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask\nvar $export = require('./_export');\nvar microtask = require('./_microtask')();\nvar process = require('./_global').process;\nvar isNode = require('./_cof')(process) == 'process';\n\n$export($export.G, {\n  asap: function asap(fn) {\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n","// https://github.com/ljharb/proposal-is-error\nvar $export = require('./_export');\nvar cof = require('./_cof');\n\n$export($export.S, 'Error', {\n  isError: function isError(it) {\n    return cof(it) === 'Error';\n  }\n});\n","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.G, { global: require('./_global') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clamp: function clamp(x, lower, upper) {\n    return Math.min(upper, Math.max(lower, x));\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { DEG_PER_RAD: Math.PI / 180 });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar RAD_PER_DEG = 180 / Math.PI;\n\n$export($export.S, 'Math', {\n  degrees: function degrees(radians) {\n    return radians * RAD_PER_DEG;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar scale = require('./_math-scale');\nvar fround = require('./_math-fround');\n\n$export($export.S, 'Math', {\n  fscale: function fscale(x, inLow, inHigh, outLow, outHigh) {\n    return fround(scale(x, inLow, inHigh, outLow, outHigh));\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  iaddh: function iaddh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  imulh: function imulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >> 16;\n    var v1 = $v >> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  isubh: function isubh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { RAD_PER_DEG: 180 / Math.PI });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar DEG_PER_RAD = Math.PI / 180;\n\n$export($export.S, 'Math', {\n  radians: function radians(degrees) {\n    return degrees * DEG_PER_RAD;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { scale: require('./_math-scale') });\n","// http://jfbastien.github.io/papers/Math.signbit.html\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { signbit: function signbit(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) != x ? x : x == 0 ? 1 / x == Infinity : x > 0;\n} });\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  umulh: function umulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >>> 16;\n    var v1 = $v >>> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.2 Object.prototype.__defineGetter__(P, getter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineGetter__: function __defineGetter__(P, getter) {\n    $defineProperty.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.3 Object.prototype.__defineSetter__(P, setter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineSetter__: function __defineSetter__(P, setter) {\n    $defineProperty.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });\n  }\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.4 Object.prototype.__lookupGetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupGetter__: function __lookupGetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.get;\n    } while (O = getPrototypeOf(O));\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.5 Object.prototype.__lookupSetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupSetter__: function __lookupSetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.set;\n    } while (O = getPrototypeOf(O));\n  }\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","'use strict';\n// https://github.com/zenparsing/es-observable\nvar $export = require('./_export');\nvar global = require('./_global');\nvar core = require('./_core');\nvar microtask = require('./_microtask')();\nvar OBSERVABLE = require('./_wks')('observable');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar anInstance = require('./_an-instance');\nvar redefineAll = require('./_redefine-all');\nvar hide = require('./_hide');\nvar forOf = require('./_for-of');\nvar RETURN = forOf.RETURN;\n\nvar getMethod = function (fn) {\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function (subscription) {\n  var cleanup = subscription._c;\n  if (cleanup) {\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function (subscription) {\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function (subscription) {\n  if (!subscriptionClosed(subscription)) {\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function (observer, subscriber) {\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup = subscriber(observer);\n    var subscription = cleanup;\n    if (cleanup != null) {\n      if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); };\n      else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch (e) {\n    observer.error(e);\n    return;\n  } if (subscriptionClosed(this)) cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe() { closeSubscription(this); }\n});\n\nvar SubscriptionObserver = function (subscription) {\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if (m) return m.call(observer, value);\n      } catch (e) {\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value) {\n    var subscription = this._s;\n    if (subscriptionClosed(subscription)) throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if (!m) throw value;\n      value = m.call(observer, value);\n    } catch (e) {\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    } cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch (e) {\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      } cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber) {\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer) {\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn) {\n    var that = this;\n    return new (core.Promise || global.Promise)(function (resolve, reject) {\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next: function (value) {\n          try {\n            return fn(value);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x) {\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if (method) {\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          try {\n            if (forOf(x, false, function (it) {\n              observer.next(it);\n              if (done) return RETURN;\n            }) === RETURN) return;\n          } catch (e) {\n            if (done) throw e;\n            observer.error(e);\n            return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  },\n  of: function of() {\n    for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          for (var j = 0; j < items.length; ++j) {\n            observer.next(items[j]);\n            if (done) return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function () { return this; });\n\n$export($export.G, { Observable: $Observable });\n\nrequire('./_set-species')('Observable');\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({ defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) {\n  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar getOrCreateMetadataMap = metadata.map;\nvar store = metadata.store;\n\nmetadata.exp({ deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) {\n  var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]);\n  var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);\n  if (metadataMap === undefined || !metadataMap['delete'](metadataKey)) return false;\n  if (metadataMap.size) return true;\n  var targetMetadata = store.get(target);\n  targetMetadata['delete'](targetKey);\n  return !!targetMetadata.size || store['delete'](target);\n} });\n","var Set = require('./es6.set');\nvar from = require('./_array-from-iterable');\nvar metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nvar ordinaryMetadataKeys = function (O, P) {\n  var oKeys = ordinaryOwnMetadataKeys(O, P);\n  var parent = getPrototypeOf(O);\n  if (parent === null) return oKeys;\n  var pKeys = ordinaryMetadataKeys(parent, P);\n  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;\n};\n\nmetadata.exp({ getMetadataKeys: function getMetadataKeys(target /* , targetKey */) {\n  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nvar ordinaryGetMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P);\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;\n};\n\nmetadata.exp({ getMetadata: function getMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) {\n  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nvar ordinaryHasMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return true;\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;\n};\n\nmetadata.exp({ hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var $metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar toMetaKey = $metadata.key;\nvar ordinaryDefineOwnMetadata = $metadata.set;\n\n$metadata.exp({ metadata: function metadata(metadataKey, metadataValue) {\n  return function decorator(target, targetKey) {\n    ordinaryDefineOwnMetadata(\n      metadataKey, metadataValue,\n      (targetKey !== undefined ? anObject : aFunction)(target),\n      toMetaKey(targetKey)\n    );\n  };\n} });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","'use strict';\n// https://github.com/mathiasbynens/String.prototype.at\nvar $export = require('./_export');\nvar $at = require('./_string-at')(true);\n\n$export($export.P, 'String', {\n  at: function at(pos) {\n    return $at(this, pos);\n  }\n});\n","'use strict';\n// https://tc39.github.io/String.prototype.matchAll/\nvar $export = require('./_export');\nvar defined = require('./_defined');\nvar toLength = require('./_to-length');\nvar isRegExp = require('./_is-regexp');\nvar getFlags = require('./_flags');\nvar RegExpProto = RegExp.prototype;\n\nvar $RegExpStringIterator = function (regexp, string) {\n  this._r = regexp;\n  this._s = string;\n};\n\nrequire('./_iter-create')($RegExpStringIterator, 'RegExp String', function next() {\n  var match = this._r.exec(this._s);\n  return { value: match, done: match === null };\n});\n\n$export($export.P, 'String', {\n  matchAll: function matchAll(regexp) {\n    defined(this);\n    if (!isRegExp(regexp)) throw TypeError(regexp + ' is not a regexp!');\n    var S = String(this);\n    var flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp);\n    var rx = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);\n    rx.lastIndex = toLength(regexp.lastIndex);\n    return new $RegExpStringIterator(rx, S);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\n$export($export.P + $export.F * /Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(userAgent), 'String', {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\n$export($export.P + $export.F * /Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(userAgent), 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function ($trim) {\n  return function trimRight() {\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.S, 'System', { global: require('./_global') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\nrequire('./_set-collection-from')('WeakMap');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\nrequire('./_set-collection-of')('WeakMap');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.from\nrequire('./_set-collection-from')('WeakSet');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.of\nrequire('./_set-collection-of')('WeakSet');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","var $export = require('./_export');\nvar $task = require('./_task');\n$export($export.G + $export.B, {\n  setImmediate: $task.set,\n  clearImmediate: $task.clear\n});\n","// ie9- setTimeout & setInterval additional parameters fix\nvar global = require('./_global');\nvar $export = require('./_export');\nvar userAgent = require('./_user-agent');\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\nvar wrap = function (set) {\n  return function (fn, time /* , ...args */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : false;\n    return set(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);\n    } : fn, time);\n  };\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout: wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n","require('./modules/es6.symbol');\nrequire('./modules/es6.object.create');\nrequire('./modules/es6.object.define-property');\nrequire('./modules/es6.object.define-properties');\nrequire('./modules/es6.object.get-own-property-descriptor');\nrequire('./modules/es6.object.get-prototype-of');\nrequire('./modules/es6.object.keys');\nrequire('./modules/es6.object.get-own-property-names');\nrequire('./modules/es6.object.freeze');\nrequire('./modules/es6.object.seal');\nrequire('./modules/es6.object.prevent-extensions');\nrequire('./modules/es6.object.is-frozen');\nrequire('./modules/es6.object.is-sealed');\nrequire('./modules/es6.object.is-extensible');\nrequire('./modules/es6.object.assign');\nrequire('./modules/es6.object.is');\nrequire('./modules/es6.object.set-prototype-of');\nrequire('./modules/es6.object.to-string');\nrequire('./modules/es6.function.bind');\nrequire('./modules/es6.function.name');\nrequire('./modules/es6.function.has-instance');\nrequire('./modules/es6.parse-int');\nrequire('./modules/es6.parse-float');\nrequire('./modules/es6.number.constructor');\nrequire('./modules/es6.number.to-fixed');\nrequire('./modules/es6.number.to-precision');\nrequire('./modules/es6.number.epsilon');\nrequire('./modules/es6.number.is-finite');\nrequire('./modules/es6.number.is-integer');\nrequire('./modules/es6.number.is-nan');\nrequire('./modules/es6.number.is-safe-integer');\nrequire('./modules/es6.number.max-safe-integer');\nrequire('./modules/es6.number.min-safe-integer');\nrequire('./modules/es6.number.parse-float');\nrequire('./modules/es6.number.parse-int');\nrequire('./modules/es6.math.acosh');\nrequire('./modules/es6.math.asinh');\nrequire('./modules/es6.math.atanh');\nrequire('./modules/es6.math.cbrt');\nrequire('./modules/es6.math.clz32');\nrequire('./modules/es6.math.cosh');\nrequire('./modules/es6.math.expm1');\nrequire('./modules/es6.math.fround');\nrequire('./modules/es6.math.hypot');\nrequire('./modules/es6.math.imul');\nrequire('./modules/es6.math.log10');\nrequire('./modules/es6.math.log1p');\nrequire('./modules/es6.math.log2');\nrequire('./modules/es6.math.sign');\nrequire('./modules/es6.math.sinh');\nrequire('./modules/es6.math.tanh');\nrequire('./modules/es6.math.trunc');\nrequire('./modules/es6.string.from-code-point');\nrequire('./modules/es6.string.raw');\nrequire('./modules/es6.string.trim');\nrequire('./modules/es6.string.iterator');\nrequire('./modules/es6.string.code-point-at');\nrequire('./modules/es6.string.ends-with');\nrequire('./modules/es6.string.includes');\nrequire('./modules/es6.string.repeat');\nrequire('./modules/es6.string.starts-with');\nrequire('./modules/es6.string.anchor');\nrequire('./modules/es6.string.big');\nrequire('./modules/es6.string.blink');\nrequire('./modules/es6.string.bold');\nrequire('./modules/es6.string.fixed');\nrequire('./modules/es6.string.fontcolor');\nrequire('./modules/es6.string.fontsize');\nrequire('./modules/es6.string.italics');\nrequire('./modules/es6.string.link');\nrequire('./modules/es6.string.small');\nrequire('./modules/es6.string.strike');\nrequire('./modules/es6.string.sub');\nrequire('./modules/es6.string.sup');\nrequire('./modules/es6.date.now');\nrequire('./modules/es6.date.to-json');\nrequire('./modules/es6.date.to-iso-string');\nrequire('./modules/es6.date.to-string');\nrequire('./modules/es6.date.to-primitive');\nrequire('./modules/es6.array.is-array');\nrequire('./modules/es6.array.from');\nrequire('./modules/es6.array.of');\nrequire('./modules/es6.array.join');\nrequire('./modules/es6.array.slice');\nrequire('./modules/es6.array.sort');\nrequire('./modules/es6.array.for-each');\nrequire('./modules/es6.array.map');\nrequire('./modules/es6.array.filter');\nrequire('./modules/es6.array.some');\nrequire('./modules/es6.array.every');\nrequire('./modules/es6.array.reduce');\nrequire('./modules/es6.array.reduce-right');\nrequire('./modules/es6.array.index-of');\nrequire('./modules/es6.array.last-index-of');\nrequire('./modules/es6.array.copy-within');\nrequire('./modules/es6.array.fill');\nrequire('./modules/es6.array.find');\nrequire('./modules/es6.array.find-index');\nrequire('./modules/es6.array.species');\nrequire('./modules/es6.array.iterator');\nrequire('./modules/es6.regexp.constructor');\nrequire('./modules/es6.regexp.to-string');\nrequire('./modules/es6.regexp.flags');\nrequire('./modules/es6.regexp.match');\nrequire('./modules/es6.regexp.replace');\nrequire('./modules/es6.regexp.search');\nrequire('./modules/es6.regexp.split');\nrequire('./modules/es6.promise');\nrequire('./modules/es6.map');\nrequire('./modules/es6.set');\nrequire('./modules/es6.weak-map');\nrequire('./modules/es6.weak-set');\nrequire('./modules/es6.typed.array-buffer');\nrequire('./modules/es6.typed.data-view');\nrequire('./modules/es6.typed.int8-array');\nrequire('./modules/es6.typed.uint8-array');\nrequire('./modules/es6.typed.uint8-clamped-array');\nrequire('./modules/es6.typed.int16-array');\nrequire('./modules/es6.typed.uint16-array');\nrequire('./modules/es6.typed.int32-array');\nrequire('./modules/es6.typed.uint32-array');\nrequire('./modules/es6.typed.float32-array');\nrequire('./modules/es6.typed.float64-array');\nrequire('./modules/es6.reflect.apply');\nrequire('./modules/es6.reflect.construct');\nrequire('./modules/es6.reflect.define-property');\nrequire('./modules/es6.reflect.delete-property');\nrequire('./modules/es6.reflect.enumerate');\nrequire('./modules/es6.reflect.get');\nrequire('./modules/es6.reflect.get-own-property-descriptor');\nrequire('./modules/es6.reflect.get-prototype-of');\nrequire('./modules/es6.reflect.has');\nrequire('./modules/es6.reflect.is-extensible');\nrequire('./modules/es6.reflect.own-keys');\nrequire('./modules/es6.reflect.prevent-extensions');\nrequire('./modules/es6.reflect.set');\nrequire('./modules/es6.reflect.set-prototype-of');\nrequire('./modules/es7.array.includes');\nrequire('./modules/es7.array.flat-map');\nrequire('./modules/es7.array.flatten');\nrequire('./modules/es7.string.at');\nrequire('./modules/es7.string.pad-start');\nrequire('./modules/es7.string.pad-end');\nrequire('./modules/es7.string.trim-left');\nrequire('./modules/es7.string.trim-right');\nrequire('./modules/es7.string.match-all');\nrequire('./modules/es7.symbol.async-iterator');\nrequire('./modules/es7.symbol.observable');\nrequire('./modules/es7.object.get-own-property-descriptors');\nrequire('./modules/es7.object.values');\nrequire('./modules/es7.object.entries');\nrequire('./modules/es7.object.define-getter');\nrequire('./modules/es7.object.define-setter');\nrequire('./modules/es7.object.lookup-getter');\nrequire('./modules/es7.object.lookup-setter');\nrequire('./modules/es7.map.to-json');\nrequire('./modules/es7.set.to-json');\nrequire('./modules/es7.map.of');\nrequire('./modules/es7.set.of');\nrequire('./modules/es7.weak-map.of');\nrequire('./modules/es7.weak-set.of');\nrequire('./modules/es7.map.from');\nrequire('./modules/es7.set.from');\nrequire('./modules/es7.weak-map.from');\nrequire('./modules/es7.weak-set.from');\nrequire('./modules/es7.global');\nrequire('./modules/es7.system.global');\nrequire('./modules/es7.error.is-error');\nrequire('./modules/es7.math.clamp');\nrequire('./modules/es7.math.deg-per-rad');\nrequire('./modules/es7.math.degrees');\nrequire('./modules/es7.math.fscale');\nrequire('./modules/es7.math.iaddh');\nrequire('./modules/es7.math.isubh');\nrequire('./modules/es7.math.imulh');\nrequire('./modules/es7.math.rad-per-deg');\nrequire('./modules/es7.math.radians');\nrequire('./modules/es7.math.scale');\nrequire('./modules/es7.math.umulh');\nrequire('./modules/es7.math.signbit');\nrequire('./modules/es7.promise.finally');\nrequire('./modules/es7.promise.try');\nrequire('./modules/es7.reflect.define-metadata');\nrequire('./modules/es7.reflect.delete-metadata');\nrequire('./modules/es7.reflect.get-metadata');\nrequire('./modules/es7.reflect.get-metadata-keys');\nrequire('./modules/es7.reflect.get-own-metadata');\nrequire('./modules/es7.reflect.get-own-metadata-keys');\nrequire('./modules/es7.reflect.has-metadata');\nrequire('./modules/es7.reflect.has-own-metadata');\nrequire('./modules/es7.reflect.metadata');\nrequire('./modules/es7.asap');\nrequire('./modules/es7.observable');\nrequire('./modules/web.timers');\nrequire('./modules/web.immediate');\nrequire('./modules/web.dom.iterable');\nmodule.exports = require('./modules/_core');\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n"],"sourceRoot":""}